function aM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function f1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ui(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var p1={exports:{}},Fp={},m1={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.element"),lM=Symbol.for("react.portal"),uM=Symbol.for("react.fragment"),cM=Symbol.for("react.strict_mode"),dM=Symbol.for("react.profiler"),hM=Symbol.for("react.provider"),fM=Symbol.for("react.context"),pM=Symbol.for("react.forward_ref"),mM=Symbol.for("react.suspense"),gM=Symbol.for("react.memo"),yM=Symbol.for("react.lazy"),GE=Symbol.iterator;function _M(t){return t===null||typeof t!="object"?null:(t=GE&&t[GE]||t["@@iterator"],typeof t=="function"?t:null)}var g1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y1=Object.assign,_1={};function Vl(t,e,n){this.props=t,this.context=e,this.refs=_1,this.updater=n||g1}Vl.prototype.isReactComponent={};Vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v1(){}v1.prototype=Vl.prototype;function Wv(t,e,n){this.props=t,this.context=e,this.refs=_1,this.updater=n||g1}var Gv=Wv.prototype=new v1;Gv.constructor=Wv;y1(Gv,Vl.prototype);Gv.isPureReactComponent=!0;var HE=Array.isArray,w1=Object.prototype.hasOwnProperty,Hv={current:null},I1={key:!0,ref:!0,__self:!0,__source:!0};function E1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)w1.call(e,r)&&!I1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_d,type:t,key:s,ref:o,props:i,_owner:Hv.current}}function vM(t,e){return{$$typeof:_d,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kv(t){return typeof t=="object"&&t!==null&&t.$$typeof===_d}function wM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KE=/\/+/g;function qg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wM(""+t.key):e.toString(36)}function Qh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _d:case lM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qg(o,0):r,HE(i)?(n="",t!=null&&(n=t.replace(KE,"$&/")+"/"),Qh(i,e,n,"",function(u){return u})):i!=null&&(Kv(i)&&(i=vM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(KE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",HE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+qg(s,a);o+=Qh(s,e,n,l,i)}else if(l=_M(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+qg(s,a++),o+=Qh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ph(t,e,n){if(t==null)return t;var r=[],i=0;return Qh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function IM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},Yh={transition:null},EM={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:Yh,ReactCurrentOwner:Hv};function T1(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:ph,forEach:function(t,e,n){ph(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ph(t,function(){e++}),e},toArray:function(t){return ph(t,function(e){return e})||[]},only:function(t){if(!Kv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Vl;Ie.Fragment=uM;Ie.Profiler=dM;Ie.PureComponent=Wv;Ie.StrictMode=cM;Ie.Suspense=mM;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EM;Ie.act=T1;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=y1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)w1.call(e,l)&&!I1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:_d,type:t.type,key:i,ref:s,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:fM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hM,_context:t},t.Consumer=t};Ie.createElement=E1;Ie.createFactory=function(t){var e=E1.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:pM,render:t}};Ie.isValidElement=Kv;Ie.lazy=function(t){return{$$typeof:yM,_payload:{_status:-1,_result:t},_init:IM}};Ie.memo=function(t,e){return{$$typeof:gM,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Yh.transition;Yh.transition={};try{t()}finally{Yh.transition=e}};Ie.unstable_act=T1;Ie.useCallback=function(t,e){return On.current.useCallback(t,e)};Ie.useContext=function(t){return On.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return On.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return On.current.useEffect(t,e)};Ie.useId=function(){return On.current.useId()};Ie.useImperativeHandle=function(t,e,n){return On.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return On.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return On.current.useReducer(t,e,n)};Ie.useRef=function(t){return On.current.useRef(t)};Ie.useState=function(t){return On.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return On.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return On.current.useTransition()};Ie.version="18.3.1";m1.exports=Ie;var A=m1.exports;const Fr=f1(A),kf=aM({__proto__:null,default:Fr},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TM=A,SM=Symbol.for("react.element"),bM=Symbol.for("react.fragment"),RM=Object.prototype.hasOwnProperty,PM=TM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AM={key:!0,ref:!0,__self:!0,__source:!0};function S1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RM.call(e,r)&&!AM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SM,type:t,key:s,ref:o,props:i,_owner:PM.current}}Fp.Fragment=bM;Fp.jsx=S1;Fp.jsxs=S1;p1.exports=Fp;var F=p1.exports,Ky={},b1={exports:{}},lr={},R1={exports:{}},P1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Q){var ee=B.length;B.push(Q);e:for(;0<ee;){var ve=ee-1>>>1,ue=B[ve];if(0<i(ue,Q))B[ve]=Q,B[ee]=ue,ee=ve;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Q=B[0],ee=B.pop();if(ee!==Q){B[0]=ee;e:for(var ve=0,ue=B.length,he=ue>>>1;ve<he;){var de=2*(ve+1)-1,be=B[de],Re=de+1,Ze=B[Re];if(0>i(be,ee))Re<ue&&0>i(Ze,be)?(B[ve]=Ze,B[Re]=ee,ve=Re):(B[ve]=be,B[de]=ee,ve=de);else if(Re<ue&&0>i(Ze,ee))B[ve]=Ze,B[Re]=ee,ve=Re;else break e}}return Q}function i(B,Q){var ee=B.sortIndex-Q.sortIndex;return ee!==0?ee:B.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,g=!1,v=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=B)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function R(B){if(T=!1,_(B),!v)if(n(l)!==null)v=!0,J(x);else{var Q=n(u);Q!==null&&ne(R,Q.startTime-B)}}function x(B,Q){v=!1,T&&(T=!1,w(E),E=-1),g=!0;var ee=p;try{for(_(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||B&&!N());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,p=h.priorityLevel;var ue=ve(h.expirationTime<=Q);Q=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(l)&&r(l),_(Q)}else r(l);h=n(l)}if(h!==null)var he=!0;else{var de=n(u);de!==null&&ne(R,de.startTime-Q),he=!1}return he}finally{h=null,p=ee,g=!1}}var D=!1,I=null,E=-1,P=5,C=-1;function N(){return!(t.unstable_now()-C<P)}function O(){if(I!==null){var B=t.unstable_now();C=B;var Q=!0;try{Q=I(!0,B)}finally{Q?k():(D=!1,I=null)}}else D=!1}var k;if(typeof y=="function")k=function(){y(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,X=G.port2;G.port1.onmessage=O,k=function(){X.postMessage(null)}}else k=function(){S(O,0)};function J(B){I=B,D||(D=!0,k())}function ne(B,Q){E=S(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,J(x))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var ee=p;p=Q;try{return B()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=p;p=B;try{return Q()}finally{p=ee}},t.unstable_scheduleCallback=function(B,Q,ee){var ve=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ve+ee:ve):ee=ve,B){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ee+ue,B={id:d++,callback:Q,priorityLevel:B,startTime:ee,expirationTime:ue,sortIndex:-1},ee>ve?(B.sortIndex=ee,e(u,B),n(l)===null&&B===n(u)&&(T?(w(E),E=-1):T=!0,ne(R,ee-ve))):(B.sortIndex=ue,e(l,B),v||g||(v=!0,J(x))),B},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(B){var Q=p;return function(){var ee=p;p=Q;try{return B.apply(this,arguments)}finally{p=ee}}}})(P1);R1.exports=P1;var CM=R1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kM=A,or=CM;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A1=new Set,Pc={};function Zo(t,e){ul(t,e),ul(t+"Capture",e)}function ul(t,e){for(Pc[t]=e,t=0;t<e.length;t++)A1.add(e[t])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qy=Object.prototype.hasOwnProperty,xM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QE={},YE={};function NM(t){return Qy.call(YE,t)?!0:Qy.call(QE,t)?!1:xM.test(t)?YE[t]=!0:(QE[t]=!0,!1)}function OM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DM(t,e,n,r){if(e===null||typeof e>"u"||OM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qv=/[\-:]([a-z])/g;function Yv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qv,Yv);an[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qv,Yv);an[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qv,Yv);an[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xv(t,e,n,r){var i=an.hasOwnProperty(e)?an[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DM(e,n,i,r)&&(n=null),r||i===null?NM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $i=kM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mh=Symbol.for("react.element"),ka=Symbol.for("react.portal"),xa=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),Zv=Symbol.for("react.forward_ref"),Xy=Symbol.for("react.suspense"),Jy=Symbol.for("react.suspense_list"),e0=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),x1=Symbol.for("react.offscreen"),XE=Symbol.iterator;function Iu(t){return t===null||typeof t!="object"?null:(t=XE&&t[XE]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Wg;function qu(t){if(Wg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wg=e&&e[1]||""}return`
`+Wg+t}var Gg=!1;function Hg(t,e){if(!t||Gg)return"";Gg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qu(t):""}function MM(t){switch(t.tag){case 5:return qu(t.type);case 16:return qu("Lazy");case 13:return qu("Suspense");case 19:return qu("SuspenseList");case 0:case 2:case 15:return t=Hg(t.type,!1),t;case 11:return t=Hg(t.type.render,!1),t;case 1:return t=Hg(t.type,!0),t;default:return""}}function Zy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xa:return"Fragment";case ka:return"Portal";case Yy:return"Profiler";case Jv:return"StrictMode";case Xy:return"Suspense";case Jy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k1:return(t.displayName||"Context")+".Consumer";case C1:return(t._context.displayName||"Context")+".Provider";case Zv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e0:return e=t.displayName||null,e!==null?e:Zy(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return Zy(t(e))}catch{}}return null}function LM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zy(e);case 8:return e===Jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VM(t){var e=N1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gh(t){t._valueTracker||(t._valueTracker=VM(t))}function O1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function e_(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function JE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D1(t,e){e=e.checked,e!=null&&Xv(t,"checked",e,!1)}function t_(t,e){D1(t,e);var n=Cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?n_(t,e.type,n):e.hasOwnProperty("defaultValue")&&n_(t,e.type,Cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function n_(t,e,n){(e!=="number"||xf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wu=Array.isArray;function Ha(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function r_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Wu(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cs(n)}}function M1(t,e){var n=Cs(e.value),r=Cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yh,V1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yh=yh||document.createElement("div"),yh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ac(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FM=["Webkit","ms","Moz","O"];Object.keys(rc).forEach(function(t){FM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rc[e]=rc[t]})});function F1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rc.hasOwnProperty(t)&&rc[t]?(""+e).trim():e+"px"}function U1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=F1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UM=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s_(t,e){if(e){if(UM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function o_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a_=null;function t0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var l_=null,Ka=null,Qa=null;function nT(t){if(t=Id(t)){if(typeof l_!="function")throw Error(q(280));var e=t.stateNode;e&&(e=jp(e),l_(t.stateNode,t.type,e))}}function $1(t){Ka?Qa?Qa.push(t):Qa=[t]:Ka=t}function B1(){if(Ka){var t=Ka,e=Qa;if(Qa=Ka=null,nT(t),e)for(t=0;t<e.length;t++)nT(e[t])}}function z1(t,e){return t(e)}function j1(){}var Kg=!1;function q1(t,e,n){if(Kg)return t(e,n);Kg=!0;try{return z1(t,e,n)}finally{Kg=!1,(Ka!==null||Qa!==null)&&(j1(),B1())}}function Cc(t,e){var n=t.stateNode;if(n===null)return null;var r=jp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var u_=!1;if(Ni)try{var Eu={};Object.defineProperty(Eu,"passive",{get:function(){u_=!0}}),window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{u_=!1}function $M(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ic=!1,Nf=null,Of=!1,c_=null,BM={onError:function(t){ic=!0,Nf=t}};function zM(t,e,n,r,i,s,o,a,l){ic=!1,Nf=null,$M.apply(BM,arguments)}function jM(t,e,n,r,i,s,o,a,l){if(zM.apply(this,arguments),ic){if(ic){var u=Nf;ic=!1,Nf=null}else throw Error(q(198));Of||(Of=!0,c_=u)}}function ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function W1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rT(t){if(ea(t)!==t)throw Error(q(188))}function qM(t){var e=t.alternate;if(!e){if(e=ea(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rT(i),t;if(s===r)return rT(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function G1(t){return t=qM(t),t!==null?H1(t):null}function H1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H1(t);if(e!==null)return e;t=t.sibling}return null}var K1=or.unstable_scheduleCallback,iT=or.unstable_cancelCallback,WM=or.unstable_shouldYield,GM=or.unstable_requestPaint,At=or.unstable_now,HM=or.unstable_getCurrentPriorityLevel,n0=or.unstable_ImmediatePriority,Q1=or.unstable_UserBlockingPriority,Df=or.unstable_NormalPriority,KM=or.unstable_LowPriority,Y1=or.unstable_IdlePriority,Up=null,oi=null;function QM(t){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot(Up,t,void 0,(t.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:JM,YM=Math.log,XM=Math.LN2;function JM(t){return t>>>=0,t===0?32:31-(YM(t)/XM|0)|0}var _h=64,vh=4194304;function Gu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Gu(a):(s&=o,s!==0&&(r=Gu(s)))}else o=n&~i,o!==0?r=Gu(o):s!==0&&(r=Gu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ur(e),i=1<<n,r|=t[n],e&=~i;return r}function ZM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ur(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ZM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function d_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function X1(){var t=_h;return _h<<=1,!(_h&4194240)&&(_h=64),t}function Qg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ur(e),t[e]=n}function tL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ur(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function r0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function J1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Z1,i0,eP,tP,nP,h_=!1,wh=[],ys=null,_s=null,vs=null,kc=new Map,xc=new Map,ls=[],nL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sT(t,e){switch(t){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(e.pointerId)}}function Tu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Id(e),e!==null&&i0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rL(t,e,n,r,i){switch(e){case"focusin":return ys=Tu(ys,t,e,n,r,i),!0;case"dragenter":return _s=Tu(_s,t,e,n,r,i),!0;case"mouseover":return vs=Tu(vs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return kc.set(s,Tu(kc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xc.set(s,Tu(xc.get(s)||null,t,e,n,r,i)),!0}return!1}function rP(t){var e=yo(t.target);if(e!==null){var n=ea(e);if(n!==null){if(e=n.tag,e===13){if(e=W1(n),e!==null){t.blockedOn=e,nP(t.priority,function(){eP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=f_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);a_=r,n.target.dispatchEvent(r),a_=null}else return e=Id(n),e!==null&&i0(e),t.blockedOn=n,!1;e.shift()}return!0}function oT(t,e,n){Xh(t)&&n.delete(e)}function iL(){h_=!1,ys!==null&&Xh(ys)&&(ys=null),_s!==null&&Xh(_s)&&(_s=null),vs!==null&&Xh(vs)&&(vs=null),kc.forEach(oT),xc.forEach(oT)}function Su(t,e){t.blockedOn===e&&(t.blockedOn=null,h_||(h_=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,iL)))}function Nc(t){function e(i){return Su(i,t)}if(0<wh.length){Su(wh[0],t);for(var n=1;n<wh.length;n++){var r=wh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ys!==null&&Su(ys,t),_s!==null&&Su(_s,t),vs!==null&&Su(vs,t),kc.forEach(e),xc.forEach(e),n=0;n<ls.length;n++)r=ls[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ls.length&&(n=ls[0],n.blockedOn===null);)rP(n),n.blockedOn===null&&ls.shift()}var Ya=$i.ReactCurrentBatchConfig,Lf=!0;function sL(t,e,n,r){var i=Ve,s=Ya.transition;Ya.transition=null;try{Ve=1,s0(t,e,n,r)}finally{Ve=i,Ya.transition=s}}function oL(t,e,n,r){var i=Ve,s=Ya.transition;Ya.transition=null;try{Ve=4,s0(t,e,n,r)}finally{Ve=i,Ya.transition=s}}function s0(t,e,n,r){if(Lf){var i=f_(t,e,n,r);if(i===null)sy(t,e,r,Vf,n),sT(t,r);else if(rL(i,t,e,n,r))r.stopPropagation();else if(sT(t,r),e&4&&-1<nL.indexOf(t)){for(;i!==null;){var s=Id(i);if(s!==null&&Z1(s),s=f_(t,e,n,r),s===null&&sy(t,e,r,Vf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sy(t,e,r,null,n)}}var Vf=null;function f_(t,e,n,r){if(Vf=null,t=t0(r),t=yo(t),t!==null)if(e=ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=W1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vf=t,null}function iP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HM()){case n0:return 1;case Q1:return 4;case Df:case KM:return 16;case Y1:return 536870912;default:return 16}default:return 16}}var hs=null,o0=null,Jh=null;function sP(){if(Jh)return Jh;var t,e=o0,n=e.length,r,i="value"in hs?hs.value:hs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jh=i.slice(t,1<r?1-r:void 0)}function Zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ih(){return!0}function aT(){return!1}function ur(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ih:aT,this.isPropagationStopped=aT,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),e}var Fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a0=ur(Fl),wd=yt({},Fl,{view:0,detail:0}),aL=ur(wd),Yg,Xg,bu,$p=yt({},wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bu&&(bu&&t.type==="mousemove"?(Yg=t.screenX-bu.screenX,Xg=t.screenY-bu.screenY):Xg=Yg=0,bu=t),Yg)},movementY:function(t){return"movementY"in t?t.movementY:Xg}}),lT=ur($p),lL=yt({},$p,{dataTransfer:0}),uL=ur(lL),cL=yt({},wd,{relatedTarget:0}),Jg=ur(cL),dL=yt({},Fl,{animationName:0,elapsedTime:0,pseudoElement:0}),hL=ur(dL),fL=yt({},Fl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pL=ur(fL),mL=yt({},Fl,{data:0}),uT=ur(mL),gL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_L={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_L[t])?!!e[t]:!1}function l0(){return vL}var wL=yt({},wd,{key:function(t){if(t.key){var e=gL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l0,charCode:function(t){return t.type==="keypress"?Zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IL=ur(wL),EL=yt({},$p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cT=ur(EL),TL=yt({},wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l0}),SL=ur(TL),bL=yt({},Fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),RL=ur(bL),PL=yt({},$p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AL=ur(PL),CL=[9,13,27,32],u0=Ni&&"CompositionEvent"in window,sc=null;Ni&&"documentMode"in document&&(sc=document.documentMode);var kL=Ni&&"TextEvent"in window&&!sc,oP=Ni&&(!u0||sc&&8<sc&&11>=sc),dT=String.fromCharCode(32),hT=!1;function aP(t,e){switch(t){case"keyup":return CL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function xL(t,e){switch(t){case"compositionend":return lP(e);case"keypress":return e.which!==32?null:(hT=!0,dT);case"textInput":return t=e.data,t===dT&&hT?null:t;default:return null}}function NL(t,e){if(Na)return t==="compositionend"||!u0&&aP(t,e)?(t=sP(),Jh=o0=hs=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oP&&e.locale!=="ko"?null:e.data;default:return null}}var OL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OL[t.type]:e==="textarea"}function uP(t,e,n,r){$1(r),e=Ff(e,"onChange"),0<e.length&&(n=new a0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oc=null,Oc=null;function DL(t){wP(t,0)}function Bp(t){var e=Ma(t);if(O1(e))return t}function ML(t,e){if(t==="change")return e}var cP=!1;if(Ni){var Zg;if(Ni){var ey="oninput"in document;if(!ey){var pT=document.createElement("div");pT.setAttribute("oninput","return;"),ey=typeof pT.oninput=="function"}Zg=ey}else Zg=!1;cP=Zg&&(!document.documentMode||9<document.documentMode)}function mT(){oc&&(oc.detachEvent("onpropertychange",dP),Oc=oc=null)}function dP(t){if(t.propertyName==="value"&&Bp(Oc)){var e=[];uP(e,Oc,t,t0(t)),q1(DL,e)}}function LL(t,e,n){t==="focusin"?(mT(),oc=e,Oc=n,oc.attachEvent("onpropertychange",dP)):t==="focusout"&&mT()}function VL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bp(Oc)}function FL(t,e){if(t==="click")return Bp(e)}function UL(t,e){if(t==="input"||t==="change")return Bp(e)}function $L(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Br=typeof Object.is=="function"?Object.is:$L;function Dc(t,e){if(Br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qy.call(e,i)||!Br(t[i],e[i]))return!1}return!0}function gT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yT(t,e){var n=gT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gT(n)}}function hP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fP(){for(var t=window,e=xf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xf(t.document)}return e}function c0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BL(t){var e=fP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hP(n.ownerDocument.documentElement,n)){if(r!==null&&c0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=yT(n,s);var o=yT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zL=Ni&&"documentMode"in document&&11>=document.documentMode,Oa=null,p_=null,ac=null,m_=!1;function _T(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;m_||Oa==null||Oa!==xf(r)||(r=Oa,"selectionStart"in r&&c0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ac&&Dc(ac,r)||(ac=r,r=Ff(p_,"onSelect"),0<r.length&&(e=new a0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oa)))}function Eh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Da={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionend:Eh("Transition","TransitionEnd")},ty={},pP={};Ni&&(pP=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function zp(t){if(ty[t])return ty[t];if(!Da[t])return t;var e=Da[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pP)return ty[t]=e[n];return t}var mP=zp("animationend"),gP=zp("animationiteration"),yP=zp("animationstart"),_P=zp("transitionend"),vP=new Map,vT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(t,e){vP.set(t,e),Zo(e,[t])}for(var ny=0;ny<vT.length;ny++){var ry=vT[ny],jL=ry.toLowerCase(),qL=ry[0].toUpperCase()+ry.slice(1);Bs(jL,"on"+qL)}Bs(mP,"onAnimationEnd");Bs(gP,"onAnimationIteration");Bs(yP,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(_P,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hu));function wT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jM(r,e,void 0,t),t.currentTarget=null}function wP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;wT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;wT(i,a,u),s=l}}}if(Of)throw t=c_,Of=!1,c_=null,t}function tt(t,e){var n=e[w_];n===void 0&&(n=e[w_]=new Set);var r=t+"__bubble";n.has(r)||(IP(e,t,2,!1),n.add(r))}function iy(t,e,n){var r=0;e&&(r|=4),IP(n,t,r,e)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Mc(t){if(!t[Th]){t[Th]=!0,A1.forEach(function(n){n!=="selectionchange"&&(WL.has(n)||iy(n,!1,t),iy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Th]||(e[Th]=!0,iy("selectionchange",!1,e))}}function IP(t,e,n,r){switch(iP(e)){case 1:var i=sL;break;case 4:i=oL;break;default:i=s0}n=i.bind(null,e,n,t),i=void 0,!u_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=yo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}q1(function(){var u=s,d=t0(n),h=[];e:{var p=vP.get(t);if(p!==void 0){var g=a0,v=t;switch(t){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":g=IL;break;case"focusin":v="focus",g=Jg;break;case"focusout":v="blur",g=Jg;break;case"beforeblur":case"afterblur":g=Jg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=SL;break;case mP:case gP:case yP:g=hL;break;case _P:g=RL;break;case"scroll":g=aL;break;case"wheel":g=AL;break;case"copy":case"cut":case"paste":g=pL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cT}var T=(e&4)!==0,S=!T&&t==="scroll",w=T?p!==null?p+"Capture":null:p;T=[];for(var y=u,_;y!==null;){_=y;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,w!==null&&(R=Cc(y,w),R!=null&&T.push(Lc(y,R,_)))),S)break;y=y.return}0<T.length&&(p=new g(p,v,null,n,d),h.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==a_&&(v=n.relatedTarget||n.fromElement)&&(yo(v)||v[Oi]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?yo(v):null,v!==null&&(S=ea(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(T=lT,R="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=cT,R="onPointerLeave",w="onPointerEnter",y="pointer"),S=g==null?p:Ma(g),_=v==null?p:Ma(v),p=new T(R,y+"leave",g,n,d),p.target=S,p.relatedTarget=_,R=null,yo(d)===u&&(T=new T(w,y+"enter",v,n,d),T.target=_,T.relatedTarget=S,R=T),S=R,g&&v)t:{for(T=g,w=v,y=0,_=T;_;_=da(_))y++;for(_=0,R=w;R;R=da(R))_++;for(;0<y-_;)T=da(T),y--;for(;0<_-y;)w=da(w),_--;for(;y--;){if(T===w||w!==null&&T===w.alternate)break t;T=da(T),w=da(w)}T=null}else T=null;g!==null&&IT(h,p,g,T,!1),v!==null&&S!==null&&IT(h,S,v,T,!0)}}e:{if(p=u?Ma(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var x=ML;else if(fT(p))if(cP)x=UL;else{x=VL;var D=LL}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=FL);if(x&&(x=x(t,u))){uP(h,x,n,d);break e}D&&D(t,p,u),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&n_(p,"number",p.value)}switch(D=u?Ma(u):window,t){case"focusin":(fT(D)||D.contentEditable==="true")&&(Oa=D,p_=u,ac=null);break;case"focusout":ac=p_=Oa=null;break;case"mousedown":m_=!0;break;case"contextmenu":case"mouseup":case"dragend":m_=!1,_T(h,n,d);break;case"selectionchange":if(zL)break;case"keydown":case"keyup":_T(h,n,d)}var I;if(u0)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Na?aP(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(oP&&n.locale!=="ko"&&(Na||E!=="onCompositionStart"?E==="onCompositionEnd"&&Na&&(I=sP()):(hs=d,o0="value"in hs?hs.value:hs.textContent,Na=!0)),D=Ff(u,E),0<D.length&&(E=new uT(E,t,null,n,d),h.push({event:E,listeners:D}),I?E.data=I:(I=lP(n),I!==null&&(E.data=I)))),(I=kL?xL(t,n):NL(t,n))&&(u=Ff(u,"onBeforeInput"),0<u.length&&(d=new uT("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}wP(h,e)})}function Lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cc(t,n),s!=null&&r.unshift(Lc(t,s,i)),s=Cc(t,e),s!=null&&r.push(Lc(t,s,i))),t=t.return}return r}function da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function IT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Cc(n,s),l!=null&&o.unshift(Lc(n,l,a))):i||(l=Cc(n,s),l!=null&&o.push(Lc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var GL=/\r\n?/g,HL=/\u0000|\uFFFD/g;function ET(t){return(typeof t=="string"?t:""+t).replace(GL,`
`).replace(HL,"")}function Sh(t,e,n){if(e=ET(e),ET(t)!==e&&n)throw Error(q(425))}function Uf(){}var g_=null,y_=null;function __(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var v_=typeof setTimeout=="function"?setTimeout:void 0,KL=typeof clearTimeout=="function"?clearTimeout:void 0,TT=typeof Promise=="function"?Promise:void 0,QL=typeof queueMicrotask=="function"?queueMicrotask:typeof TT<"u"?function(t){return TT.resolve(null).then(t).catch(YL)}:v_;function YL(t){setTimeout(function(){throw t})}function oy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nc(e)}function ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ST(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ul=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Ul,Vc="__reactProps$"+Ul,Oi="__reactContainer$"+Ul,w_="__reactEvents$"+Ul,XL="__reactListeners$"+Ul,JL="__reactHandles$"+Ul;function yo(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ST(t);t!==null;){if(n=t[Xr])return n;t=ST(t)}return e}t=n,n=t.parentNode}return null}function Id(t){return t=t[Xr]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function jp(t){return t[Vc]||null}var I_=[],La=-1;function zs(t){return{current:t}}function rt(t){0>La||(t.current=I_[La],I_[La]=null,La--)}function Qe(t,e){La++,I_[La]=t.current,t.current=e}var ks={},_n=zs(ks),Wn=zs(!1),xo=ks;function cl(t,e){var n=t.type.contextTypes;if(!n)return ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gn(t){return t=t.childContextTypes,t!=null}function $f(){rt(Wn),rt(_n)}function bT(t,e,n){if(_n.current!==ks)throw Error(q(168));Qe(_n,e),Qe(Wn,n)}function EP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,LM(t)||"Unknown",i));return yt({},n,r)}function Bf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ks,xo=_n.current,Qe(_n,t),Qe(Wn,Wn.current),!0}function RT(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=EP(t,e,xo),r.__reactInternalMemoizedMergedChildContext=t,rt(Wn),rt(_n),Qe(_n,t)):rt(Wn),Qe(Wn,n)}var wi=null,qp=!1,ay=!1;function TP(t){wi===null?wi=[t]:wi.push(t)}function ZL(t){qp=!0,TP(t)}function js(){if(!ay&&wi!==null){ay=!0;var t=0,e=Ve;try{var n=wi;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wi=null,qp=!1}catch(i){throw wi!==null&&(wi=wi.slice(t+1)),K1(n0,js),i}finally{Ve=e,ay=!1}}return null}var Va=[],Fa=0,zf=null,jf=0,gr=[],yr=0,No=null,Ti=1,Si="";function so(t,e){Va[Fa++]=jf,Va[Fa++]=zf,zf=t,jf=e}function SP(t,e,n){gr[yr++]=Ti,gr[yr++]=Si,gr[yr++]=No,No=t;var r=Ti;t=Si;var i=32-Ur(r)-1;r&=~(1<<i),n+=1;var s=32-Ur(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ti=1<<32-Ur(e)+i|n<<i|r,Si=s+t}else Ti=1<<s|n<<i|r,Si=t}function d0(t){t.return!==null&&(so(t,1),SP(t,1,0))}function h0(t){for(;t===zf;)zf=Va[--Fa],Va[Fa]=null,jf=Va[--Fa],Va[Fa]=null;for(;t===No;)No=gr[--yr],gr[yr]=null,Si=gr[--yr],gr[yr]=null,Ti=gr[--yr],gr[yr]=null}var nr=null,er=null,lt=!1,Vr=null;function bP(t,e){var n=vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function PT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nr=t,er=ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nr=t,er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=No!==null?{id:Ti,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nr=t,er=null,!0):!1;default:return!1}}function E_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function T_(t){if(lt){var e=er;if(e){var n=e;if(!PT(t,e)){if(E_(t))throw Error(q(418));e=ws(n.nextSibling);var r=nr;e&&PT(t,e)?bP(r,n):(t.flags=t.flags&-4097|2,lt=!1,nr=t)}}else{if(E_(t))throw Error(q(418));t.flags=t.flags&-4097|2,lt=!1,nr=t}}}function AT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nr=t}function bh(t){if(t!==nr)return!1;if(!lt)return AT(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!__(t.type,t.memoizedProps)),e&&(e=er)){if(E_(t))throw RP(),Error(q(418));for(;e;)bP(t,e),e=ws(e.nextSibling)}if(AT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){er=ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}er=null}}else er=nr?ws(t.stateNode.nextSibling):null;return!0}function RP(){for(var t=er;t;)t=ws(t.nextSibling)}function dl(){er=nr=null,lt=!1}function f0(t){Vr===null?Vr=[t]:Vr.push(t)}var eV=$i.ReactCurrentBatchConfig;function Ru(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Rh(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CT(t){var e=t._init;return e(t._payload)}function PP(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=Ss(w,y),w.index=0,w.sibling=null,w}function s(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,_,R){return y===null||y.tag!==6?(y=py(_,w.mode,R),y.return=w,y):(y=i(y,_),y.return=w,y)}function l(w,y,_,R){var x=_.type;return x===xa?d(w,y,_.props.children,R,_.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===os&&CT(x)===y.type)?(R=i(y,_.props),R.ref=Ru(w,y,_),R.return=w,R):(R=af(_.type,_.key,_.props,null,w.mode,R),R.ref=Ru(w,y,_),R.return=w,R)}function u(w,y,_,R){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=my(_,w.mode,R),y.return=w,y):(y=i(y,_.children||[]),y.return=w,y)}function d(w,y,_,R,x){return y===null||y.tag!==7?(y=Ro(_,w.mode,R,x),y.return=w,y):(y=i(y,_),y.return=w,y)}function h(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=py(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mh:return _=af(y.type,y.key,y.props,null,w.mode,_),_.ref=Ru(w,null,y),_.return=w,_;case ka:return y=my(y,w.mode,_),y.return=w,y;case os:var R=y._init;return h(w,R(y._payload),_)}if(Wu(y)||Iu(y))return y=Ro(y,w.mode,_,null),y.return=w,y;Rh(w,y)}return null}function p(w,y,_,R){var x=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(w,y,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mh:return _.key===x?l(w,y,_,R):null;case ka:return _.key===x?u(w,y,_,R):null;case os:return x=_._init,p(w,y,x(_._payload),R)}if(Wu(_)||Iu(_))return x!==null?null:d(w,y,_,R,null);Rh(w,_)}return null}function g(w,y,_,R,x){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(_)||null,a(y,w,""+R,x);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case mh:return w=w.get(R.key===null?_:R.key)||null,l(y,w,R,x);case ka:return w=w.get(R.key===null?_:R.key)||null,u(y,w,R,x);case os:var D=R._init;return g(w,y,_,D(R._payload),x)}if(Wu(R)||Iu(R))return w=w.get(_)||null,d(y,w,R,x,null);Rh(y,R)}return null}function v(w,y,_,R){for(var x=null,D=null,I=y,E=y=0,P=null;I!==null&&E<_.length;E++){I.index>E?(P=I,I=null):P=I.sibling;var C=p(w,I,_[E],R);if(C===null){I===null&&(I=P);break}t&&I&&C.alternate===null&&e(w,I),y=s(C,y,E),D===null?x=C:D.sibling=C,D=C,I=P}if(E===_.length)return n(w,I),lt&&so(w,E),x;if(I===null){for(;E<_.length;E++)I=h(w,_[E],R),I!==null&&(y=s(I,y,E),D===null?x=I:D.sibling=I,D=I);return lt&&so(w,E),x}for(I=r(w,I);E<_.length;E++)P=g(I,w,E,_[E],R),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?E:P.key),y=s(P,y,E),D===null?x=P:D.sibling=P,D=P);return t&&I.forEach(function(N){return e(w,N)}),lt&&so(w,E),x}function T(w,y,_,R){var x=Iu(_);if(typeof x!="function")throw Error(q(150));if(_=x.call(_),_==null)throw Error(q(151));for(var D=x=null,I=y,E=y=0,P=null,C=_.next();I!==null&&!C.done;E++,C=_.next()){I.index>E?(P=I,I=null):P=I.sibling;var N=p(w,I,C.value,R);if(N===null){I===null&&(I=P);break}t&&I&&N.alternate===null&&e(w,I),y=s(N,y,E),D===null?x=N:D.sibling=N,D=N,I=P}if(C.done)return n(w,I),lt&&so(w,E),x;if(I===null){for(;!C.done;E++,C=_.next())C=h(w,C.value,R),C!==null&&(y=s(C,y,E),D===null?x=C:D.sibling=C,D=C);return lt&&so(w,E),x}for(I=r(w,I);!C.done;E++,C=_.next())C=g(I,w,E,C.value,R),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?E:C.key),y=s(C,y,E),D===null?x=C:D.sibling=C,D=C);return t&&I.forEach(function(O){return e(w,O)}),lt&&so(w,E),x}function S(w,y,_,R){if(typeof _=="object"&&_!==null&&_.type===xa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case mh:e:{for(var x=_.key,D=y;D!==null;){if(D.key===x){if(x=_.type,x===xa){if(D.tag===7){n(w,D.sibling),y=i(D,_.props.children),y.return=w,w=y;break e}}else if(D.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===os&&CT(x)===D.type){n(w,D.sibling),y=i(D,_.props),y.ref=Ru(w,D,_),y.return=w,w=y;break e}n(w,D);break}else e(w,D);D=D.sibling}_.type===xa?(y=Ro(_.props.children,w.mode,R,_.key),y.return=w,w=y):(R=af(_.type,_.key,_.props,null,w.mode,R),R.ref=Ru(w,y,_),R.return=w,w=R)}return o(w);case ka:e:{for(D=_.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(w,y.sibling),y=i(y,_.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=my(_,w.mode,R),y.return=w,w=y}return o(w);case os:return D=_._init,S(w,y,D(_._payload),R)}if(Wu(_))return v(w,y,_,R);if(Iu(_))return T(w,y,_,R);Rh(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,_),y.return=w,w=y):(n(w,y),y=py(_,w.mode,R),y.return=w,w=y),o(w)):n(w,y)}return S}var hl=PP(!0),AP=PP(!1),qf=zs(null),Wf=null,Ua=null,p0=null;function m0(){p0=Ua=Wf=null}function g0(t){var e=qf.current;rt(qf),t._currentValue=e}function S_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xa(t,e){Wf=t,p0=Ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bn=!0),t.firstContext=null)}function Sr(t){var e=t._currentValue;if(p0!==t)if(t={context:t,memoizedValue:e,next:null},Ua===null){if(Wf===null)throw Error(q(308));Ua=t,Wf.dependencies={lanes:0,firstContext:t}}else Ua=Ua.next=t;return e}var _o=null;function y0(t){_o===null?_o=[t]:_o.push(t)}function CP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,y0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Di(t,r)}function Di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var as=!1;function _0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Di(t,n)}return i=r.interleaved,i===null?(e.next=e,y0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Di(t,n)}function ef(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r0(t,n)}}function kT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gf(t,e,n,r){var i=t.updateQueue;as=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,T=a;switch(p=e,g=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){h=v.call(g,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,p=typeof v=="function"?v.call(g,h,p):v,p==null)break e;h=yt({},h,p);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Do|=o,t.lanes=o,t.memoizedState=h}}function xT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Ed={},ai=zs(Ed),Fc=zs(Ed),Uc=zs(Ed);function vo(t){if(t===Ed)throw Error(q(174));return t}function v0(t,e){switch(Qe(Uc,e),Qe(Fc,t),Qe(ai,Ed),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:i_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=i_(e,t)}rt(ai),Qe(ai,e)}function fl(){rt(ai),rt(Fc),rt(Uc)}function xP(t){vo(Uc.current);var e=vo(ai.current),n=i_(e,t.type);e!==n&&(Qe(Fc,t),Qe(ai,n))}function w0(t){Fc.current===t&&(rt(ai),rt(Fc))}var ft=zs(0);function Hf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ly=[];function I0(){for(var t=0;t<ly.length;t++)ly[t]._workInProgressVersionPrimary=null;ly.length=0}var tf=$i.ReactCurrentDispatcher,uy=$i.ReactCurrentBatchConfig,Oo=0,pt=null,Ut=null,qt=null,Kf=!1,lc=!1,$c=0,tV=0;function hn(){throw Error(q(321))}function E0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Br(t[n],e[n]))return!1;return!0}function T0(t,e,n,r,i,s){if(Oo=s,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tf.current=t===null||t.memoizedState===null?sV:oV,t=n(r,i),lc){s=0;do{if(lc=!1,$c=0,25<=s)throw Error(q(301));s+=1,qt=Ut=null,e.updateQueue=null,tf.current=aV,t=n(r,i)}while(lc)}if(tf.current=Qf,e=Ut!==null&&Ut.next!==null,Oo=0,qt=Ut=pt=null,Kf=!1,e)throw Error(q(300));return t}function S0(){var t=$c!==0;return $c=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?pt.memoizedState=qt=t:qt=qt.next=t,qt}function br(){if(Ut===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=qt===null?pt.memoizedState:qt.next;if(e!==null)qt=e,Ut=t;else{if(t===null)throw Error(q(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},qt===null?pt.memoizedState=qt=t:qt=qt.next=t}return qt}function Bc(t,e){return typeof e=="function"?e(t):e}function cy(t){var e=br(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Oo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,pt.lanes|=d,Do|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Br(r,e.memoizedState)||(Bn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pt.lanes|=s,Do|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dy(t){var e=br(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Br(s,e.memoizedState)||(Bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function NP(){}function OP(t,e){var n=pt,r=br(),i=e(),s=!Br(r.memoizedState,i);if(s&&(r.memoizedState=i,Bn=!0),r=r.queue,b0(LP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,zc(9,MP.bind(null,n,r,i,e),void 0,null),Gt===null)throw Error(q(349));Oo&30||DP(n,e,i)}return i}function DP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MP(t,e,n,r){e.value=n,e.getSnapshot=r,VP(e)&&FP(t)}function LP(t,e,n){return n(function(){VP(e)&&FP(t)})}function VP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Br(t,n)}catch{return!0}}function FP(t){var e=Di(t,1);e!==null&&$r(e,t,1,-1)}function NT(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=iV.bind(null,pt,t),[e.memoizedState,t]}function zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UP(){return br().memoizedState}function nf(t,e,n,r){var i=Kr();pt.flags|=t,i.memoizedState=zc(1|e,n,void 0,r===void 0?null:r)}function Wp(t,e,n,r){var i=br();r=r===void 0?null:r;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,r!==null&&E0(r,o.deps)){i.memoizedState=zc(e,n,s,r);return}}pt.flags|=t,i.memoizedState=zc(1|e,n,s,r)}function OT(t,e){return nf(8390656,8,t,e)}function b0(t,e){return Wp(2048,8,t,e)}function $P(t,e){return Wp(4,2,t,e)}function BP(t,e){return Wp(4,4,t,e)}function zP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jP(t,e,n){return n=n!=null?n.concat([t]):null,Wp(4,4,zP.bind(null,e,t),n)}function R0(){}function qP(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WP(t,e){var n=br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GP(t,e,n){return Oo&21?(Br(n,e)||(n=X1(),pt.lanes|=n,Do|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bn=!0),t.memoizedState=n)}function nV(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=uy.transition;uy.transition={};try{t(!1),e()}finally{Ve=n,uy.transition=r}}function HP(){return br().memoizedState}function rV(t,e,n){var r=Ts(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KP(t))QP(e,n);else if(n=CP(t,e,n,r),n!==null){var i=Pn();$r(n,t,r,i),YP(n,e,r)}}function iV(t,e,n){var r=Ts(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KP(t))QP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Br(a,o)){var l=e.interleaved;l===null?(i.next=i,y0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=CP(t,e,i,r),n!==null&&(i=Pn(),$r(n,t,r,i),YP(n,e,r))}}function KP(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function QP(t,e){lc=Kf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r0(t,n)}}var Qf={readContext:Sr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},sV={readContext:Sr,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:Sr,useEffect:OT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nf(4194308,4,zP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return nf(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rV.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:NT,useDebugValue:R0,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=NT(!1),e=t[0];return t=nV.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=Kr();if(lt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Gt===null)throw Error(q(349));Oo&30||DP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,OT(LP.bind(null,r,s,t),[t]),r.flags|=2048,zc(9,MP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kr(),e=Gt.identifierPrefix;if(lt){var n=Si,r=Ti;n=(r&~(1<<32-Ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oV={readContext:Sr,useCallback:qP,useContext:Sr,useEffect:b0,useImperativeHandle:jP,useInsertionEffect:$P,useLayoutEffect:BP,useMemo:WP,useReducer:cy,useRef:UP,useState:function(){return cy(Bc)},useDebugValue:R0,useDeferredValue:function(t){var e=br();return GP(e,Ut.memoizedState,t)},useTransition:function(){var t=cy(Bc)[0],e=br().memoizedState;return[t,e]},useMutableSource:NP,useSyncExternalStore:OP,useId:HP,unstable_isNewReconciler:!1},aV={readContext:Sr,useCallback:qP,useContext:Sr,useEffect:b0,useImperativeHandle:jP,useInsertionEffect:$P,useLayoutEffect:BP,useMemo:WP,useReducer:dy,useRef:UP,useState:function(){return dy(Bc)},useDebugValue:R0,useDeferredValue:function(t){var e=br();return Ut===null?e.memoizedState=t:GP(e,Ut.memoizedState,t)},useTransition:function(){var t=dy(Bc)[0],e=br().memoizedState;return[t,e]},useMutableSource:NP,useSyncExternalStore:OP,useId:HP,unstable_isNewReconciler:!1};function Mr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function b_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gp={isMounted:function(t){return(t=t._reactInternals)?ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=Ts(t),s=Ci(r,i);s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&($r(e,t,i,r),ef(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=Ts(t),s=Ci(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&($r(e,t,i,r),ef(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pn(),r=Ts(t),i=Ci(n,r);i.tag=2,e!=null&&(i.callback=e),e=Is(t,i,r),e!==null&&($r(e,t,r,n),ef(e,t,r))}};function DT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dc(n,r)||!Dc(i,s):!0}function XP(t,e,n){var r=!1,i=ks,s=e.contextType;return typeof s=="object"&&s!==null?s=Sr(s):(i=Gn(e)?xo:_n.current,r=e.contextTypes,s=(r=r!=null)?cl(t,i):ks),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function MT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gp.enqueueReplaceState(e,e.state,null)}function R_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Sr(s):(s=Gn(e)?xo:_n.current,i.context=cl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(b_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gp.enqueueReplaceState(i,i.state,null),Gf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pl(t,e){try{var n="",r=e;do n+=MM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function P_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lV=typeof WeakMap=="function"?WeakMap:Map;function JP(t,e,n){n=Ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xf||(Xf=!0,V_=r),P_(t,e)},n}function ZP(t,e,n){n=Ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){P_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){P_(t,e),typeof r!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function LT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=EV.bind(null,t,e,n),e.then(t,t))}function VT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ci(-1,1),e.tag=2,Is(n,e,1))),n.lanes|=1),t)}var uV=$i.ReactCurrentOwner,Bn=!1;function Tn(t,e,n,r){e.child=t===null?AP(e,null,n,r):hl(e,t.child,n,r)}function UT(t,e,n,r,i){n=n.render;var s=e.ref;return Xa(e,i),r=T0(t,e,n,r,s,i),n=S0(),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(lt&&n&&d0(e),e.flags|=1,Tn(t,e,r,i),e.child)}function $T(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!D0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,eA(t,e,s,r,i)):(t=af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dc,n(o,r)&&t.ref===e.ref)return Mi(t,e,i)}return e.flags|=1,t=Ss(s,r),t.ref=e.ref,t.return=e,e.child=t}function eA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dc(s,r)&&t.ref===e.ref)if(Bn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Bn=!0);else return e.lanes=t.lanes,Mi(t,e,i)}return A_(t,e,n,r,i)}function tA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ba,Xn),Xn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Ba,Xn),Xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qe(Ba,Xn),Xn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qe(Ba,Xn),Xn|=r;return Tn(t,e,i,n),e.child}function nA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function A_(t,e,n,r,i){var s=Gn(n)?xo:_n.current;return s=cl(e,s),Xa(e,i),n=T0(t,e,n,r,s,i),r=S0(),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(lt&&r&&d0(e),e.flags|=1,Tn(t,e,n,i),e.child)}function BT(t,e,n,r,i){if(Gn(n)){var s=!0;Bf(e)}else s=!1;if(Xa(e,i),e.stateNode===null)rf(t,e),XP(e,n,r),R_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Sr(u):(u=Gn(n)?xo:_n.current,u=cl(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&MT(e,o,r,u),as=!1;var p=e.memoizedState;o.state=p,Gf(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Wn.current||as?(typeof d=="function"&&(b_(e,n,d,r),l=e.memoizedState),(a=as||DT(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kP(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mr(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Sr(l):(l=Gn(n)?xo:_n.current,l=cl(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&MT(e,o,r,l),as=!1,p=e.memoizedState,o.state=p,Gf(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||Wn.current||as?(typeof g=="function"&&(b_(e,n,g,r),v=e.memoizedState),(u=as||DT(e,n,u,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return C_(t,e,n,r,s,i)}function C_(t,e,n,r,i,s){nA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&RT(e,n,!1),Mi(t,e,s);r=e.stateNode,uV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hl(e,t.child,null,s),e.child=hl(e,null,a,s)):Tn(t,e,a,s),e.memoizedState=r.state,i&&RT(e,n,!0),e.child}function rA(t){var e=t.stateNode;e.pendingContext?bT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bT(t,e.context,!1),v0(t,e.containerInfo)}function zT(t,e,n,r,i){return dl(),f0(i),e.flags|=256,Tn(t,e,n,r),e.child}var k_={dehydrated:null,treeContext:null,retryLane:0};function x_(t){return{baseLanes:t,cachePool:null,transitions:null}}function iA(t,e,n){var r=e.pendingProps,i=ft.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(ft,i&1),t===null)return T_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qp(o,r,0,null),t=Ro(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=x_(n),e.memoizedState=k_,t):P0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ss(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ss(a,s):(s=Ro(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?x_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=k_,r}return s=t.child,t=s.sibling,r=Ss(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function P0(t,e){return e=Qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,n,r){return r!==null&&f0(r),hl(e,t.child,null,n),t=P0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=hy(Error(q(422))),Ph(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Qp({mode:"visible",children:r.children},i,0,null),s=Ro(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&hl(e,t.child,null,o),e.child.memoizedState=x_(o),e.memoizedState=k_,s);if(!(e.mode&1))return Ph(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=hy(s,r,void 0),Ph(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bn||a){if(r=Gt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Di(t,i),$r(r,t,i,-1))}return O0(),r=hy(Error(q(421))),Ph(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,er=ws(i.nextSibling),nr=e,lt=!0,Vr=null,t!==null&&(gr[yr++]=Ti,gr[yr++]=Si,gr[yr++]=No,Ti=t.id,Si=t.overflow,No=e),e=P0(e,r.children),e.flags|=4096,e)}function jT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),S_(t.return,e,n)}function fy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Tn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jT(t,n,e);else if(t.tag===19)jT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fy(e,!0,n,null,s);break;case"together":fy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Do|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dV(t,e,n){switch(e.tag){case 3:rA(e),dl();break;case 5:xP(e);break;case 1:Gn(e.type)&&Bf(e);break;case 4:v0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(qf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?iA(t,e,n):(Qe(ft,ft.current&1),t=Mi(t,e,n),t!==null?t.sibling:null);Qe(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,tA(t,e,n)}return Mi(t,e,n)}var oA,N_,aA,lA;oA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};N_=function(){};aA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vo(ai.current);var s=null;switch(n){case"input":i=e_(t,i),r=e_(t,r),s=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),s=[];break;case"textarea":i=r_(t,i),r=r_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uf)}s_(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};lA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pu(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hV(t,e,n){var r=e.pendingProps;switch(h0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return Gn(e.type)&&$f(),fn(e),null;case 3:return r=e.stateNode,fl(),rt(Wn),rt(_n),I0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vr!==null&&($_(Vr),Vr=null))),N_(t,e),fn(e),null;case 5:w0(e);var i=vo(Uc.current);if(n=e.type,t!==null&&e.stateNode!=null)aA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return fn(e),null}if(t=vo(ai.current),bh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xr]=e,r[Vc]=s,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<Hu.length;i++)tt(Hu[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":JE(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":eT(r,s),tt("invalid",r)}s_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sh(r.textContent,a,t),i=["children",""+a]):Pc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":gh(r),ZE(r,s,!0);break;case"textarea":gh(r),tT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Uf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xr]=e,t[Vc]=r,oA(t,e,!1,!1),e.stateNode=t;e:{switch(o=o_(n,r),n){case"dialog":tt("cancel",t),tt("close",t),i=r;break;case"iframe":case"object":case"embed":tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hu.length;i++)tt(Hu[i],t);i=r;break;case"source":tt("error",t),i=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=r;break;case"details":tt("toggle",t),i=r;break;case"input":JE(t,r),i=e_(t,r),tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),tt("invalid",t);break;case"textarea":eT(t,r),i=r_(t,r),tt("invalid",t);break;default:i=r}s_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?U1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ac(t,l):typeof l=="number"&&Ac(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tt("scroll",t):l!=null&&Xv(t,s,l,o))}switch(n){case"input":gh(t),ZE(t,r,!1);break;case"textarea":gh(t),tT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ha(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ha(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)lA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=vo(Uc.current),vo(ai.current),bh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(s=r.nodeValue!==n)&&(t=nr,t!==null))switch(t.tag){case 3:Sh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return fn(e),null;case 13:if(rt(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&er!==null&&e.mode&1&&!(e.flags&128))RP(),dl(),e.flags|=98560,s=!1;else if(s=bh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Xr]=e}else dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),s=!1}else Vr!==null&&($_(Vr),Vr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?$t===0&&($t=3):O0())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return fl(),N_(t,e),t===null&&Mc(e.stateNode.containerInfo),fn(e),null;case 10:return g0(e.type._context),fn(e),null;case 17:return Gn(e.type)&&$f(),fn(e),null;case 19:if(rt(ft),s=e.memoizedState,s===null)return fn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Pu(s,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hf(t),o!==null){for(e.flags|=128,Pu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(ft,ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>ml&&(e.flags|=128,r=!0,Pu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lt)return fn(e),null}else 2*At()-s.renderingStartTime>ml&&n!==1073741824&&(e.flags|=128,r=!0,Pu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,n=ft.current,Qe(ft,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return N0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xn&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function fV(t,e){switch(h0(e),e.tag){case 1:return Gn(e.type)&&$f(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),rt(Wn),rt(_n),I0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return w0(e),null;case 13:if(rt(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(ft),null;case 4:return fl(),null;case 10:return g0(e.type._context),null;case 22:case 23:return N0(),null;case 24:return null;default:return null}}var Ah=!1,gn=!1,pV=typeof WeakSet=="function"?WeakSet:Set,te=null;function $a(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function O_(t,e,n){try{n()}catch(r){Et(t,e,r)}}var qT=!1;function mV(t,e){if(g_=Lf,t=fP(),c0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(y_={focusedElem:t,selectionRange:n},Lf=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,S=v.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:Mr(e.type,T),S);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(R){Et(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return v=qT,qT=!1,v}function uc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&O_(e,n,s)}i=i.next}while(i!==r)}}function Hp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function D_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uA(t){var e=t.alternate;e!==null&&(t.alternate=null,uA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[Vc],delete e[w_],delete e[XL],delete e[JL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cA(t){return t.tag===5||t.tag===3||t.tag===4}function WT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function M_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uf));else if(r!==4&&(t=t.child,t!==null))for(M_(t,e,n),t=t.sibling;t!==null;)M_(t,e,n),t=t.sibling}function L_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(L_(t,e,n),t=t.sibling;t!==null;)L_(t,e,n),t=t.sibling}var tn=null,Lr=!1;function Zi(t,e,n){for(n=n.child;n!==null;)dA(t,e,n),n=n.sibling}function dA(t,e,n){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount(Up,n)}catch{}switch(n.tag){case 5:gn||$a(n,e);case 6:var r=tn,i=Lr;tn=null,Zi(t,e,n),tn=r,Lr=i,tn!==null&&(Lr?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(Lr?(t=tn,n=n.stateNode,t.nodeType===8?oy(t.parentNode,n):t.nodeType===1&&oy(t,n),Nc(t)):oy(tn,n.stateNode));break;case 4:r=tn,i=Lr,tn=n.stateNode.containerInfo,Lr=!0,Zi(t,e,n),tn=r,Lr=i;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&O_(n,e,o),i=i.next}while(i!==r)}Zi(t,e,n);break;case 1:if(!gn&&($a(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Et(n,e,a)}Zi(t,e,n);break;case 21:Zi(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,Zi(t,e,n),gn=r):Zi(t,e,n);break;default:Zi(t,e,n)}}function GT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pV),e.forEach(function(r){var i=SV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tn=a.stateNode,Lr=!1;break e;case 3:tn=a.stateNode.containerInfo,Lr=!0;break e;case 4:tn=a.stateNode.containerInfo,Lr=!0;break e}a=a.return}if(tn===null)throw Error(q(160));dA(s,o,i),tn=null,Lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hA(e,t),e=e.sibling}function hA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dr(e,t),Hr(t),r&4){try{uc(3,t,t.return),Hp(3,t)}catch(T){Et(t,t.return,T)}try{uc(5,t,t.return)}catch(T){Et(t,t.return,T)}}break;case 1:Dr(e,t),Hr(t),r&512&&n!==null&&$a(n,n.return);break;case 5:if(Dr(e,t),Hr(t),r&512&&n!==null&&$a(n,n.return),t.flags&32){var i=t.stateNode;try{Ac(i,"")}catch(T){Et(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&D1(i,s),o_(a,o);var u=o_(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?U1(i,h):d==="dangerouslySetInnerHTML"?V1(i,h):d==="children"?Ac(i,h):Xv(i,d,h,u)}switch(a){case"input":t_(i,s);break;case"textarea":M1(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ha(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ha(i,!!s.multiple,s.defaultValue,!0):Ha(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vc]=s}catch(T){Et(t,t.return,T)}}break;case 6:if(Dr(e,t),Hr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Et(t,t.return,T)}}break;case 3:if(Dr(e,t),Hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nc(e.containerInfo)}catch(T){Et(t,t.return,T)}break;case 4:Dr(e,t),Hr(t);break;case 13:Dr(e,t),Hr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(k0=At())),r&4&&GT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(u=gn)||d,Dr(e,t),gn=u):Dr(e,t),Hr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(h=te=d;te!==null;){switch(p=te,g=p.child,p.tag){case 0:case 11:case 14:case 15:uc(4,p,p.return);break;case 1:$a(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){Et(r,n,T)}}break;case 5:$a(p,p.return);break;case 22:if(p.memoizedState!==null){KT(h);continue}}g!==null?(g.return=p,te=g):KT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=F1("display",o))}catch(T){Et(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){Et(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dr(e,t),Hr(t),r&4&&GT(t);break;case 21:break;default:Dr(e,t),Hr(t)}}function Hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cA(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ac(i,""),r.flags&=-33);var s=WT(t);L_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=WT(t);M_(t,a,o);break;default:throw Error(q(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gV(t,e,n){te=t,fA(t)}function fA(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ah;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gn;a=Ah;var u=gn;if(Ah=o,(gn=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?QT(i):l!==null?(l.return=o,te=l):QT(i);for(;s!==null;)te=s,fA(s),s=s.sibling;te=i,Ah=a,gn=u}HT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):HT(t)}}function HT(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||Hp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Nc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}gn||e.flags&512&&D_(e)}catch(p){Et(e,e.return,p)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function KT(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function QT(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hp(4,e)}catch(l){Et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Et(e,i,l)}}var s=e.return;try{D_(e)}catch(l){Et(e,s,l)}break;case 5:var o=e.return;try{D_(e)}catch(l){Et(e,o,l)}}}catch(l){Et(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var yV=Math.ceil,Yf=$i.ReactCurrentDispatcher,A0=$i.ReactCurrentOwner,Er=$i.ReactCurrentBatchConfig,Ae=0,Gt=null,Vt=null,on=0,Xn=0,Ba=zs(0),$t=0,jc=null,Do=0,Kp=0,C0=0,cc=null,$n=null,k0=0,ml=1/0,vi=null,Xf=!1,V_=null,Es=null,Ch=!1,fs=null,Jf=0,dc=0,F_=null,sf=-1,of=0;function Pn(){return Ae&6?At():sf!==-1?sf:sf=At()}function Ts(t){return t.mode&1?Ae&2&&on!==0?on&-on:eV.transition!==null?(of===0&&(of=X1()),of):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:iP(t.type)),t):1}function $r(t,e,n,r){if(50<dc)throw dc=0,F_=null,Error(q(185));vd(t,n,r),(!(Ae&2)||t!==Gt)&&(t===Gt&&(!(Ae&2)&&(Kp|=n),$t===4&&us(t,on)),Hn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(ml=At()+500,qp&&js()))}function Hn(t,e){var n=t.callbackNode;eL(t,e);var r=Mf(t,t===Gt?on:0);if(r===0)n!==null&&iT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&iT(n),e===1)t.tag===0?ZL(YT.bind(null,t)):TP(YT.bind(null,t)),QL(function(){!(Ae&6)&&js()}),n=null;else{switch(J1(r)){case 1:n=n0;break;case 4:n=Q1;break;case 16:n=Df;break;case 536870912:n=Y1;break;default:n=Df}n=IA(n,pA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pA(t,e){if(sf=-1,of=0,Ae&6)throw Error(q(327));var n=t.callbackNode;if(Ja()&&t.callbackNode!==n)return null;var r=Mf(t,t===Gt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zf(t,r);else{e=r;var i=Ae;Ae|=2;var s=gA();(Gt!==t||on!==e)&&(vi=null,ml=At()+500,bo(t,e));do try{wV();break}catch(a){mA(t,a)}while(1);m0(),Yf.current=s,Ae=i,Vt!==null?e=0:(Gt=null,on=0,e=$t)}if(e!==0){if(e===2&&(i=d_(t),i!==0&&(r=i,e=U_(t,i))),e===1)throw n=jc,bo(t,0),us(t,r),Hn(t,At()),n;if(e===6)us(t,r);else{if(i=t.current.alternate,!(r&30)&&!_V(i)&&(e=Zf(t,r),e===2&&(s=d_(t),s!==0&&(r=s,e=U_(t,s))),e===1))throw n=jc,bo(t,0),us(t,r),Hn(t,At()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:oo(t,$n,vi);break;case 3:if(us(t,r),(r&130023424)===r&&(e=k0+500-At(),10<e)){if(Mf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=v_(oo.bind(null,t,$n,vi),e);break}oo(t,$n,vi);break;case 4:if(us(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ur(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yV(r/1960))-r,10<r){t.timeoutHandle=v_(oo.bind(null,t,$n,vi),r);break}oo(t,$n,vi);break;case 5:oo(t,$n,vi);break;default:throw Error(q(329))}}}return Hn(t,At()),t.callbackNode===n?pA.bind(null,t):null}function U_(t,e){var n=cc;return t.current.memoizedState.isDehydrated&&(bo(t,e).flags|=256),t=Zf(t,e),t!==2&&(e=$n,$n=n,e!==null&&$_(e)),t}function $_(t){$n===null?$n=t:$n.push.apply($n,t)}function _V(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Br(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(t,e){for(e&=~C0,e&=~Kp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ur(e),r=1<<n;t[n]=-1,e&=~r}}function YT(t){if(Ae&6)throw Error(q(327));Ja();var e=Mf(t,0);if(!(e&1))return Hn(t,At()),null;var n=Zf(t,e);if(t.tag!==0&&n===2){var r=d_(t);r!==0&&(e=r,n=U_(t,r))}if(n===1)throw n=jc,bo(t,0),us(t,e),Hn(t,At()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oo(t,$n,vi),Hn(t,At()),null}function x0(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(ml=At()+500,qp&&js())}}function Mo(t){fs!==null&&fs.tag===0&&!(Ae&6)&&Ja();var e=Ae;Ae|=1;var n=Er.transition,r=Ve;try{if(Er.transition=null,Ve=1,t)return t()}finally{Ve=r,Er.transition=n,Ae=e,!(Ae&6)&&js()}}function N0(){Xn=Ba.current,rt(Ba)}function bo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KL(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(h0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$f();break;case 3:fl(),rt(Wn),rt(_n),I0();break;case 5:w0(r);break;case 4:fl();break;case 13:rt(ft);break;case 19:rt(ft);break;case 10:g0(r.type._context);break;case 22:case 23:N0()}n=n.return}if(Gt=t,Vt=t=Ss(t.current,null),on=Xn=e,$t=0,jc=null,C0=Kp=Do=0,$n=cc=null,_o!==null){for(e=0;e<_o.length;e++)if(n=_o[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}_o=null}return t}function mA(t,e){do{var n=Vt;try{if(m0(),tf.current=Qf,Kf){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kf=!1}if(Oo=0,qt=Ut=pt=null,lc=!1,$c=0,A0.current=null,n===null||n.return===null){$t=1,jc=e,Vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=on,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=VT(o);if(g!==null){g.flags&=-257,FT(g,o,a,s,e),g.mode&1&&LT(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var T=new Set;T.add(l),e.updateQueue=T}else v.add(l);break e}else{if(!(e&1)){LT(s,u,e),O0();break e}l=Error(q(426))}}else if(lt&&a.mode&1){var S=VT(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),FT(S,o,a,s,e),f0(pl(l,a));break e}}s=l=pl(l,a),$t!==4&&($t=2),cc===null?cc=[s]:cc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=JP(s,l,e);kT(s,w);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Es===null||!Es.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=ZP(s,a,e);kT(s,R);break e}}s=s.return}while(s!==null)}_A(n)}catch(x){e=x,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(1)}function gA(){var t=Yf.current;return Yf.current=Qf,t===null?Qf:t}function O0(){($t===0||$t===3||$t===2)&&($t=4),Gt===null||!(Do&268435455)&&!(Kp&268435455)||us(Gt,on)}function Zf(t,e){var n=Ae;Ae|=2;var r=gA();(Gt!==t||on!==e)&&(vi=null,bo(t,e));do try{vV();break}catch(i){mA(t,i)}while(1);if(m0(),Ae=n,Yf.current=r,Vt!==null)throw Error(q(261));return Gt=null,on=0,$t}function vV(){for(;Vt!==null;)yA(Vt)}function wV(){for(;Vt!==null&&!WM();)yA(Vt)}function yA(t){var e=wA(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?_A(t):Vt=e,A0.current=null}function _A(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fV(n,e),n!==null){n.flags&=32767,Vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Vt=null;return}}else if(n=hV(n,e,Xn),n!==null){Vt=n;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);$t===0&&($t=5)}function oo(t,e,n){var r=Ve,i=Er.transition;try{Er.transition=null,Ve=1,IV(t,e,n,r)}finally{Er.transition=i,Ve=r}return null}function IV(t,e,n,r){do Ja();while(fs!==null);if(Ae&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tL(t,s),t===Gt&&(Vt=Gt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ch||(Ch=!0,IA(Df,function(){return Ja(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Er.transition,Er.transition=null;var o=Ve;Ve=1;var a=Ae;Ae|=4,A0.current=null,mV(t,n),hA(n,t),BL(y_),Lf=!!g_,y_=g_=null,t.current=n,gV(n),GM(),Ae=a,Ve=o,Er.transition=s}else t.current=n;if(Ch&&(Ch=!1,fs=t,Jf=i),s=t.pendingLanes,s===0&&(Es=null),QM(n.stateNode),Hn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xf)throw Xf=!1,t=V_,V_=null,t;return Jf&1&&t.tag!==0&&Ja(),s=t.pendingLanes,s&1?t===F_?dc++:(dc=0,F_=t):dc=0,js(),null}function Ja(){if(fs!==null){var t=J1(Jf),e=Er.transition,n=Ve;try{if(Er.transition=null,Ve=16>t?16:t,fs===null)var r=!1;else{if(t=fs,fs=null,Jf=0,Ae&6)throw Error(q(331));var i=Ae;for(Ae|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:uc(8,d,s)}var h=d.child;if(h!==null)h.return=d,te=h;else for(;te!==null;){d=te;var p=d.sibling,g=d.return;if(uA(d),d===u){te=null;break}if(p!==null){p.return=g,te=p;break}te=g}}}var v=s.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uc(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,te=w;break e}te=s.return}}var y=t.current;for(te=y;te!==null;){o=te;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,te=_;else e:for(o=y;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hp(9,a)}}catch(x){Et(a,a.return,x)}if(a===o){te=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,te=R;break e}te=a.return}}if(Ae=i,js(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot(Up,t)}catch{}r=!0}return r}finally{Ve=n,Er.transition=e}}return!1}function XT(t,e,n){e=pl(n,e),e=JP(t,e,1),t=Is(t,e,1),e=Pn(),t!==null&&(vd(t,1,e),Hn(t,e))}function Et(t,e,n){if(t.tag===3)XT(t,t,n);else for(;e!==null;){if(e.tag===3){XT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))){t=pl(n,t),t=ZP(e,t,1),e=Is(e,t,1),t=Pn(),e!==null&&(vd(e,1,t),Hn(e,t));break}}e=e.return}}function EV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(on&n)===n&&($t===4||$t===3&&(on&130023424)===on&&500>At()-k0?bo(t,0):C0|=n),Hn(t,e)}function vA(t,e){e===0&&(t.mode&1?(e=vh,vh<<=1,!(vh&130023424)&&(vh=4194304)):e=1);var n=Pn();t=Di(t,e),t!==null&&(vd(t,e,n),Hn(t,n))}function TV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vA(t,n)}function SV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),vA(t,n)}var wA;wA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wn.current)Bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bn=!1,dV(t,e,n);Bn=!!(t.flags&131072)}else Bn=!1,lt&&e.flags&1048576&&SP(e,jf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rf(t,e),t=e.pendingProps;var i=cl(e,_n.current);Xa(e,n),i=T0(null,e,r,t,i,n);var s=S0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(r)?(s=!0,Bf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_0(e),i.updater=Gp,e.stateNode=i,i._reactInternals=e,R_(e,r,t,n),e=C_(null,e,r,!0,s,n)):(e.tag=0,lt&&s&&d0(e),Tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RV(r),t=Mr(r,t),i){case 0:e=A_(null,e,r,t,n);break e;case 1:e=BT(null,e,r,t,n);break e;case 11:e=UT(null,e,r,t,n);break e;case 14:e=$T(null,e,r,Mr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),A_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),BT(t,e,r,i,n);case 3:e:{if(rA(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kP(t,e),Gf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pl(Error(q(423)),e),e=zT(t,e,r,n,i);break e}else if(r!==i){i=pl(Error(q(424)),e),e=zT(t,e,r,n,i);break e}else for(er=ws(e.stateNode.containerInfo.firstChild),nr=e,lt=!0,Vr=null,n=AP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dl(),r===i){e=Mi(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 5:return xP(e),t===null&&T_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,__(r,i)?o=null:s!==null&&__(r,s)&&(e.flags|=32),nA(t,e),Tn(t,e,o,n),e.child;case 6:return t===null&&T_(e),null;case 13:return iA(t,e,n);case 4:return v0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hl(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),UT(t,e,r,i,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Qe(qf,r._currentValue),r._currentValue=o,s!==null)if(Br(s.value,o)){if(s.children===i.children&&!Wn.current){e=Mi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ci(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),S_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),S_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xa(e,n),i=Sr(i),r=r(i),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return r=e.type,i=Mr(r,e.pendingProps),i=Mr(r.type,i),$T(t,e,r,i,n);case 15:return eA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),rf(t,e),e.tag=1,Gn(r)?(t=!0,Bf(e)):t=!1,Xa(e,n),XP(e,r,i),R_(e,r,i,n),C_(null,e,r,!0,t,n);case 19:return sA(t,e,n);case 22:return tA(t,e,n)}throw Error(q(156,e.tag))};function IA(t,e){return K1(t,e)}function bV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,e,n,r){return new bV(t,e,n,r)}function D0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RV(t){if(typeof t=="function")return D0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zv)return 11;if(t===e0)return 14}return 2}function Ss(t,e){var n=t.alternate;return n===null?(n=vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function af(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")D0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xa:return Ro(n.children,i,s,e);case Jv:o=8,i|=8;break;case Yy:return t=vr(12,n,e,i|2),t.elementType=Yy,t.lanes=s,t;case Xy:return t=vr(13,n,e,i),t.elementType=Xy,t.lanes=s,t;case Jy:return t=vr(19,n,e,i),t.elementType=Jy,t.lanes=s,t;case x1:return Qp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C1:o=10;break e;case k1:o=9;break e;case Zv:o=11;break e;case e0:o=14;break e;case os:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=vr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ro(t,e,n,r){return t=vr(7,t,r,e),t.lanes=n,t}function Qp(t,e,n,r){return t=vr(22,t,r,e),t.elementType=x1,t.lanes=n,t.stateNode={isHidden:!1},t}function py(t,e,n){return t=vr(6,t,null,e),t.lanes=n,t}function my(t,e,n){return e=vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qg(0),this.expirationTimes=Qg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M0(t,e,n,r,i,s,o,a,l){return t=new PV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_0(s),t}function AV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EA(t){if(!t)return ks;t=t._reactInternals;e:{if(ea(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Gn(n))return EP(t,n,e)}return e}function TA(t,e,n,r,i,s,o,a,l){return t=M0(n,r,!0,t,i,s,o,a,l),t.context=EA(null),n=t.current,r=Pn(),i=Ts(n),s=Ci(r,i),s.callback=e??null,Is(n,s,i),t.current.lanes=i,vd(t,i,r),Hn(t,r),t}function Yp(t,e,n,r){var i=e.current,s=Pn(),o=Ts(i);return n=EA(n),e.context===null?e.context=n:e.pendingContext=n,e=Ci(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Is(i,e,o),t!==null&&($r(t,i,o,s),ef(t,i,o)),o}function ep(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function JT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function L0(t,e){JT(t,e),(t=t.alternate)&&JT(t,e)}function CV(){return null}var SA=typeof reportError=="function"?reportError:function(t){console.error(t)};function V0(t){this._internalRoot=t}Xp.prototype.render=V0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Yp(t,e,null,null)};Xp.prototype.unmount=V0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mo(function(){Yp(null,t,null,null)}),e[Oi]=null}};function Xp(t){this._internalRoot=t}Xp.prototype.unstable_scheduleHydration=function(t){if(t){var e=tP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ls.length&&e!==0&&e<ls[n].priority;n++);ls.splice(n,0,t),n===0&&rP(t)}};function F0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ZT(){}function kV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ep(o);s.call(u)}}var o=TA(e,r,t,0,null,!1,!1,"",ZT);return t._reactRootContainer=o,t[Oi]=o.current,Mc(t.nodeType===8?t.parentNode:t),Mo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ep(l);a.call(u)}}var l=M0(t,0,!1,null,null,!1,!1,"",ZT);return t._reactRootContainer=l,t[Oi]=l.current,Mc(t.nodeType===8?t.parentNode:t),Mo(function(){Yp(e,l,n,r)}),l}function Zp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ep(o);a.call(l)}}Yp(e,o,t,i)}else o=kV(n,e,t,i,r);return ep(o)}Z1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gu(e.pendingLanes);n!==0&&(r0(e,n|1),Hn(e,At()),!(Ae&6)&&(ml=At()+500,js()))}break;case 13:Mo(function(){var r=Di(t,1);if(r!==null){var i=Pn();$r(r,t,1,i)}}),L0(t,1)}};i0=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var n=Pn();$r(e,t,134217728,n)}L0(t,134217728)}};eP=function(t){if(t.tag===13){var e=Ts(t),n=Di(t,e);if(n!==null){var r=Pn();$r(n,t,e,r)}L0(t,e)}};tP=function(){return Ve};nP=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};l_=function(t,e,n){switch(e){case"input":if(t_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jp(r);if(!i)throw Error(q(90));O1(r),t_(r,i)}}}break;case"textarea":M1(t,n);break;case"select":e=n.value,e!=null&&Ha(t,!!n.multiple,e,!1)}};z1=x0;j1=Mo;var xV={usingClientEntryPoint:!1,Events:[Id,Ma,jp,$1,B1,x0]},Au={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NV={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G1(t),t===null?null:t.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||CV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{Up=kh.inject(NV),oi=kh}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xV;lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F0(e))throw Error(q(200));return AV(t,e,null,n)};lr.createRoot=function(t,e){if(!F0(t))throw Error(q(299));var n=!1,r="",i=SA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=M0(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,Mc(t.nodeType===8?t.parentNode:t),new V0(e)};lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=G1(e),t=t===null?null:t.stateNode,t};lr.flushSync=function(t){return Mo(t)};lr.hydrate=function(t,e,n){if(!Jp(e))throw Error(q(200));return Zp(null,t,e,!0,n)};lr.hydrateRoot=function(t,e,n){if(!F0(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=SA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TA(e,null,t,1,n??null,i,!1,s,o),t[Oi]=e.current,Mc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xp(e)};lr.render=function(t,e,n){if(!Jp(e))throw Error(q(200));return Zp(null,t,e,!1,n)};lr.unmountComponentAtNode=function(t){if(!Jp(t))throw Error(q(40));return t._reactRootContainer?(Mo(function(){Zp(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};lr.unstable_batchedUpdates=x0;lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jp(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Zp(t,e,n,!1,r)};lr.version="18.3.1-next-f1338f8080-20240426";function bA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bA)}catch(t){console.error(t)}}bA(),b1.exports=lr;var U0=b1.exports;const xh=f1(U0);var eS=U0;Ky.createRoot=eS.createRoot,Ky.hydrateRoot=eS.hydrateRoot;function OV(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function DV(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var MV=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(DV(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=OV(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),mn="-ms-",tp="-moz-",Oe="-webkit-",RA="comm",$0="rule",B0="decl",LV="@import",PA="@keyframes",VV="@layer",FV=Math.abs,em=String.fromCharCode,UV=Object.assign;function $V(t,e){return rn(t,0)^45?(((e<<2^rn(t,0))<<2^rn(t,1))<<2^rn(t,2))<<2^rn(t,3):0}function AA(t){return t.trim()}function BV(t,e){return(t=e.exec(t))?t[0]:t}function De(t,e,n){return t.replace(e,n)}function B_(t,e){return t.indexOf(e)}function rn(t,e){return t.charCodeAt(e)|0}function qc(t,e,n){return t.slice(e,n)}function Qr(t){return t.length}function z0(t){return t.length}function Nh(t,e){return e.push(t),t}function zV(t,e){return t.map(e).join("")}var tm=1,gl=1,CA=0,Kn=0,Lt=0,$l="";function nm(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:tm,column:gl,length:o,return:""}}function Cu(t,e){return UV(nm("",null,null,"",null,null,0),t,{length:-t.length},e)}function jV(){return Lt}function qV(){return Lt=Kn>0?rn($l,--Kn):0,gl--,Lt===10&&(gl=1,tm--),Lt}function rr(){return Lt=Kn<CA?rn($l,Kn++):0,gl++,Lt===10&&(gl=1,tm++),Lt}function li(){return rn($l,Kn)}function lf(){return Kn}function Td(t,e){return qc($l,t,e)}function Wc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kA(t){return tm=gl=1,CA=Qr($l=t),Kn=0,[]}function xA(t){return $l="",t}function uf(t){return AA(Td(Kn-1,z_(t===91?t+2:t===40?t+1:t)))}function WV(t){for(;(Lt=li())&&Lt<33;)rr();return Wc(t)>2||Wc(Lt)>3?"":" "}function GV(t,e){for(;--e&&rr()&&!(Lt<48||Lt>102||Lt>57&&Lt<65||Lt>70&&Lt<97););return Td(t,lf()+(e<6&&li()==32&&rr()==32))}function z_(t){for(;rr();)switch(Lt){case t:return Kn;case 34:case 39:t!==34&&t!==39&&z_(Lt);break;case 40:t===41&&z_(t);break;case 92:rr();break}return Kn}function HV(t,e){for(;rr()&&t+Lt!==47+10;)if(t+Lt===42+42&&li()===47)break;return"/*"+Td(e,Kn-1)+"*"+em(t===47?t:rr())}function KV(t){for(;!Wc(li());)rr();return Td(t,Kn)}function QV(t){return xA(cf("",null,null,null,[""],t=kA(t),0,[0],t))}function cf(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,p=0,g=0,v=0,T=1,S=1,w=1,y=0,_="",R=i,x=s,D=r,I=_;S;)switch(v=y,y=rr()){case 40:if(v!=108&&rn(I,h-1)==58){B_(I+=De(uf(y),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:I+=uf(y);break;case 9:case 10:case 13:case 32:I+=WV(v);break;case 92:I+=GV(lf()-1,7);continue;case 47:switch(li()){case 42:case 47:Nh(YV(HV(rr(),lf()),e,n),l);break;default:I+="/"}break;case 123*T:a[u++]=Qr(I)*w;case 125*T:case 59:case 0:switch(y){case 0:case 125:S=0;case 59+d:w==-1&&(I=De(I,/\f/g,"")),g>0&&Qr(I)-h&&Nh(g>32?nS(I+";",r,n,h-1):nS(De(I," ","")+";",r,n,h-2),l);break;case 59:I+=";";default:if(Nh(D=tS(I,e,n,u,d,i,a,_,R=[],x=[],h),s),y===123)if(d===0)cf(I,e,D,D,R,s,h,a,x);else switch(p===99&&rn(I,3)===110?100:p){case 100:case 108:case 109:case 115:cf(t,D,D,r&&Nh(tS(t,D,D,0,0,i,a,_,i,R=[],h),x),i,x,h,a,r?R:x);break;default:cf(I,D,D,D,[""],x,0,a,x)}}u=d=g=0,T=w=1,_=I="",h=o;break;case 58:h=1+Qr(I),g=v;default:if(T<1){if(y==123)--T;else if(y==125&&T++==0&&qV()==125)continue}switch(I+=em(y),y*T){case 38:w=d>0?1:(I+="\f",-1);break;case 44:a[u++]=(Qr(I)-1)*w,w=1;break;case 64:li()===45&&(I+=uf(rr())),p=li(),d=h=Qr(_=I+=KV(lf())),y++;break;case 45:v===45&&Qr(I)==2&&(T=0)}}return s}function tS(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,p=i===0?s:[""],g=z0(p),v=0,T=0,S=0;v<r;++v)for(var w=0,y=qc(t,h+1,h=FV(T=o[v])),_=t;w<g;++w)(_=AA(T>0?p[w]+" "+y:De(y,/&\f/g,p[w])))&&(l[S++]=_);return nm(t,e,n,i===0?$0:a,l,u,d)}function YV(t,e,n){return nm(t,e,n,RA,em(jV()),qc(t,2,-2),0)}function nS(t,e,n,r){return nm(t,e,n,B0,qc(t,0,r),qc(t,r+1,-1),r)}function Za(t,e){for(var n="",r=z0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function XV(t,e,n,r){switch(t.type){case VV:if(t.children.length)break;case LV:case B0:return t.return=t.return||t.value;case RA:return"";case PA:return t.return=t.value+"{"+Za(t.children,r)+"}";case $0:t.value=t.props.join(",")}return Qr(n=Za(t.children,r))?t.return=t.value+"{"+n+"}":""}function JV(t){var e=z0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function ZV(t){return function(e){e.root||(e=e.return)&&t(e)}}function NA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var e2=function(e,n,r){for(var i=0,s=0;i=s,s=li(),i===38&&s===12&&(n[r]=1),!Wc(s);)rr();return Td(e,Kn)},t2=function(e,n){var r=-1,i=44;do switch(Wc(i)){case 0:i===38&&li()===12&&(n[r]=1),e[r]+=e2(Kn-1,n,r);break;case 2:e[r]+=uf(i);break;case 4:if(i===44){e[++r]=li()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=em(i)}while(i=rr());return e},n2=function(e,n){return xA(t2(kA(e),n))},rS=new WeakMap,r2=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!rS.get(r))&&!i){rS.set(e,!0);for(var s=[],o=n2(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},i2=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function OA(t,e){switch($V(t,e)){case 5103:return Oe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Oe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Oe+t+tp+t+mn+t+t;case 6828:case 4268:return Oe+t+mn+t+t;case 6165:return Oe+t+mn+"flex-"+t+t;case 5187:return Oe+t+De(t,/(\w+).+(:[^]+)/,Oe+"box-$1$2"+mn+"flex-$1$2")+t;case 5443:return Oe+t+mn+"flex-item-"+De(t,/flex-|-self/,"")+t;case 4675:return Oe+t+mn+"flex-line-pack"+De(t,/align-content|flex-|-self/,"")+t;case 5548:return Oe+t+mn+De(t,"shrink","negative")+t;case 5292:return Oe+t+mn+De(t,"basis","preferred-size")+t;case 6060:return Oe+"box-"+De(t,"-grow","")+Oe+t+mn+De(t,"grow","positive")+t;case 4554:return Oe+De(t,/([^-])(transform)/g,"$1"+Oe+"$2")+t;case 6187:return De(De(De(t,/(zoom-|grab)/,Oe+"$1"),/(image-set)/,Oe+"$1"),t,"")+t;case 5495:case 3959:return De(t,/(image-set\([^]*)/,Oe+"$1$`$1");case 4968:return De(De(t,/(.+:)(flex-)?(.*)/,Oe+"box-pack:$3"+mn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Oe+t+t;case 4095:case 3583:case 4068:case 2532:return De(t,/(.+)-inline(.+)/,Oe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qr(t)-1-e>6)switch(rn(t,e+1)){case 109:if(rn(t,e+4)!==45)break;case 102:return De(t,/(.+:)(.+)-([^]+)/,"$1"+Oe+"$2-$3$1"+tp+(rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~B_(t,"stretch")?OA(De(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(rn(t,e+1)!==115)break;case 6444:switch(rn(t,Qr(t)-3-(~B_(t,"!important")&&10))){case 107:return De(t,":",":"+Oe)+t;case 101:return De(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Oe+(rn(t,14)===45?"inline-":"")+"box$3$1"+Oe+"$2$3$1"+mn+"$2box$3")+t}break;case 5936:switch(rn(t,e+11)){case 114:return Oe+t+mn+De(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Oe+t+mn+De(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Oe+t+mn+De(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Oe+t+mn+t+t}return t}var s2=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case B0:e.return=OA(e.value,e.length);break;case PA:return Za([Cu(e,{value:De(e.value,"@","@"+Oe)})],i);case $0:if(e.length)return zV(e.props,function(s){switch(BV(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Za([Cu(e,{props:[De(s,/:(read-\w+)/,":"+tp+"$1")]})],i);case"::placeholder":return Za([Cu(e,{props:[De(s,/:(plac\w+)/,":"+Oe+"input-$1")]}),Cu(e,{props:[De(s,/:(plac\w+)/,":"+tp+"$1")]}),Cu(e,{props:[De(s,/:(plac\w+)/,mn+"input-$1")]})],i)}return""})}},o2=[s2],DA=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var S=T.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var i=e.stylisPlugins||o2,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(T){for(var S=T.getAttribute("data-emotion").split(" "),w=1;w<S.length;w++)s[S[w]]=!0;a.push(T)});var l,u=[r2,i2];{var d,h=[XV,ZV(function(T){d.insert(T)})],p=JV(u.concat(i,h)),g=function(S){return Za(QV(S),p)};l=function(S,w,y,_){d=y,g(S?S+"{"+w.styles+"}":w.styles),_&&(v.inserted[w.name]=!0)}}var v={key:n,sheet:new MV({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v};function M(){return M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M.apply(this,arguments)}const a2=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));var MA={exports:{}},Fe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yt=typeof Symbol=="function"&&Symbol.for,j0=Yt?Symbol.for("react.element"):60103,q0=Yt?Symbol.for("react.portal"):60106,rm=Yt?Symbol.for("react.fragment"):60107,im=Yt?Symbol.for("react.strict_mode"):60108,sm=Yt?Symbol.for("react.profiler"):60114,om=Yt?Symbol.for("react.provider"):60109,am=Yt?Symbol.for("react.context"):60110,W0=Yt?Symbol.for("react.async_mode"):60111,lm=Yt?Symbol.for("react.concurrent_mode"):60111,um=Yt?Symbol.for("react.forward_ref"):60112,cm=Yt?Symbol.for("react.suspense"):60113,l2=Yt?Symbol.for("react.suspense_list"):60120,dm=Yt?Symbol.for("react.memo"):60115,hm=Yt?Symbol.for("react.lazy"):60116,u2=Yt?Symbol.for("react.block"):60121,c2=Yt?Symbol.for("react.fundamental"):60117,d2=Yt?Symbol.for("react.responder"):60118,h2=Yt?Symbol.for("react.scope"):60119;function cr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case j0:switch(t=t.type,t){case W0:case lm:case rm:case sm:case im:case cm:return t;default:switch(t=t&&t.$$typeof,t){case am:case um:case hm:case dm:case om:return t;default:return e}}case q0:return e}}}function LA(t){return cr(t)===lm}Fe.AsyncMode=W0;Fe.ConcurrentMode=lm;Fe.ContextConsumer=am;Fe.ContextProvider=om;Fe.Element=j0;Fe.ForwardRef=um;Fe.Fragment=rm;Fe.Lazy=hm;Fe.Memo=dm;Fe.Portal=q0;Fe.Profiler=sm;Fe.StrictMode=im;Fe.Suspense=cm;Fe.isAsyncMode=function(t){return LA(t)||cr(t)===W0};Fe.isConcurrentMode=LA;Fe.isContextConsumer=function(t){return cr(t)===am};Fe.isContextProvider=function(t){return cr(t)===om};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===j0};Fe.isForwardRef=function(t){return cr(t)===um};Fe.isFragment=function(t){return cr(t)===rm};Fe.isLazy=function(t){return cr(t)===hm};Fe.isMemo=function(t){return cr(t)===dm};Fe.isPortal=function(t){return cr(t)===q0};Fe.isProfiler=function(t){return cr(t)===sm};Fe.isStrictMode=function(t){return cr(t)===im};Fe.isSuspense=function(t){return cr(t)===cm};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rm||t===lm||t===sm||t===im||t===cm||t===l2||typeof t=="object"&&t!==null&&(t.$$typeof===hm||t.$$typeof===dm||t.$$typeof===om||t.$$typeof===am||t.$$typeof===um||t.$$typeof===c2||t.$$typeof===d2||t.$$typeof===h2||t.$$typeof===u2)};Fe.typeOf=cr;MA.exports=Fe;var f2=MA.exports,VA=f2,p2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FA={};FA[VA.ForwardRef]=p2;FA[VA.Memo]=m2;var g2=!0;function y2(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var UA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||g2===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},$A=function(e,n,r){UA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function _2(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var v2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},w2=/[A-Z]|^ms/g,I2=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BA=function(e){return e.charCodeAt(1)===45},iS=function(e){return e!=null&&typeof e!="boolean"},gy=NA(function(t){return BA(t)?t:t.replace(w2,"-$&").toLowerCase()}),sS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(I2,function(r,i,s){return Yr={name:i,styles:s,next:Yr},i})}return v2[e]!==1&&!BA(e)&&typeof n=="number"&&n!==0?n+"px":n};function Gc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Yr={name:n.name,styles:n.styles,next:Yr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Yr={name:r.name,styles:r.styles,next:Yr},r=r.next;var i=n.styles+";";return i}return E2(t,e,n)}case"function":{if(t!==void 0){var s=Yr,o=n(t);return Yr=s,Gc(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function E2(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Gc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":iS(o)&&(r+=gy(s)+":"+sS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)iS(o[a])&&(r+=gy(s)+":"+sS(s,o[a])+";");else{var l=Gc(t,e,o);switch(s){case"animation":case"animationName":{r+=gy(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var oS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Yr,G0=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Yr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Gc(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Gc(r,n,e[a]),i&&(s+=o[a]);oS.lastIndex=0;for(var l="",u;(u=oS.exec(s))!==null;)l+="-"+u[1];var d=_2(s)+l;return{name:d,styles:s,next:Yr}},T2=function(e){return e()},zA=kf["useInsertionEffect"]?kf["useInsertionEffect"]:!1,S2=zA||T2,aS=zA||A.useLayoutEffect,jA=A.createContext(typeof HTMLElement<"u"?DA({key:"css"}):null),b2=jA.Provider,qA=function(e){return A.forwardRef(function(n,r){var i=A.useContext(jA);return e(n,i,r)})},fm=A.createContext({}),R2=qA(function(t,e){var n=t.styles,r=G0([n],void 0,A.useContext(fm)),i=A.useRef();return aS(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),aS(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&$A(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function WA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return G0(e)}var pm=function(){var e=WA.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},HA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new A2;const p=s<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(t){const e=GA(t);return HA.encodeByteArray(e,!0)},np=function(t){return C2(t).replace(/\./g,"")},H0=function(t){try{return HA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!k2(n)||(t[n]=rp(t[n],e[n]));return t}function k2(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=()=>x2().__FIREBASE_DEFAULTS__,O2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H0(t[1]);return e&&JSON.parse(e)},K0=()=>{try{return N2()||O2()||D2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KA=()=>{var t;return(t=K0())===null||t===void 0?void 0:t.config},QA=t=>{var e;return(e=K0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[np(JSON.stringify(n)),np(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function Q0(){var t;const e=(t=K0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JA(){return typeof self=="object"&&self.self===self}function Y0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZA(){const t=ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eC(){return!Q0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hc(){try{return typeof indexedDB=="object"}catch{return!1}}function L2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="FirebaseError";class Ht extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V2,Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mi.prototype.create)}}class mi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?F2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ht(i,a,r)}}function F2(t,e){return t.replace(U2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const U2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uS(s)&&uS(o)){if(!Kc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function za(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function X0(t,e){const n=new B2(t,e);return n.subscribe.bind(n)}class B2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");z2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yy),i.error===void 0&&(i.error=yy),i.complete===void 0&&(i.complete=yy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t){return t&&t._delegate?t._delegate:t}class Qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new M2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W2(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q2(t){return t===ao?void 0:t}function W2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=[];var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const nC={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},G2=ye.INFO,H2={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},K2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sd{constructor(e){this.name=e,this._logLevel=G2,this._logHandler=K2,this._userLogHandler=null,J0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}function Q2(t){J0.forEach(e=>{e.setLogLevel(t)})}function Y2(t,e){for(const n of J0){let r=null;e&&e.level&&(r=nC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ye[s].toLowerCase(),message:a,args:o,type:i.name})}}}const X2=(t,e)=>e.some(n=>t instanceof n);let cS,dS;function J2(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z2(){return dS||(dS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rC=new WeakMap,j_=new WeakMap,iC=new WeakMap,_y=new WeakMap,Z0=new WeakMap;function eF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rC.set(n,t)}).catch(()=>{}),Z0.set(e,t),e}function tF(t){if(j_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});j_.set(t,e)}let q_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return j_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nF(t){q_=t(q_)}function rF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vy(this),e,...n);return iC.set(r,e.sort?e.sort():[e]),bs(r)}:Z2().includes(t)?function(...e){return t.apply(vy(this),e),bs(rC.get(this))}:function(...e){return bs(t.apply(vy(this),e))}}function iF(t){return typeof t=="function"?rF(t):(t instanceof IDBTransaction&&tF(t),X2(t,J2())?new Proxy(t,q_):t)}function bs(t){if(t instanceof IDBRequest)return eF(t);if(_y.has(t))return _y.get(t);const e=iF(t);return e!==t&&(_y.set(t,e),Z0.set(e,t)),e}const vy=t=>Z0.get(t);function sF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bs(o.result),l.oldVersion,l.newVersion,bs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const oF=["get","getKey","getAll","getAllKeys","count"],aF=["put","add","delete","clear"],wy=new Map;function hS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wy.get(e))return wy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=aF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return wy.set(e,s),s}nF(t=>({...t,get:(e,n,r)=>hS(e,n)||t.get(e,n,r),has:(e,n)=>!!hS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",W_="0.10.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Sd("@firebase/app"),cF="@firebase/app-compat",dF="@firebase/analytics-compat",hF="@firebase/analytics",fF="@firebase/app-check-compat",pF="@firebase/app-check",mF="@firebase/auth",gF="@firebase/auth-compat",yF="@firebase/database",_F="@firebase/database-compat",vF="@firebase/functions",wF="@firebase/functions-compat",IF="@firebase/installations",EF="@firebase/installations-compat",TF="@firebase/messaging",SF="@firebase/messaging-compat",bF="@firebase/performance",RF="@firebase/performance-compat",PF="@firebase/remote-config",AF="@firebase/remote-config-compat",CF="@firebase/storage",kF="@firebase/storage-compat",xF="@firebase/firestore",NF="@firebase/vertexai-preview",OF="@firebase/firestore-compat",DF="firebase",MF="10.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]",LF={[ip]:"fire-core",[cF]:"fire-core-compat",[hF]:"fire-analytics",[dF]:"fire-analytics-compat",[pF]:"fire-app-check",[fF]:"fire-app-check-compat",[mF]:"fire-auth",[gF]:"fire-auth-compat",[yF]:"fire-rtdb",[_F]:"fire-rtdb-compat",[vF]:"fire-fn",[wF]:"fire-fn-compat",[IF]:"fire-iid",[EF]:"fire-iid-compat",[TF]:"fire-fcm",[SF]:"fire-fcm-compat",[bF]:"fire-perf",[RF]:"fire-perf-compat",[PF]:"fire-rc",[AF]:"fire-rc-compat",[CF]:"fire-gcs",[kF]:"fire-gcs-compat",[xF]:"fire-fst",[OF]:"fire-fst-compat",[NF]:"fire-vertex","fire-js":"fire-js",[DF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Map,yl=new Map,_l=new Map;function Qc(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sC(t,e){t.container.addOrOverwriteComponent(e)}function zr(t){const e=t.name;if(_l.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;_l.set(e,t);for(const n of Ns.values())Qc(n,t);for(const n of yl.values())Qc(n,t);return!0}function oC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function VF(t,e,n=xs){oC(t,e).clearInstance(n)}function aC(t){return t.options!==void 0}function He(t){return t.settings!==void 0}function FF(){_l.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new mi("app","Firebase",UF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lC=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F extends lC{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,An(ip,W_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){tw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Tr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=MF;function ew(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xs,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=KA()),!n)throw Tr.create("no-options");const s=Ns.get(i);if(s){if(Kc(n,s.options)&&Kc(r,s.config))return s;throw Tr.create("duplicate-app",{appName:i})}const o=new tC(i);for(const l of _l.values())o.addComponent(l);const a=new lC(n,r,o);return Ns.set(i,a),a}function BF(t,e){if(JA())throw Tr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;aC(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Tr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=yl.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new tC(s);for(const u of _l.values())a.addComponent(u);const l=new $F(n,e,s,a);return yl.set(s,l),l}function zF(t=xs){const e=Ns.get(t);if(!e&&t===xs&&KA())return ew();if(!e)throw Tr.create("no-app",{appName:t});return e}function jF(){return Array.from(Ns.values())}async function tw(t){let e=!1;const n=t.name;Ns.has(n)?(e=!0,Ns.delete(n)):yl.has(n)&&t.decRefCount()<=0&&(yl.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function An(t,e,n){var r;let i=(r=LF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(a.join(" "));return}zr(new Qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function uC(t,e){if(t!==null&&typeof t!="function")throw Tr.create("invalid-log-argument");Y2(t,e)}function cC(t){Q2(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="firebase-heartbeat-database",WF=1,Yc="firebase-heartbeat-store";let Iy=null;function dC(){return Iy||(Iy=sF(qF,WF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Iy}async function GF(t){try{const n=(await dC()).transaction(Yc),r=await n.objectStore(Yc).get(hC(t));return await n.done,r}catch(e){if(e instanceof Ht)Lo.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lo.warn(n.message)}}}async function fS(t,e){try{const r=(await dC()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,hC(t)),await r.done}catch(n){if(n instanceof Ht)Lo.warn(n.message);else{const r=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lo.warn(r.message)}}}function hC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=1024,KF=30*24*60*60*1e3;class QF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pS();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=KF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pS(),{heartbeatsToSend:r,unsentEntries:i}=YF(this._heartbeatsCache.heartbeats),s=np(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function pS(){return new Date().toISOString().substring(0,10)}function YF(t,e=HF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hc()?L2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mS(t){return np(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){zr(new Qn("platform-logger",e=>new lF(e),"PRIVATE")),zr(new Qn("heartbeat",e=>new QF(e),"PRIVATE")),An(ip,W_,t),An(ip,W_,"esm2017"),An("fire-js","")}JF("");const ZF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ht,SDK_VERSION:Cr,_DEFAULT_ENTRY_NAME:xs,_addComponent:Qc,_addOrOverwriteComponent:sC,_apps:Ns,_clearComponents:FF,_components:_l,_getProvider:oC,_isFirebaseApp:aC,_isFirebaseServerApp:He,_registerComponent:zr,_removeServiceInstance:VF,_serverApps:yl,deleteApp:tw,getApp:zF,getApps:jF,initializeApp:ew,initializeServerApp:BF,onLog:uC,registerVersion:An,setLogLevel:cC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n){this._delegate=e,this.firebase=n,Qc(e,new Qn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),tw(this._delegate)))}_getService(e,n=xs){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=xs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Qc(this._delegate,e)}_addOrOverwriteComponent(e){sC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},gS=new mi("app-compat","Firebase",tU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:An,setLogLevel:cC,onLog:uC,apps:null,SDK_VERSION:Cr,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:ZF}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||xs,!lS(e,u))throw gS.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,d={}){const h=ew(u,d);if(lS(e,h.name))return e[h.name];const p=new t(h,n);return e[h.name]=p,p}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const d=u.name,h=d.replace("-compat","");if(zr(u)&&u.type==="PUBLIC"){const p=(g=i())=>{if(typeof g[h]!="function")throw gS.create("invalid-app-argument",{appName:d});return g[h]()};u.serviceProps!==void 0&&rp(p,u.serviceProps),n[h]=p,t.prototype[h]=function(...g){return this._getService.bind(this,d).apply(this,u.multipleInstances?g:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){const t=nU(eU);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:fC,extendNamespace:e,createSubscribe:X0,ErrorFactory:mi,deepExtend:rp});function e(n){rp(t,n)}return t}const rU=fC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new Sd("@firebase/app-compat"),iU="@firebase/app-compat",sU="0.2.34";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){An(iU,sU,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(JA()&&self.firebase!==void 0){yS.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&yS.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const gi=rU;oU();var aU="firebase",lU="10.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi.registerVersion(aU,lU,"app-compat");const uU={black:"#000",white:"#fff"},Xc=uU,cU={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ha=cU,dU={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},fa=dU,hU={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},pa=hU,fU={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ma=fU,pU={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ga=pU,mU={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ku=mU,gU={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},yU=gU;function Vo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const _U=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),bd="$$material";function le(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vU=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wU=NA(function(t){return vU.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),IU=wU,EU=function(e){return e!=="theme"},_S=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?IU:EU},vS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},TU=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return UA(n,r,i),S2(function(){return $A(n,r,i)}),null},SU=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=vS(e,n,r),l=a||_S(i),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var p=d.length,g=1;g<p;g++)h.push(d[g],d[0][g])}var v=qA(function(T,S,w){var y=u&&T.as||i,_="",R=[],x=T;if(T.theme==null){x={};for(var D in T)x[D]=T[D];x.theme=A.useContext(fm)}typeof T.className=="string"?_=y2(S.registered,R,T.className):T.className!=null&&(_=T.className+" ");var I=G0(h.concat(R),S.registered,x);_+=S.key+"-"+I.name,o!==void 0&&(_+=" "+o);var E=u&&a===void 0?_S(y):l,P={};for(var C in T)u&&C==="as"||E(C)&&(P[C]=T[C]);return P.className=_,P.ref=w,A.createElement(A.Fragment,null,A.createElement(TU,{cache:S,serialized:I,isStringTag:typeof y=="string"}),A.createElement(y,P))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(T,S){return t(T,M({},n,S,{shouldForwardProp:vS(v,S,!0)})).apply(void 0,h)},v}},bU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],G_=SU.bind();bU.forEach(function(t){G_[t]=G_(t)});let H_;typeof document=="object"&&(H_=DA({key:"css",prepend:!0}));function RU(t){const{injectFirst:e,children:n}=t;return e&&H_?F.jsx(b2,{value:H_,children:n}):n}function PU(t){return t==null||Object.keys(t).length===0}function pC(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(PU(i)?n:i):e;return F.jsx(R2,{styles:r})}/**
 * @mui/styled-engine v5.15.14
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nw(t,e){return G_(t,e)}const mC=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},AU=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:pC,StyledEngineProvider:RU,ThemeContext:fm,css:WA,default:nw,internal_processStyles:mC,keyframes:pm},Symbol.toStringTag,{value:"Module"}));function Ii(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function gC(t){if(!Ii(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=gC(t[n])}),e}function ir(t,e,n={clone:!0}){const r=n.clone?M({},t):t;return Ii(t)&&Ii(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Ii(e[i])&&i in t&&Ii(t[i])?r[i]=ir(t[i],e[i],n):n.clone?r[i]=Ii(e[i])?gC(e[i]):e[i]:r[i]=e[i])}),r}const CU=Object.freeze(Object.defineProperty({__proto__:null,default:ir,isPlainObject:Ii},Symbol.toStringTag,{value:"Module"})),kU=["values","unit","step"],xU=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>M({},n,{[r.key]:r.val}),{})};function yC(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=le(t,kU),s=xU(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function u(p,g){const v=o.indexOf(g);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:g)-r/100}${n})`}function d(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):a(p)}function h(p){const g=o.indexOf(p);return g===0?a(o[1]):g===o.length-1?l(o[g]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return M({keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:n},i)}const NU={borderRadius:4},OU=NU;function hc(t,e){return e?ir(t,e,{clone:!1}):t}const rw={xs:0,sm:600,md:900,lg:1200,xl:1536},wS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${rw[t]}px)`};function Rr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||wS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||wS;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||rw).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function DU(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function MU(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function LU(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function gm({values:t,breakpoints:e,base:n}){const r=n||LU(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function we(t){if(typeof t!="string")throw new Error(Vo(7));return t.charAt(0).toUpperCase()+t.slice(1)}const VU=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));function ym(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function sp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=ym(t,n)||r,e&&(i=e(i,r,t)),i}function xt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=ym(l,r)||{};return Rr(o,a,h=>{let p=sp(u,i,h);return h===p&&typeof h=="string"&&(p=sp(u,i,`${e}${h==="default"?"":we(h)}`,h)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function FU(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const UU={m:"margin",p:"padding"},$U={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},IS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},BU=FU(t=>{if(t.length>2)if(IS[t])t=IS[t];else return[t];const[e,n]=t.split(""),r=UU[e],i=$U[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),iw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...iw,...sw];function Rd(t,e,n,r){var i;const s=(i=ym(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function _C(t){return Rd(t,"spacing",8)}function Pd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function zU(t,e){return n=>t.reduce((r,i)=>(r[i]=Pd(e,n),r),{})}function jU(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=BU(n),s=zU(i,r),o=t[n];return Rr(t,o,s)}function vC(t,e){const n=_C(t.theme);return Object.keys(t).map(r=>jU(t,e,r,n)).reduce(hc,{})}function wt(t){return vC(t,iw)}wt.propTypes={};wt.filterProps=iw;function It(t){return vC(t,sw)}It.propTypes={};It.filterProps=sw;function qU(t=8){if(t.mui)return t;const e=_C({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function _m(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?hc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function _r(t){return typeof t!="number"?t:`${t}px solid`}function kr(t,e){return xt({prop:t,themeKey:"borders",transform:e})}const WU=kr("border",_r),GU=kr("borderTop",_r),HU=kr("borderRight",_r),KU=kr("borderBottom",_r),QU=kr("borderLeft",_r),YU=kr("borderColor"),XU=kr("borderTopColor"),JU=kr("borderRightColor"),ZU=kr("borderBottomColor"),e$=kr("borderLeftColor"),t$=kr("outline",_r),n$=kr("outlineColor"),vm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Rd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Pd(e,r)});return Rr(t,t.borderRadius,n)}return null};vm.propTypes={};vm.filterProps=["borderRadius"];_m(WU,GU,HU,KU,QU,YU,XU,JU,ZU,e$,vm,t$,n$);const wm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Rd(t.theme,"spacing",8),n=r=>({gap:Pd(e,r)});return Rr(t,t.gap,n)}return null};wm.propTypes={};wm.filterProps=["gap"];const Im=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Rd(t.theme,"spacing",8),n=r=>({columnGap:Pd(e,r)});return Rr(t,t.columnGap,n)}return null};Im.propTypes={};Im.filterProps=["columnGap"];const Em=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Rd(t.theme,"spacing",8),n=r=>({rowGap:Pd(e,r)});return Rr(t,t.rowGap,n)}return null};Em.propTypes={};Em.filterProps=["rowGap"];const r$=xt({prop:"gridColumn"}),i$=xt({prop:"gridRow"}),s$=xt({prop:"gridAutoFlow"}),o$=xt({prop:"gridAutoColumns"}),a$=xt({prop:"gridAutoRows"}),l$=xt({prop:"gridTemplateColumns"}),u$=xt({prop:"gridTemplateRows"}),c$=xt({prop:"gridTemplateAreas"}),d$=xt({prop:"gridArea"});_m(wm,Im,Em,r$,i$,s$,o$,a$,l$,u$,c$,d$);function el(t,e){return e==="grey"?e:t}const h$=xt({prop:"color",themeKey:"palette",transform:el}),f$=xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:el}),p$=xt({prop:"backgroundColor",themeKey:"palette",transform:el});_m(h$,f$,p$);function Zn(t){return t<=1&&t!==0?`${t*100}%`:t}const m$=xt({prop:"width",transform:Zn}),ow=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||rw[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Zn(n)}};return Rr(t,t.maxWidth,e)}return null};ow.filterProps=["maxWidth"];const g$=xt({prop:"minWidth",transform:Zn}),y$=xt({prop:"height",transform:Zn}),_$=xt({prop:"maxHeight",transform:Zn}),v$=xt({prop:"minHeight",transform:Zn});xt({prop:"size",cssProperty:"width",transform:Zn});xt({prop:"size",cssProperty:"height",transform:Zn});const w$=xt({prop:"boxSizing"});_m(m$,ow,g$,y$,_$,v$,w$);const I$={border:{themeKey:"borders",transform:_r},borderTop:{themeKey:"borders",transform:_r},borderRight:{themeKey:"borders",transform:_r},borderBottom:{themeKey:"borders",transform:_r},borderLeft:{themeKey:"borders",transform:_r},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_r},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:vm},color:{themeKey:"palette",transform:el},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:el},backgroundColor:{themeKey:"palette",transform:el},p:{style:It},pt:{style:It},pr:{style:It},pb:{style:It},pl:{style:It},px:{style:It},py:{style:It},padding:{style:It},paddingTop:{style:It},paddingRight:{style:It},paddingBottom:{style:It},paddingLeft:{style:It},paddingX:{style:It},paddingY:{style:It},paddingInline:{style:It},paddingInlineStart:{style:It},paddingInlineEnd:{style:It},paddingBlock:{style:It},paddingBlockStart:{style:It},paddingBlockEnd:{style:It},m:{style:wt},mt:{style:wt},mr:{style:wt},mb:{style:wt},ml:{style:wt},mx:{style:wt},my:{style:wt},margin:{style:wt},marginTop:{style:wt},marginRight:{style:wt},marginBottom:{style:wt},marginLeft:{style:wt},marginX:{style:wt},marginY:{style:wt},marginInline:{style:wt},marginInlineStart:{style:wt},marginInlineEnd:{style:wt},marginBlock:{style:wt},marginBlockStart:{style:wt},marginBlockEnd:{style:wt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:wm},rowGap:{style:Em},columnGap:{style:Im},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Zn},maxWidth:{style:ow},minWidth:{transform:Zn},height:{transform:Zn},maxHeight:{transform:Zn},minHeight:{transform:Zn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Ad=I$;function E$(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function T$(t,e){return typeof t=="function"?t(e):t}function wC(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const p=ym(i,u)||{};return h?h(o):Rr(o,r,v=>{let T=sp(p,d,v);return v===T&&typeof v=="string"&&(T=sp(p,d,`${n}${v==="default"?"":we(v)}`,v)),l===!1?T:{[l]:T}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Ad;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const d=DU(s.breakpoints),h=Object.keys(d);let p=d;return Object.keys(u).forEach(g=>{const v=T$(u[g],s);if(v!=null)if(typeof v=="object")if(o[g])p=hc(p,t(g,v,s,o));else{const T=Rr({theme:s},v,S=>({[g]:S}));E$(T,v)?p[g]=e({sx:v,theme:s}):p=hc(p,T)}else p=hc(p,t(g,v,s,o))}),MU(h,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const IC=wC();IC.filterProps=["sx"];const Cd=IC;function EC(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const S$=["breakpoints","palette","spacing","shape"];function kd(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=le(t,S$),a=yC(n),l=qU(i);let u=ir({breakpoints:a,direction:"ltr",components:{},palette:M({mode:"light"},r),spacing:l,shape:M({},OU,s)},o);return u.applyStyles=EC,u=e.reduce((d,h)=>ir(d,h),u),u.unstable_sxConfig=M({},Ad,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Cd({sx:h,theme:this})},u}const b$=Object.freeze(Object.defineProperty({__proto__:null,default:kd,private_createBreakpoints:yC,unstable_applyStyles:EC},Symbol.toStringTag,{value:"Module"}));function R$(t){return Object.keys(t).length===0}function P$(t=null){const e=A.useContext(fm);return!e||R$(e)?t:e}const A$=kd();function Tm(t=A$){return P$(t)}function C$({styles:t,themeId:e,defaultTheme:n={}}){const r=Tm(n),i=typeof t=="function"?t(e&&r[e]||r):t;return F.jsx(pC,{styles:i})}const k$=["sx"],x$=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Ad;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function aw(t){const{sx:e}=t,n=le(t,k$),{systemProps:r,otherProps:i}=x$(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ii(a)?M({},r,a):r}:s=M({},r,e),M({},i,{sx:s})}const N$=Object.freeze(Object.defineProperty({__proto__:null,default:Cd,extendSxProp:aw,unstable_createStyleFunctionSx:wC,unstable_defaultSxConfig:Ad},Symbol.toStringTag,{value:"Module"})),ES=t=>t,O$=()=>{let t=ES;return{configure(e){t=e},generate(e){return t(e)},reset(){t=ES}}},D$=O$(),TC=D$;function SC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SC(t))&&(r&&(r+=" "),r+=e);return r}const M$=["className","component"];function L$(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=nw("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Cd);return A.forwardRef(function(l,u){const d=Tm(n),h=aw(l),{className:p,component:g="div"}=h,v=le(h,M$);return F.jsx(s,M({as:g,ref:u,className:_e(p,i?i(r):r),theme:e&&d[e]||d},v))})}const V$={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xe(t,e,n="Mui"){const r=V$[e];return r?`${n}-${r}`:`${TC.generate(t)}-${e}`}function Je(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Xe(t,i,n)}),r}var bC={exports:{}},Ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=Symbol.for("react.element"),uw=Symbol.for("react.portal"),Sm=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),Pm=Symbol.for("react.provider"),Am=Symbol.for("react.context"),F$=Symbol.for("react.server_context"),Cm=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),xm=Symbol.for("react.suspense_list"),Nm=Symbol.for("react.memo"),Om=Symbol.for("react.lazy"),U$=Symbol.for("react.offscreen"),RC;RC=Symbol.for("react.module.reference");function xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lw:switch(t=t.type,t){case Sm:case Rm:case bm:case km:case xm:return t;default:switch(t=t&&t.$$typeof,t){case F$:case Am:case Cm:case Om:case Nm:case Pm:return t;default:return e}}case uw:return e}}}Ue.ContextConsumer=Am;Ue.ContextProvider=Pm;Ue.Element=lw;Ue.ForwardRef=Cm;Ue.Fragment=Sm;Ue.Lazy=Om;Ue.Memo=Nm;Ue.Portal=uw;Ue.Profiler=Rm;Ue.StrictMode=bm;Ue.Suspense=km;Ue.SuspenseList=xm;Ue.isAsyncMode=function(){return!1};Ue.isConcurrentMode=function(){return!1};Ue.isContextConsumer=function(t){return xr(t)===Am};Ue.isContextProvider=function(t){return xr(t)===Pm};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lw};Ue.isForwardRef=function(t){return xr(t)===Cm};Ue.isFragment=function(t){return xr(t)===Sm};Ue.isLazy=function(t){return xr(t)===Om};Ue.isMemo=function(t){return xr(t)===Nm};Ue.isPortal=function(t){return xr(t)===uw};Ue.isProfiler=function(t){return xr(t)===Rm};Ue.isStrictMode=function(t){return xr(t)===bm};Ue.isSuspense=function(t){return xr(t)===km};Ue.isSuspenseList=function(t){return xr(t)===xm};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sm||t===Rm||t===bm||t===km||t===xm||t===U$||typeof t=="object"&&t!==null&&(t.$$typeof===Om||t.$$typeof===Nm||t.$$typeof===Pm||t.$$typeof===Am||t.$$typeof===Cm||t.$$typeof===RC||t.getModuleId!==void 0)};Ue.typeOf=xr;bC.exports=Ue;var TS=bC.exports;const $$=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function PC(t){const e=`${t}`.match($$);return e&&e[1]||""}function AC(t,e=""){return t.displayName||t.name||PC(t)||e}function SS(t,e,n){const r=AC(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function B$(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return AC(t,"Component");if(typeof t=="object")switch(t.$$typeof){case TS.ForwardRef:return SS(t,t.render,"ForwardRef");case TS.Memo:return SS(t,t.type,"memo");default:return}}}const z$=Object.freeze(Object.defineProperty({__proto__:null,default:B$,getFunctionName:PC},Symbol.toStringTag,{value:"Module"})),j$=["ownerState"],q$=["variants"],W$=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function G$(t){return Object.keys(t).length===0}function H$(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Ey(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const K$=kd(),Q$=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Oh({defaultTheme:t,theme:e,themeId:n}){return G$(e)?t:e[n]||e}function Y$(t){return t?(e,n)=>n[t]:null}function df(t,e){let{ownerState:n}=e,r=le(e,j$);const i=typeof t=="function"?t(M({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>df(s,M({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=le(i,q$);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(M({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(M({ownerState:n},r,n)):l.style))}),a}return i}function X$(t={}){const{themeId:e,defaultTheme:n=K$,rootShouldForwardProp:r=Ey,slotShouldForwardProp:i=Ey}=t,s=o=>Cd(M({},o,{theme:Oh(M({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{mC(o,x=>x.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=Y$(Q$(u))}=a,g=le(a,W$),v=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,T=h||!1;let S,w=Ey;u==="Root"||u==="root"?w=r:u?w=i:H$(o)&&(w=void 0);const y=nw(o,M({shouldForwardProp:w,label:S},g)),_=x=>typeof x=="function"&&x.__emotion_real!==x||Ii(x)?D=>df(x,M({},D,{theme:Oh({theme:D.theme,defaultTheme:n,themeId:e})})):x,R=(x,...D)=>{let I=_(x);const E=D?D.map(_):[];l&&p&&E.push(N=>{const O=Oh(M({},N,{defaultTheme:n,themeId:e}));if(!O.components||!O.components[l]||!O.components[l].styleOverrides)return null;const k=O.components[l].styleOverrides,G={};return Object.entries(k).forEach(([X,J])=>{G[X]=df(J,M({},N,{theme:O}))}),p(N,G)}),l&&!v&&E.push(N=>{var O;const k=Oh(M({},N,{defaultTheme:n,themeId:e})),G=k==null||(O=k.components)==null||(O=O[l])==null?void 0:O.variants;return df({variants:G},M({},N,{theme:k}))}),T||E.push(s);const P=E.length-D.length;if(Array.isArray(x)&&P>0){const N=new Array(P).fill("");I=[...x,...N],I.raw=[...x.raw,...N]}const C=y(I,...E);return o.muiName&&(C.muiName=o.muiName),C};return y.withConfig&&(R.withConfig=y.withConfig),R}}const J$=X$(),Z$=J$;function cw(t,e){const n=M({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=M({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=M({},s),Object.keys(i).forEach(o=>{n[r][o]=cw(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function eB(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:cw(e.components[n].defaultProps,r)}function CC({props:t,name:e,defaultTheme:n,themeId:r}){let i=Tm(n);return r&&(i=i[r]||i),eB({theme:i,name:e,props:t})}const tB=typeof window<"u"?A.useLayoutEffect:A.useEffect,Fo=tB;function nB(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const rB=Object.freeze(Object.defineProperty({__proto__:null,default:nB},Symbol.toStringTag,{value:"Module"}));function bS(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function kC(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function Ty(t,e){var n,r;return A.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function sr(t){return t&&t.ownerDocument||document}function Uo(t){return sr(t).defaultView||window}function K_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let RS=0;function iB(t){const[e,n]=A.useState(t),r=t||e;return A.useEffect(()=>{e==null&&(RS+=1,n(`mui-${RS}`))},[e]),r}const PS=kf["useId".toString()];function xC(t){if(PS!==void 0){const e=PS();return t??e}return iB(t)}function AS({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=A.useRef(t!==void 0),[s,o]=A.useState(e),a=i?t:s,l=A.useCallback(u=>{i||o(u)},[]);return[a,l]}function ja(t){const e=A.useRef(t);return Fo(()=>{e.current=t}),A.useRef((...n)=>(0,e.current)(...n)).current}function xn(...t){return A.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{K_(n,e)})},t)}const CS={};function sB(t,e){const n=A.useRef(CS);return n.current===CS&&(n.current=t(e)),n}const oB=[];function aB(t){A.useEffect(t,oB)}class Dm{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Dm}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function NC(){const t=sB(Dm.create).current;return aB(t.disposeEffect),t}let Mm=!0,Q_=!1;const lB=new Dm,uB={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function cB(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&uB[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function dB(t){t.metaKey||t.altKey||t.ctrlKey||(Mm=!0)}function Sy(){Mm=!1}function hB(){this.visibilityState==="hidden"&&Q_&&(Mm=!0)}function fB(t){t.addEventListener("keydown",dB,!0),t.addEventListener("mousedown",Sy,!0),t.addEventListener("pointerdown",Sy,!0),t.addEventListener("touchstart",Sy,!0),t.addEventListener("visibilitychange",hB,!0)}function pB(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Mm||cB(e)}function mB(){const t=A.useCallback(i=>{i!=null&&fB(i.ownerDocument)},[]),e=A.useRef(!1);function n(){return e.current?(Q_=!0,lB.start(100,()=>{Q_=!1}),e.current=!1,!0):!1}function r(i){return pB(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function OC(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function st(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const gB=A.createContext(),yB=()=>{const t=A.useContext(gB);return t??!1},_B=["className","component","disableGutters","fixed","maxWidth","classes"],vB=kd(),wB=Z$("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${we(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),IB=t=>CC({props:t,name:"MuiContainer",defaultTheme:vB}),EB=(t,e)=>{const n=l=>Xe(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${we(String(o))}`,i&&"fixed",s&&"disableGutters"]};return st(a,n,r)};function TB(t={}){const{createStyledComponent:e=wB,useThemeProps:n=IB,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>M({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const d=u,h=o.breakpoints.values[d];return h!==0&&(l[o.breakpoints.up(d)]={maxWidth:`${h}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>M({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return A.forwardRef(function(a,l){const u=n(a),{className:d,component:h="div",disableGutters:p=!1,fixed:g=!1,maxWidth:v="lg"}=u,T=le(u,_B),S=M({},u,{component:h,disableGutters:p,fixed:g,maxWidth:v}),w=EB(S,r);return F.jsx(i,M({as:h,ownerState:S,className:_e(w.root,d),ref:l},T))})}function SB(t,e){return M({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Nt={},DC={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(DC);var MC=DC.exports;const bB=Ui(_U),RB=Ui(rB);var LC=MC;Object.defineProperty(Nt,"__esModule",{value:!0});var qa=Nt.alpha=$C;Nt.blend=UB;Nt.colorChannel=void 0;var PB=Nt.darken=hw;Nt.decomposeColor=Pr;Nt.emphasize=BC;var AB=Nt.getContrastRatio=DB;Nt.getLuminance=op;Nt.hexToRgb=VC;Nt.hslToRgb=UC;var CB=Nt.lighten=fw;Nt.private_safeAlpha=MB;Nt.private_safeColorChannel=void 0;Nt.private_safeDarken=LB;Nt.private_safeEmphasize=FB;Nt.private_safeLighten=VB;Nt.recomposeColor=Bl;Nt.rgbToHex=OB;var kS=LC(bB),kB=LC(RB);function dw(t,e=0,n=1){return(0,kB.default)(t,e,n)}function VC(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function xB(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Pr(t){if(t.type)return t;if(t.charAt(0)==="#")return Pr(VC(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,kS.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,kS.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const FC=t=>{const e=Pr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Nt.colorChannel=FC;const NB=(t,e)=>{try{return FC(t)}catch{return t}};Nt.private_safeColorChannel=NB;function Bl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function OB(t){if(t.indexOf("#")===0)return t;const{values:e}=Pr(t);return`#${e.map((n,r)=>xB(r===3?Math.round(255*n):n)).join("")}`}function UC(t){t=Pr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,d=(u+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Bl({type:a,values:l})}function op(t){t=Pr(t);let e=t.type==="hsl"||t.type==="hsla"?Pr(UC(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function DB(t,e){const n=op(t),r=op(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function $C(t,e){return t=Pr(t),e=dw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Bl(t)}function MB(t,e,n){try{return $C(t,e)}catch{return t}}function hw(t,e){if(t=Pr(t),e=dw(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Bl(t)}function LB(t,e,n){try{return hw(t,e)}catch{return t}}function fw(t,e){if(t=Pr(t),e=dw(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Bl(t)}function VB(t,e,n){try{return fw(t,e)}catch{return t}}function BC(t,e=.15){return op(t)>.5?hw(t,e):fw(t,e)}function FB(t,e,n){try{return BC(t,e)}catch{return t}}function UB(t,e,n,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-n)+u**(1/r)*n)**r),s=Pr(t),o=Pr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Bl({type:"rgb",values:a})}const $B=["mode","contrastThreshold","tonalOffset"],xS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xc.white,default:Xc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},by={text:{primary:Xc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function NS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=CB(t.main,i):e==="dark"&&(t.dark=PB(t.main,s)))}function BB(t="light"){return t==="dark"?{main:pa[200],light:pa[50],dark:pa[400]}:{main:pa[700],light:pa[400],dark:pa[800]}}function zB(t="light"){return t==="dark"?{main:fa[200],light:fa[50],dark:fa[400]}:{main:fa[500],light:fa[300],dark:fa[700]}}function jB(t="light"){return t==="dark"?{main:ha[500],light:ha[300],dark:ha[700]}:{main:ha[700],light:ha[400],dark:ha[800]}}function qB(t="light"){return t==="dark"?{main:ma[400],light:ma[300],dark:ma[700]}:{main:ma[700],light:ma[500],dark:ma[900]}}function WB(t="light"){return t==="dark"?{main:ga[400],light:ga[300],dark:ga[700]}:{main:ga[800],light:ga[500],dark:ga[900]}}function GB(t="light"){return t==="dark"?{main:ku[400],light:ku[300],dark:ku[700]}:{main:"#ed6c02",light:ku[500],dark:ku[900]}}function HB(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=le(t,$B),s=t.primary||BB(e),o=t.secondary||zB(e),a=t.error||jB(e),l=t.info||qB(e),u=t.success||WB(e),d=t.warning||GB(e);function h(T){return AB(T,by.text.primary)>=n?by.text.primary:xS.text.primary}const p=({color:T,name:S,mainShade:w=500,lightShade:y=300,darkShade:_=700})=>{if(T=M({},T),!T.main&&T[w]&&(T.main=T[w]),!T.hasOwnProperty("main"))throw new Error(Vo(11,S?` (${S})`:"",w));if(typeof T.main!="string")throw new Error(Vo(12,S?` (${S})`:"",JSON.stringify(T.main)));return NS(T,"light",y,r),NS(T,"dark",_,r),T.contrastText||(T.contrastText=h(T.main)),T},g={dark:by,light:xS};return ir(M({common:M({},Xc),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:yU,contrastThreshold:n,getContrastText:h,augmentColor:p,tonalOffset:r},g[e]),i)}const KB=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function QB(t){return Math.round(t*1e5)/1e5}const OS={textTransform:"uppercase"},DS='"Roboto", "Helvetica", "Arial", sans-serif';function YB(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=DS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:h}=n,p=le(n,KB),g=i/14,v=h||(w=>`${w/u*g}rem`),T=(w,y,_,R,x)=>M({fontFamily:r,fontWeight:w,fontSize:v(y),lineHeight:_},r===DS?{letterSpacing:`${QB(R/y)}em`}:{},x,d),S={h1:T(s,96,1.167,-1.5),h2:T(s,60,1.2,-.5),h3:T(o,48,1.167,0),h4:T(o,34,1.235,.25),h5:T(o,24,1.334,0),h6:T(a,20,1.6,.15),subtitle1:T(o,16,1.75,.15),subtitle2:T(a,14,1.57,.1),body1:T(o,16,1.5,.15),body2:T(o,14,1.43,.15),button:T(a,14,1.75,.4,OS),caption:T(o,12,1.66,.4),overline:T(o,12,2.66,1,OS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ir(M({htmlFontSize:u,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},S),p,{clone:!1})}const XB=.2,JB=.14,ZB=.12;function at(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${XB})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${JB})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${ZB})`].join(",")}const e4=["none",at(0,2,1,-1,0,1,1,0,0,1,3,0),at(0,3,1,-2,0,2,2,0,0,1,5,0),at(0,3,3,-2,0,3,4,0,0,1,8,0),at(0,2,4,-1,0,4,5,0,0,1,10,0),at(0,3,5,-1,0,5,8,0,0,1,14,0),at(0,3,5,-1,0,6,10,0,0,1,18,0),at(0,4,5,-2,0,7,10,1,0,2,16,1),at(0,5,5,-3,0,8,10,1,0,3,14,2),at(0,5,6,-3,0,9,12,1,0,3,16,2),at(0,6,6,-3,0,10,14,1,0,4,18,3),at(0,6,7,-4,0,11,15,1,0,4,20,3),at(0,7,8,-4,0,12,17,2,0,5,22,4),at(0,7,8,-4,0,13,19,2,0,5,24,4),at(0,7,9,-4,0,14,21,2,0,5,26,4),at(0,8,9,-5,0,15,22,2,0,6,28,5),at(0,8,10,-5,0,16,24,2,0,6,30,5),at(0,8,11,-5,0,17,26,2,0,6,32,5),at(0,9,11,-5,0,18,28,2,0,7,34,6),at(0,9,12,-6,0,19,29,2,0,7,36,6),at(0,10,13,-6,0,20,31,3,0,8,38,7),at(0,10,13,-6,0,21,33,3,0,8,40,7),at(0,10,14,-6,0,22,35,3,0,8,42,7),at(0,11,14,-7,0,23,36,3,0,9,44,8),at(0,11,15,-7,0,24,38,3,0,9,46,8)],t4=e4,n4=["duration","easing","delay"],r4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},i4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function MS(t){return`${Math.round(t)}ms`}function s4(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function o4(t){const e=M({},r4,t.easing),n=M({},i4,t.duration);return M({getAutoHeightDuration:s4,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return le(s,n4),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:MS(o)} ${a} ${typeof l=="string"?l:MS(l)}`).join(",")}},t,{easing:e,duration:n})}const a4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},l4=a4,u4=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function zC(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=le(t,u4);if(t.vars)throw new Error(Vo(18));const a=HB(r),l=kd(t);let u=ir(l,{mixins:SB(l.breakpoints,n),palette:a,shadows:t4.slice(),typography:YB(a,s),transitions:o4(i),zIndex:M({},l4)});return u=ir(u,o),u=e.reduce((d,h)=>ir(d,h),u),u.unstable_sxConfig=M({},Ad,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Cd({sx:h,theme:this})},u}const c4=zC(),Lm=c4;function pw(){const t=Tm(Lm);return t[bd]||t}function ot({props:t,name:e}){return CC({props:t,name:e,defaultTheme:Lm,themeId:bd})}var xd={};const d4=Ui(a2);var Ry={exports:{}},LS;function h4(){return LS||(LS=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Ry)),Ry.exports}const f4=Ui(AU),p4=Ui(CU),m4=Ui(VU),g4=Ui(z$),y4=Ui(b$),_4=Ui(N$);var zl=MC;Object.defineProperty(xd,"__esModule",{value:!0});var v4=xd.default=N4;xd.shouldForwardProp=hf;xd.systemDefaultTheme=void 0;var pr=zl(d4),Y_=zl(h4()),VS=R4(f4),w4=p4;zl(m4);zl(g4);var I4=zl(y4),E4=zl(_4);const T4=["ownerState"],S4=["variants"],b4=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function jC(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(jC=function(r){return r?n:e})(t)}function R4(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=jC(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function P4(t){return Object.keys(t).length===0}function A4(t){return typeof t=="string"&&t.charCodeAt(0)>96}function hf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const C4=xd.systemDefaultTheme=(0,I4.default)(),k4=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Dh({defaultTheme:t,theme:e,themeId:n}){return P4(e)?t:e[n]||e}function x4(t){return t?(e,n)=>n[t]:null}function ff(t,e){let{ownerState:n}=e,r=(0,Y_.default)(e,T4);const i=typeof t=="function"?t((0,pr.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>ff(s,(0,pr.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,Y_.default)(i,S4);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,pr.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,pr.default)({ownerState:n},r,n)):l.style))}),a}return i}function N4(t={}){const{themeId:e,defaultTheme:n=C4,rootShouldForwardProp:r=hf,slotShouldForwardProp:i=hf}=t,s=o=>(0,E4.default)((0,pr.default)({},o,{theme:Dh((0,pr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,VS.internal_processStyles)(o,x=>x.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=x4(k4(u))}=a,g=(0,Y_.default)(a,b4),v=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,T=h||!1;let S,w=hf;u==="Root"||u==="root"?w=r:u?w=i:A4(o)&&(w=void 0);const y=(0,VS.default)(o,(0,pr.default)({shouldForwardProp:w,label:S},g)),_=x=>typeof x=="function"&&x.__emotion_real!==x||(0,w4.isPlainObject)(x)?D=>ff(x,(0,pr.default)({},D,{theme:Dh({theme:D.theme,defaultTheme:n,themeId:e})})):x,R=(x,...D)=>{let I=_(x);const E=D?D.map(_):[];l&&p&&E.push(N=>{const O=Dh((0,pr.default)({},N,{defaultTheme:n,themeId:e}));if(!O.components||!O.components[l]||!O.components[l].styleOverrides)return null;const k=O.components[l].styleOverrides,G={};return Object.entries(k).forEach(([X,J])=>{G[X]=ff(J,(0,pr.default)({},N,{theme:O}))}),p(N,G)}),l&&!v&&E.push(N=>{var O;const k=Dh((0,pr.default)({},N,{defaultTheme:n,themeId:e})),G=k==null||(O=k.components)==null||(O=O[l])==null?void 0:O.variants;return ff({variants:G},(0,pr.default)({},N,{theme:k}))}),T||E.push(s);const P=E.length-D.length;if(Array.isArray(x)&&P>0){const N=new Array(P).fill("");I=[...x,...N],I.raw=[...x.raw,...N]}const C=y(I,...E);return o.muiName&&(C.muiName=o.muiName),C};return y.withConfig&&(R.withConfig=y.withConfig),R}}function qC(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const O4=t=>qC(t)&&t!=="classes",Wr=O4,D4=v4({themeId:bd,defaultTheme:Lm,rootShouldForwardProp:Wr}),ce=D4,M4=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},FS=M4;function L4(t){return Xe("MuiSvgIcon",t)}Je("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const V4=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],F4=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${we(e)}`,`fontSize${we(n)}`]};return st(i,L4,r)},U4=ce("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${we(n.color)}`],e[`fontSize${we(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,d,h,p,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}[e.fontSize],color:(h=(p=(t.vars||t).palette)==null||(p=p[e.color])==null?void 0:p.main)!=null?h:{action:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[e.color]}}),WC=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:p="0 0 24 24"}=r,g=le(r,V4),v=A.isValidElement(i)&&i.type==="svg",T=M({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:v}),S={};d||(S.viewBox=p);const w=F4(T);return F.jsxs(U4,M({as:a,className:_e(w.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},S,g,v&&i.props,{ownerState:T,children:[v?i.props.children:i,h?F.jsx("title",{children:h}):null]}))});WC.muiName="SvgIcon";const US=WC;function GC(t,e){function n(r,i){return F.jsx(US,M({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=US.muiName,A.memo(A.forwardRef(n))}function $4(t){return ot}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function HC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,X_(t,e)}const $S={disabled:!1},ap=Fr.createContext(null);var B4=function(e){return e.scrollTop},Qu="unmounted",lo="exited",uo="entering",Sa="entered",J_="exiting",Bi=function(t){HC(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=lo,s.appearStatus=uo):l=Sa:r.unmountOnExit||r.mountOnEnter?l=Qu:l=lo,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Qu?{status:lo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==uo&&o!==Sa&&(s=uo):(o===uo||o===Sa)&&(s=J_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===uo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:xh.findDOMNode(this);o&&B4(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lo&&this.setState({status:Qu})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[xh.findDOMNode(this),a],u=l[0],d=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!i&&!o||$S.disabled){this.safeSetState({status:Sa},function(){s.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:uo},function(){s.props.onEntering(u,d),s.onTransitionEnd(p,function(){s.safeSetState({status:Sa},function(){s.props.onEntered(u,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:xh.findDOMNode(this);if(!s||$S.disabled){this.safeSetState({status:lo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:J_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:lo},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:xh.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Qu)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=le(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fr.createElement(ap.Provider,{value:null},typeof o=="function"?o(i,a):Fr.cloneElement(Fr.Children.only(o),a))},e}(Fr.Component);Bi.contextType=ap;Bi.propTypes={};function ya(){}Bi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ya,onEntering:ya,onEntered:ya,onExit:ya,onExiting:ya,onExited:ya};Bi.UNMOUNTED=Qu;Bi.EXITED=lo;Bi.ENTERING=uo;Bi.ENTERED=Sa;Bi.EXITING=J_;const KC=Bi;function z4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mw(t,e){var n=function(s){return e&&A.isValidElement(s)?e(s):s},r=Object.create(null);return t&&A.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function j4(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function wo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function q4(t,e){return mw(t.children,function(n){return A.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:wo(n,"appear",t),enter:wo(n,"enter",t),exit:wo(n,"exit",t)})})}function W4(t,e,n){var r=mw(t.children),i=j4(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(A.isValidElement(o)){var a=s in e,l=s in r,u=e[s],d=A.isValidElement(u)&&!u.props.in;l&&(!a||d)?i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:wo(o,"exit",t),enter:wo(o,"enter",t)}):!l&&a&&!d?i[s]=A.cloneElement(o,{in:!1}):l&&a&&A.isValidElement(u)&&(i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:wo(o,"exit",t),enter:wo(o,"enter",t)}))}}),i}var G4=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},H4={component:"div",childFactory:function(e){return e}},gw=function(t){HC(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(z4(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?q4(i,a):W4(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=mw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=M({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=le(i,["component","childFactory"]),l=this.state.contextValue,u=G4(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Fr.createElement(ap.Provider,{value:l},u):Fr.createElement(ap.Provider,{value:l},Fr.createElement(s,a,u))},e}(Fr.Component);gw.propTypes={};gw.defaultProps=H4;const K4=gw,QC=t=>t.scrollTop;function lp(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function Q4(t){return Xe("MuiPaper",t)}Je("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Y4=["className","component","elevation","square","variant"],X4=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return st(s,Q4,i)},J4=ce("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return M({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&M({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${qa("#fff",FS(e.elevation))}, ${qa("#fff",FS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Z4=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=le(r,Y4),d=M({},r,{component:s,elevation:o,square:a,variant:l}),h=X4(d);return F.jsx(J4,M({as:s,ownerState:d,className:_e(h.root,i),ref:n},u))}),YC=Z4;function up(t){return typeof t=="string"}function XC(t,e,n){return t===void 0||up(t)?e:M({},e,{ownerState:M({},e.ownerState,n)})}function JC(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function ZC(t,e,n){return typeof t=="function"?t(e,n):t}function BS(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function ek(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const g=_e(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),v=M({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),T=M({},n,i,r);return g.length>0&&(T.className=g),Object.keys(v).length>0&&(T.style=v),{props:T,internalRef:void 0}}const o=JC(M({},i,r)),a=BS(r),l=BS(i),u=e(o),d=_e(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=M({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),p=M({},u,n,l,a);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:u.ref}}const ez=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function vl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=le(t,ez),a=s?{}:ZC(r,i),{props:l,internalRef:u}=ek(M({},o,{externalSlotProps:a})),d=xn(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return XC(n,M({},l,{ref:d}),i)}const tz=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],nz=["component","slots","slotProps"],rz=["component"];function iz(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a}=e,l=le(e,tz),{component:u,slots:d={[t]:void 0},slotProps:h={[t]:void 0}}=s,p=le(s,nz),g=d[t]||r,v=ZC(h[t],i),T=ek(M({className:n},l,{externalForwardedProps:t==="root"?p:void 0,externalSlotProps:v})),{props:{component:S},internalRef:w}=T,y=le(T.props,rz),_=xn(w,v==null?void 0:v.ref,e.ref),R=o?o(y):{},x=M({},i,R),D=t==="root"?S||u:S,I=XC(g,M({},t==="root"&&!u&&!d[t]&&a,t!=="root"&&!d[t]&&a,y,D&&{as:D},{ref:_}),x);return Object.keys(R).forEach(E=>{delete I[E]}),[g,I]}function sz(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[d,h]=A.useState(!1),p=_e(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},v=_e(n.child,d&&n.childLeaving,r&&n.childPulsate);return!a&&!d&&h(!0),A.useEffect(()=>{if(!a&&l!=null){const T=setTimeout(l,u);return()=>{clearTimeout(T)}}},[l,a,u]),F.jsx("span",{className:p,style:g,children:F.jsx("span",{className:v})})}const oz=Je("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),mr=oz,az=["center","classes","className"];let Vm=t=>t,zS,jS,qS,WS;const Z_=550,lz=80,uz=pm(zS||(zS=Vm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),cz=pm(jS||(jS=Vm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),dz=pm(qS||(qS=Vm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),hz=ce("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),fz=ce(sz,{name:"MuiTouchRipple",slot:"Ripple"})(WS||(WS=Vm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),mr.rippleVisible,uz,Z_,({theme:t})=>t.transitions.easing.easeInOut,mr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,mr.child,mr.childLeaving,cz,Z_,({theme:t})=>t.transitions.easing.easeInOut,mr.childPulsate,dz,({theme:t})=>t.transitions.easing.easeInOut),pz=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=le(r,az),[l,u]=A.useState([]),d=A.useRef(0),h=A.useRef(null);A.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const p=A.useRef(!1),g=NC(),v=A.useRef(null),T=A.useRef(null),S=A.useCallback(R=>{const{pulsate:x,rippleX:D,rippleY:I,rippleSize:E,cb:P}=R;u(C=>[...C,F.jsx(fz,{classes:{ripple:_e(s.ripple,mr.ripple),rippleVisible:_e(s.rippleVisible,mr.rippleVisible),ripplePulsate:_e(s.ripplePulsate,mr.ripplePulsate),child:_e(s.child,mr.child),childLeaving:_e(s.childLeaving,mr.childLeaving),childPulsate:_e(s.childPulsate,mr.childPulsate)},timeout:Z_,pulsate:x,rippleX:D,rippleY:I,rippleSize:E},d.current)]),d.current+=1,h.current=P},[s]),w=A.useCallback((R={},x={},D=()=>{})=>{const{pulsate:I=!1,center:E=i||x.pulsate,fakeElement:P=!1}=x;if((R==null?void 0:R.type)==="mousedown"&&p.current){p.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(p.current=!0);const C=P?null:T.current,N=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,k,G;if(E||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)O=Math.round(N.width/2),k=Math.round(N.height/2);else{const{clientX:X,clientY:J}=R.touches&&R.touches.length>0?R.touches[0]:R;O=Math.round(X-N.left),k=Math.round(J-N.top)}if(E)G=Math.sqrt((2*N.width**2+N.height**2)/3),G%2===0&&(G+=1);else{const X=Math.max(Math.abs((C?C.clientWidth:0)-O),O)*2+2,J=Math.max(Math.abs((C?C.clientHeight:0)-k),k)*2+2;G=Math.sqrt(X**2+J**2)}R!=null&&R.touches?v.current===null&&(v.current=()=>{S({pulsate:I,rippleX:O,rippleY:k,rippleSize:G,cb:D})},g.start(lz,()=>{v.current&&(v.current(),v.current=null)})):S({pulsate:I,rippleX:O,rippleY:k,rippleSize:G,cb:D})},[i,S,g]),y=A.useCallback(()=>{w({},{pulsate:!0})},[w]),_=A.useCallback((R,x)=>{if(g.clear(),(R==null?void 0:R.type)==="touchend"&&v.current){v.current(),v.current=null,g.start(0,()=>{_(R,x)});return}v.current=null,u(D=>D.length>0?D.slice(1):D),h.current=x},[g]);return A.useImperativeHandle(n,()=>({pulsate:y,start:w,stop:_}),[y,w,_]),F.jsx(hz,M({className:_e(mr.root,s.root,o),ref:T},a,{children:F.jsx(K4,{component:null,exit:!0,children:l})}))}),mz=pz;function gz(t){return Xe("MuiButtonBase",t)}const yz=Je("MuiButtonBase",["root","disabled","focusVisible"]),_z=yz,vz=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],wz=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=st({root:["root",e&&"disabled",n&&"focusVisible"]},gz,i);return n&&r&&(o.root+=` ${r}`),o},Iz=ce("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_z.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ez=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:p=!1,LinkComponent:g="a",onBlur:v,onClick:T,onContextMenu:S,onDragLeave:w,onFocus:y,onFocusVisible:_,onKeyDown:R,onKeyUp:x,onMouseDown:D,onMouseLeave:I,onMouseUp:E,onTouchEnd:P,onTouchMove:C,onTouchStart:N,tabIndex:O=0,TouchRippleProps:k,touchRippleRef:G,type:X}=r,J=le(r,vz),ne=A.useRef(null),B=A.useRef(null),Q=xn(B,G),{isFocusVisibleRef:ee,onFocus:ve,onBlur:ue,ref:he}=mB(),[de,be]=A.useState(!1);u&&de&&be(!1),A.useImperativeHandle(i,()=>({focusVisible:()=>{be(!0),ne.current.focus()}}),[]);const[Re,Ze]=A.useState(!1);A.useEffect(()=>{Ze(!0)},[]);const Zt=Re&&!d&&!u;A.useEffect(()=>{de&&p&&!d&&Re&&B.current.pulsate()},[d,p,de,Re]);function ht(ae,fr,Qi=h){return ja(Js=>(fr&&fr(Js),!Qi&&B.current&&B.current[ae](Js),!0))}const Ft=ht("start",D),Se=ht("stop",S),qe=ht("stop",w),ge=ht("stop",E),xe=ht("stop",ae=>{de&&ae.preventDefault(),I&&I(ae)}),$e=ht("start",N),Nr=ht("stop",P),vn=ht("stop",C),Mn=ht("stop",ae=>{ue(ae),ee.current===!1&&be(!1),v&&v(ae)},!1),Ln=ja(ae=>{ne.current||(ne.current=ae.currentTarget),ve(ae),ee.current===!0&&(be(!0),_&&_(ae)),y&&y(ae)}),wn=()=>{const ae=ne.current;return l&&l!=="button"&&!(ae.tagName==="A"&&ae.href)},We=A.useRef(!1),dr=ja(ae=>{p&&!We.current&&de&&B.current&&ae.key===" "&&(We.current=!0,B.current.stop(ae,()=>{B.current.start(ae)})),ae.target===ae.currentTarget&&wn()&&ae.key===" "&&ae.preventDefault(),R&&R(ae),ae.target===ae.currentTarget&&wn()&&ae.key==="Enter"&&!u&&(ae.preventDefault(),T&&T(ae))}),un=ja(ae=>{p&&ae.key===" "&&B.current&&de&&!ae.defaultPrevented&&(We.current=!1,B.current.stop(ae,()=>{B.current.pulsate(ae)})),x&&x(ae),T&&ae.target===ae.currentTarget&&wn()&&ae.key===" "&&!ae.defaultPrevented&&T(ae)});let Be=l;Be==="button"&&(J.href||J.to)&&(Be=g);const Vn={};Be==="button"?(Vn.type=X===void 0?"button":X,Vn.disabled=u):(!J.href&&!J.to&&(Vn.role="button"),u&&(Vn["aria-disabled"]=u));const hr=xn(n,he,ne),Ke=M({},r,{centerRipple:s,component:l,disabled:u,disableRipple:d,disableTouchRipple:h,focusRipple:p,tabIndex:O,focusVisible:de}),pe=wz(Ke);return F.jsxs(Iz,M({as:Be,className:_e(pe.root,a),ownerState:Ke,onBlur:Mn,onClick:T,onContextMenu:Se,onFocus:Ln,onKeyDown:dr,onKeyUp:un,onMouseDown:Ft,onMouseLeave:xe,onMouseUp:ge,onDragLeave:qe,onTouchEnd:Nr,onTouchMove:vn,onTouchStart:$e,ref:hr,tabIndex:u?-1:O,type:X},Vn,J,{children:[o,Zt?F.jsx(mz,M({ref:Q,center:s},k)):null]}))}),Tz=Ez;function Sz(t){return Xe("MuiAppBar",t)}Je("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const bz=["className","color","enableColorOnDark","position"],Rz=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${we(e)}`,`position${we(n)}`]};return st(i,Sz,r)},Mh=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Pz=ce(YC,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${we(n.position)}`],e[`color${we(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return M({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&M({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&M({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&M({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Mh(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Mh(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Mh(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Mh(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Az=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=le(r,bz),u=M({},r,{color:s,position:a,enableColorOnDark:o}),d=Rz(u);return F.jsx(Pz,M({square:!0,component:"header",ownerState:u,elevation:4,className:_e(d.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),Cz=Az,kz=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function xz(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Nz(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Oz(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Nz(t))}function Dz(t){const e=[],n=[];return Array.from(t.querySelectorAll(kz)).forEach((r,i)=>{const s=xz(r);s===-1||!Oz(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Mz(){return!0}function Lz(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Dz,isEnabled:o=Mz,open:a}=t,l=A.useRef(!1),u=A.useRef(null),d=A.useRef(null),h=A.useRef(null),p=A.useRef(null),g=A.useRef(!1),v=A.useRef(null),T=xn(e.ref,v),S=A.useRef(null);A.useEffect(()=>{!a||!v.current||(g.current=!n)},[n,a]),A.useEffect(()=>{if(!a||!v.current)return;const _=sr(v.current);return v.current.contains(_.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),A.useEffect(()=>{if(!a||!v.current)return;const _=sr(v.current),R=I=>{S.current=I,!(r||!o()||I.key!=="Tab")&&_.activeElement===v.current&&I.shiftKey&&(l.current=!0,d.current&&d.current.focus())},x=()=>{const I=v.current;if(I===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(I.contains(_.activeElement)||r&&_.activeElement!==u.current&&_.activeElement!==d.current)return;if(_.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!g.current)return;let E=[];if((_.activeElement===u.current||_.activeElement===d.current)&&(E=s(v.current)),E.length>0){var P,C;const N=!!((P=S.current)!=null&&P.shiftKey&&((C=S.current)==null?void 0:C.key)==="Tab"),O=E[0],k=E[E.length-1];typeof O!="string"&&typeof k!="string"&&(N?k.focus():O.focus())}else I.focus()};_.addEventListener("focusin",x),_.addEventListener("keydown",R,!0);const D=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&x()},50);return()=>{clearInterval(D),_.removeEventListener("focusin",x),_.removeEventListener("keydown",R,!0)}},[n,r,i,o,a,s]);const w=_=>{h.current===null&&(h.current=_.relatedTarget),g.current=!0,p.current=_.target;const R=e.props.onFocus;R&&R(_)},y=_=>{h.current===null&&(h.current=_.relatedTarget),g.current=!0};return F.jsxs(A.Fragment,{children:[F.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),A.cloneElement(e,{ref:T,onFocus:w}),F.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}function Vz(t){return typeof t=="function"?t():t}const Fz=A.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=A.useState(null),l=xn(A.isValidElement(r)?r.ref:null,n);if(Fo(()=>{s||a(Vz(i)||document.body)},[i,s]),Fo(()=>{if(o&&!s)return K_(n,o),()=>{K_(n,null)}},[n,o,s]),s){if(A.isValidElement(r)){const u={ref:l};return A.cloneElement(r,u)}return F.jsx(A.Fragment,{children:r})}return F.jsx(A.Fragment,{children:o&&U0.createPortal(r,o)})});function Uz(t){const e=sr(t);return e.body===t?Uo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function fc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function GS(t){return parseInt(Uo(t).getComputedStyle(t).paddingRight,10)||0}function $z(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function HS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!$z(o);a&&l&&fc(o,i)})}function Py(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Bz(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Uz(r)){const o=OC(sr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${GS(r)+o}px`;const a=sr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${GS(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=sr(r).body;else{const o=r.parentElement,a=Uo(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function zz(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class jz{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&fc(e.modalRef,!1);const i=zz(n);HS(n,e.mount,e.modalRef,i,!0);const s=Py(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Py(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Bz(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Py(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&fc(e.modalRef,n),HS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&fc(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function qz(t){return typeof t=="function"?t():t}function Wz(t){return t?t.props.hasOwnProperty("in"):!1}const Gz=new jz;function Hz(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Gz,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:d,rootRef:h}=t,p=A.useRef({}),g=A.useRef(null),v=A.useRef(null),T=xn(v,h),[S,w]=A.useState(!d),y=Wz(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const R=()=>sr(g.current),x=()=>(p.current.modalRef=v.current,p.current.mount=g.current,p.current),D=()=>{i.mount(x(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},I=ja(()=>{const J=qz(e)||R().body;i.add(x(),J),v.current&&D()}),E=A.useCallback(()=>i.isTopModal(x()),[i]),P=ja(J=>{g.current=J,J&&(d&&E()?D():v.current&&fc(v.current,_))}),C=A.useCallback(()=>{i.remove(x(),_)},[_,i]);A.useEffect(()=>()=>{C()},[C]),A.useEffect(()=>{d?I():(!y||!s)&&C()},[d,C,y,s,I]);const N=J=>ne=>{var B;(B=J.onKeyDown)==null||B.call(J,ne),!(ne.key!=="Escape"||ne.which===229||!E())&&(n||(ne.stopPropagation(),u&&u(ne,"escapeKeyDown")))},O=J=>ne=>{var B;(B=J.onClick)==null||B.call(J,ne),ne.target===ne.currentTarget&&u&&u(ne,"backdropClick")};return{getRootProps:(J={})=>{const ne=JC(t);delete ne.onTransitionEnter,delete ne.onTransitionExited;const B=M({},ne,J);return M({role:"presentation"},B,{onKeyDown:N(B),ref:T})},getBackdropProps:(J={})=>{const ne=J;return M({"aria-hidden":!0},ne,{onClick:O(ne),open:d})},getTransitionProps:()=>{const J=()=>{w(!1),o&&o()},ne=()=>{w(!0),a&&a(),s&&C()};return{onEnter:bS(J,l==null?void 0:l.props.onEnter),onExited:bS(ne,l==null?void 0:l.props.onExited)}},rootRef:T,portalRef:P,isTopModal:E,exited:S,hasTransition:y}}const Kz=["onChange","maxRows","minRows","style","value"];function Lh(t){return parseInt(t,10)||0}const Qz={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Yz(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const Xz=A.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=le(e,Kz),{current:u}=A.useRef(a!=null),d=A.useRef(null),h=xn(n,d),p=A.useRef(null),g=A.useCallback(()=>{const S=d.current,y=Uo(S).getComputedStyle(S);if(y.width==="0px")return{outerHeightStyle:0,overflowing:!1};const _=p.current;_.style.width=y.width,_.value=S.value||e.placeholder||"x",_.value.slice(-1)===`
`&&(_.value+=" ");const R=y.boxSizing,x=Lh(y.paddingBottom)+Lh(y.paddingTop),D=Lh(y.borderBottomWidth)+Lh(y.borderTopWidth),I=_.scrollHeight;_.value="x";const E=_.scrollHeight;let P=I;s&&(P=Math.max(Number(s)*E,P)),i&&(P=Math.min(Number(i)*E,P)),P=Math.max(P,E);const C=P+(R==="border-box"?x+D:0),N=Math.abs(P-I)<=1;return{outerHeightStyle:C,overflowing:N}},[i,s,e.placeholder]),v=A.useCallback(()=>{const S=g();if(Yz(S))return;const w=d.current;w.style.height=`${S.outerHeightStyle}px`,w.style.overflow=S.overflowing?"hidden":""},[g]);Fo(()=>{const S=()=>{v()};let w;const y=kC(S),_=d.current,R=Uo(_);R.addEventListener("resize",y);let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(S),x.observe(_)),()=>{y.clear(),cancelAnimationFrame(w),R.removeEventListener("resize",y),x&&x.disconnect()}},[g,v]),Fo(()=>{v()});const T=S=>{u||v(),r&&r(S)};return F.jsxs(A.Fragment,{children:[F.jsx("textarea",M({value:a,onChange:T,ref:h,rows:s,style:o},l)),F.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:M({},Qz.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function jl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Jz=A.createContext(void 0),yw=Jz;function ql(){return A.useContext(yw)}function Zz(t){return F.jsx(C$,M({},t,{defaultTheme:Lm,themeId:bd}))}function KS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function cp(t,e=!1){return t&&(KS(t.value)&&t.value!==""||e&&KS(t.defaultValue)&&t.defaultValue!=="")}function ej(t){return t.startAdornment}function tj(t){return Xe("MuiInputBase",t)}const nj=Je("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),wl=nj,rj=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Fm=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${we(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Um=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},ij=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:d,readOnly:h,size:p,startAdornment:g,type:v}=t,T={root:["root",`color${we(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",p&&p!=="medium"&&`size${we(p)}`,d&&"multiline",g&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",d&&"inputMultiline",p==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",g&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return st(T,tj,e)},$m=ce("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Fm})(({theme:t,ownerState:e})=>M({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${wl.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&M({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Bm=ce("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Um})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=M({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return M({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${wl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${wl.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),sj=F.jsx(Zz,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),oj=A.forwardRef(function(e,n){var r;const i=ot({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:d={},defaultValue:h,disabled:p,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:T=!1,id:S,inputComponent:w="input",inputProps:y={},inputRef:_,maxRows:R,minRows:x,multiline:D=!1,name:I,onBlur:E,onChange:P,onClick:C,onFocus:N,onKeyDown:O,onKeyUp:k,placeholder:G,readOnly:X,renderSuffix:J,rows:ne,slotProps:B={},slots:Q={},startAdornment:ee,type:ve="text",value:ue}=i,he=le(i,rj),de=y.value!=null?y.value:ue,{current:be}=A.useRef(de!=null),Re=A.useRef(),Ze=A.useCallback(pe=>{},[]),Zt=xn(Re,_,y.ref,Ze),[ht,Ft]=A.useState(!1),Se=ql(),qe=jl({props:i,muiFormControl:Se,states:["color","disabled","error","hiddenLabel","size","required","filled"]});qe.focused=Se?Se.focused:ht,A.useEffect(()=>{!Se&&p&&ht&&(Ft(!1),E&&E())},[Se,p,ht,E]);const ge=Se&&Se.onFilled,xe=Se&&Se.onEmpty,$e=A.useCallback(pe=>{cp(pe)?ge&&ge():xe&&xe()},[ge,xe]);Fo(()=>{be&&$e({value:de})},[de,$e,be]);const Nr=pe=>{if(qe.disabled){pe.stopPropagation();return}N&&N(pe),y.onFocus&&y.onFocus(pe),Se&&Se.onFocus?Se.onFocus(pe):Ft(!0)},vn=pe=>{E&&E(pe),y.onBlur&&y.onBlur(pe),Se&&Se.onBlur?Se.onBlur(pe):Ft(!1)},Mn=(pe,...ae)=>{if(!be){const fr=pe.target||Re.current;if(fr==null)throw new Error(Vo(1));$e({value:fr.value})}y.onChange&&y.onChange(pe,...ae),P&&P(pe,...ae)};A.useEffect(()=>{$e(Re.current)},[]);const Ln=pe=>{Re.current&&pe.currentTarget===pe.target&&Re.current.focus(),C&&C(pe)};let wn=w,We=y;D&&wn==="input"&&(ne?We=M({type:void 0,minRows:ne,maxRows:ne},We):We=M({type:void 0,maxRows:R,minRows:x},We),wn=Xz);const dr=pe=>{$e(pe.animationName==="mui-auto-fill-cancel"?Re.current:{value:"x"})};A.useEffect(()=>{Se&&Se.setAdornedStart(!!ee)},[Se,ee]);const un=M({},i,{color:qe.color||"primary",disabled:qe.disabled,endAdornment:v,error:qe.error,focused:qe.focused,formControl:Se,fullWidth:T,hiddenLabel:qe.hiddenLabel,multiline:D,size:qe.size,startAdornment:ee,type:ve}),Be=ij(un),Vn=Q.root||u.Root||$m,hr=B.root||d.root||{},Ke=Q.input||u.Input||Bm;return We=M({},We,(r=B.input)!=null?r:d.input),F.jsxs(A.Fragment,{children:[!g&&sj,F.jsxs(Vn,M({},hr,!up(Vn)&&{ownerState:M({},un,hr.ownerState)},{ref:n,onClick:Ln},he,{className:_e(Be.root,hr.className,l,X&&"MuiInputBase-readOnly"),children:[ee,F.jsx(yw.Provider,{value:null,children:F.jsx(Ke,M({ownerState:un,"aria-invalid":qe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:qe.disabled,id:S,onAnimationStart:dr,name:I,placeholder:G,readOnly:X,required:qe.required,rows:ne,value:de,onKeyDown:O,onKeyUp:k,type:ve},We,!up(Ke)&&{as:wn,ownerState:M({},un,We.ownerState)},{ref:Zt,className:_e(Be.input,We.className,X&&"MuiInputBase-readOnly"),onBlur:vn,onChange:Mn,onFocus:Nr}))}),v,J?J(M({},qe,{startAdornment:ee})):null]}))]})}),_w=oj;function aj(t){return Xe("MuiInput",t)}const lj=M({},wl,Je("MuiInput",["root","underline","input"])),xu=lj;function uj(t){return Xe("MuiOutlinedInput",t)}const cj=M({},wl,Je("MuiOutlinedInput",["root","notchedOutline","input"])),es=cj;function dj(t){return Xe("MuiFilledInput",t)}const hj=M({},wl,Je("MuiFilledInput",["root","underline","input"])),ro=hj,fj=GC(F.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),pj=GC(F.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function mj(t){return Xe("MuiAvatar",t)}Je("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const gj=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],yj=$4(),_j=t=>{const{classes:e,variant:n,colorDefault:r}=t;return st({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},mj,e)},vj=ce("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:M({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:M({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),wj=ce("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Ij=ce(pj,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function Ej({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=A.useState(!1);return A.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const Tj=A.forwardRef(function(e,n){const r=yj({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",slots:l={},slotProps:u={},imgProps:d,sizes:h,src:p,srcSet:g,variant:v="circular"}=r,T=le(r,gj);let S=null;const w=Ej(M({},d,{src:p,srcSet:g})),y=p||g,_=y&&w!=="error",R=M({},r,{colorDefault:!_,component:a,variant:v}),x=_j(R),[D,I]=iz("img",{className:x.img,elementType:wj,externalForwardedProps:{slots:l,slotProps:{img:M({},d,u.img)}},additionalProps:{alt:i,src:p,srcSet:g,sizes:h},ownerState:R});return _?S=F.jsx(D,M({},I)):s||s===0?S=s:y&&i?S=i[0]:S=F.jsx(Ij,{ownerState:R,className:x.fallback}),F.jsx(vj,M({as:a,ownerState:R,className:_e(x.root,o),ref:n},T,{children:S}))}),Sj=Tj,bj=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Rj={entering:{opacity:1},entered:{opacity:1}},Pj=A.forwardRef(function(e,n){const r=pw(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:g,onExited:v,onExiting:T,style:S,timeout:w=i,TransitionComponent:y=KC}=e,_=le(e,bj),R=A.useRef(null),x=xn(R,a.ref,n),D=G=>X=>{if(G){const J=R.current;X===void 0?G(J):G(J,X)}},I=D(p),E=D((G,X)=>{QC(G);const J=lp({style:S,timeout:w,easing:l},{mode:"enter"});G.style.webkitTransition=r.transitions.create("opacity",J),G.style.transition=r.transitions.create("opacity",J),d&&d(G,X)}),P=D(h),C=D(T),N=D(G=>{const X=lp({style:S,timeout:w,easing:l},{mode:"exit"});G.style.webkitTransition=r.transitions.create("opacity",X),G.style.transition=r.transitions.create("opacity",X),g&&g(G)}),O=D(v),k=G=>{s&&s(R.current,G)};return F.jsx(y,M({appear:o,in:u,nodeRef:R,onEnter:E,onEntered:P,onEntering:I,onExit:N,onExited:O,onExiting:C,addEndListener:k,timeout:w},_,{children:(G,X)=>A.cloneElement(a,M({style:M({opacity:0,visibility:G==="exited"&&!u?"hidden":void 0},Rj[G],S,a.props.style),ref:x},X))}))}),Aj=Pj;function Cj(t){return Xe("MuiBackdrop",t)}Je("MuiBackdrop",["root","invisible"]);const kj=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],xj=t=>{const{classes:e,invisible:n}=t;return st({root:["root",n&&"invisible"]},Cj,e)},Nj=ce("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>M({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Oj=A.forwardRef(function(e,n){var r,i,s;const o=ot({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:d={},componentsProps:h={},invisible:p=!1,open:g,slotProps:v={},slots:T={},TransitionComponent:S=Aj,transitionDuration:w}=o,y=le(o,kj),_=M({},o,{component:u,invisible:p}),R=xj(_),x=(r=v.root)!=null?r:h.root;return F.jsx(S,M({in:g,timeout:w},y,{children:F.jsx(Nj,M({"aria-hidden":!0},x,{as:(i=(s=T.root)!=null?s:d.Root)!=null?i:u,className:_e(R.root,l,x==null?void 0:x.className),ownerState:M({},_,x==null?void 0:x.ownerState),classes:R,ref:n,children:a}))}))}),Dj=Oj,Mj=Je("MuiBox",["root"]),Lj=Mj,Vj=zC(),Fj=L$({themeId:bd,defaultTheme:Vj,defaultClassName:Lj.root,generateClassName:TC.generate}),tk=Fj;function Uj(t){return Xe("MuiButton",t)}const $j=Je("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Vh=$j,Bj=A.createContext({}),zj=Bj,jj=A.createContext(void 0),qj=jj,Wj=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Gj=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${we(e)}`,`size${we(i)}`,`${s}Size${we(i)}`,`color${we(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${we(i)}`],endIcon:["icon","endIcon",`iconSize${we(i)}`]},l=st(a,Uj,o);return M({},o,l)},nk=t=>M({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Hj=ce(Tz,{shouldForwardProp:t=>Wr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${we(n.color)}`],e[`size${we(n.size)}`],e[`${n.variant}Size${we(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return M({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":M({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:qa(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:qa(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:qa(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":M({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Vh.focusVisible}`]:M({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Vh.disabled}`]:M({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${qa(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Vh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Vh.disabled}`]:{boxShadow:"none"}}),Kj=ce("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${we(n.size)}`]]}})(({ownerState:t})=>M({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},nk(t))),Qj=ce("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${we(n.size)}`]]}})(({ownerState:t})=>M({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},nk(t))),Yj=A.forwardRef(function(e,n){const r=A.useContext(zj),i=A.useContext(qj),s=cw(r,e),o=ot({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:d,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:T,fullWidth:S=!1,size:w="medium",startIcon:y,type:_,variant:R="text"}=o,x=le(o,Wj),D=M({},o,{color:l,component:u,disabled:h,disableElevation:p,disableFocusRipple:g,fullWidth:S,size:w,type:_,variant:R}),I=Gj(D),E=y&&F.jsx(Kj,{className:I.startIcon,ownerState:D,children:y}),P=v&&F.jsx(Qj,{className:I.endIcon,ownerState:D,children:v}),C=i||"";return F.jsxs(Hj,M({ownerState:D,className:_e(r.className,I.root,d,C),component:u,disabled:h,focusRipple:!g,focusVisibleClassName:_e(I.focusVisible,T),ref:n,type:_},x,{classes:I,children:[E,a,P]}))}),dp=Yj,Xj=TB({createStyledComponent:ce("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${we(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>ot({props:t,name:"MuiContainer"})}),vw=Xj;function Jj(t){return Xe("MuiModal",t)}Je("MuiModal",["root","hidden","backdrop"]);const Zj=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],e5=t=>{const{open:e,exited:n,classes:r}=t;return st({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Jj,r)},t5=ce("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>M({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),n5=ce(Dj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),r5=A.forwardRef(function(e,n){var r,i,s,o,a,l;const u=ot({name:"MuiModal",props:e}),{BackdropComponent:d=n5,BackdropProps:h,className:p,closeAfterTransition:g=!1,children:v,container:T,component:S,components:w={},componentsProps:y={},disableAutoFocus:_=!1,disableEnforceFocus:R=!1,disableEscapeKeyDown:x=!1,disablePortal:D=!1,disableRestoreFocus:I=!1,disableScrollLock:E=!1,hideBackdrop:P=!1,keepMounted:C=!1,onBackdropClick:N,open:O,slotProps:k,slots:G}=u,X=le(u,Zj),J=M({},u,{closeAfterTransition:g,disableAutoFocus:_,disableEnforceFocus:R,disableEscapeKeyDown:x,disablePortal:D,disableRestoreFocus:I,disableScrollLock:E,hideBackdrop:P,keepMounted:C}),{getRootProps:ne,getBackdropProps:B,getTransitionProps:Q,portalRef:ee,isTopModal:ve,exited:ue,hasTransition:he}=Hz(M({},J,{rootRef:n})),de=M({},J,{exited:ue}),be=e5(de),Re={};if(v.props.tabIndex===void 0&&(Re.tabIndex="-1"),he){const{onEnter:ge,onExited:xe}=Q();Re.onEnter=ge,Re.onExited=xe}const Ze=(r=(i=G==null?void 0:G.root)!=null?i:w.Root)!=null?r:t5,Zt=(s=(o=G==null?void 0:G.backdrop)!=null?o:w.Backdrop)!=null?s:d,ht=(a=k==null?void 0:k.root)!=null?a:y.root,Ft=(l=k==null?void 0:k.backdrop)!=null?l:y.backdrop,Se=vl({elementType:Ze,externalSlotProps:ht,externalForwardedProps:X,getSlotProps:ne,additionalProps:{ref:n,as:S},ownerState:de,className:_e(p,ht==null?void 0:ht.className,be==null?void 0:be.root,!de.open&&de.exited&&(be==null?void 0:be.hidden))}),qe=vl({elementType:Zt,externalSlotProps:Ft,additionalProps:h,getSlotProps:ge=>B(M({},ge,{onClick:xe=>{N&&N(xe),ge!=null&&ge.onClick&&ge.onClick(xe)}})),className:_e(Ft==null?void 0:Ft.className,h==null?void 0:h.className,be==null?void 0:be.backdrop),ownerState:de});return!C&&!O&&(!he||ue)?null:F.jsx(Fz,{ref:ee,container:T,disablePortal:D,children:F.jsxs(Ze,M({},Se,{children:[!P&&d?F.jsx(Zt,M({},qe)):null,F.jsx(Lz,{disableEnforceFocus:R,disableAutoFocus:_,disableRestoreFocus:I,isEnabled:ve,open:O,children:A.cloneElement(v,Re)})]}))})}),i5=r5,s5=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],o5=t=>{const{classes:e,disableUnderline:n}=t,i=st({root:["root",!n&&"underline"],input:["input"]},dj,e);return M({},e,i)},a5=ce($m,{shouldForwardProp:t=>Wr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Fm(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return M({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${ro.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${ro.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ro.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ro.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ro.disabled}, .${ro.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ro.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&M({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),l5=ce(Bm,{name:"MuiFilledInput",slot:"Input",overridesResolver:Um})(({theme:t,ownerState:e})=>M({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),rk=A.forwardRef(function(e,n){var r,i,s,o;const a=ot({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:g,slots:v={},type:T="text"}=a,S=le(a,s5),w=M({},a,{fullWidth:d,inputComponent:h,multiline:p,type:T}),y=o5(a),_={root:{ownerState:w},input:{ownerState:w}},R=g??u?ir(_,g??u):_,x=(r=(i=v.root)!=null?i:l.Root)!=null?r:a5,D=(s=(o=v.input)!=null?o:l.Input)!=null?s:l5;return F.jsx(_w,M({slots:{root:x,input:D},componentsProps:R,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:T},S,{classes:y}))});rk.muiName="Input";const ik=rk;function u5(t){return Xe("MuiFormControl",t)}Je("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const c5=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],d5=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${we(n)}`,r&&"fullWidth"]};return st(i,u5,e)},h5=ce("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>M({},e.root,e[`margin${we(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>M({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),f5=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:d,fullWidth:h=!1,hiddenLabel:p=!1,margin:g="none",required:v=!1,size:T="medium",variant:S="outlined"}=r,w=le(r,c5),y=M({},r,{color:o,component:a,disabled:l,error:u,fullWidth:h,hiddenLabel:p,margin:g,required:v,size:T,variant:S}),_=d5(y),[R,x]=A.useState(()=>{let k=!1;return i&&A.Children.forEach(i,G=>{if(!Ty(G,["Input","Select"]))return;const X=Ty(G,["Select"])?G.props.input:G;X&&ej(X.props)&&(k=!0)}),k}),[D,I]=A.useState(()=>{let k=!1;return i&&A.Children.forEach(i,G=>{Ty(G,["Input","Select"])&&(cp(G.props,!0)||cp(G.props.inputProps,!0))&&(k=!0)}),k}),[E,P]=A.useState(!1);l&&E&&P(!1);const C=d!==void 0&&!l?d:E;let N;const O=A.useMemo(()=>({adornedStart:R,setAdornedStart:x,color:o,disabled:l,error:u,filled:D,focused:C,fullWidth:h,hiddenLabel:p,size:T,onBlur:()=>{P(!1)},onEmpty:()=>{I(!1)},onFilled:()=>{I(!0)},onFocus:()=>{P(!0)},registerEffect:N,required:v,variant:S}),[R,o,l,u,D,C,h,p,N,v,T,S]);return F.jsx(yw.Provider,{value:O,children:F.jsx(h5,M({as:a,ownerState:y,className:_e(_.root,s),ref:n},w,{children:i}))})}),p5=f5;function m5(t){return Xe("MuiFormHelperText",t)}const g5=Je("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),QS=g5;var YS;const y5=["children","className","component","disabled","error","filled","focused","margin","required","variant"],_5=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${we(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return st(u,m5,e)},v5=ce("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${we(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>M({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${QS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${QS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),w5=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=le(r,y5),l=ql(),u=jl({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),d=M({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=_5(d);return F.jsx(v5,M({as:o,ownerState:d,className:_e(h.root,s),ref:n},a,{children:i===" "?YS||(YS=F.jsx("span",{className:"notranslate",children:"​"})):i}))}),I5=w5;function E5(t){return Xe("MuiFormLabel",t)}const T5=Je("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),pc=T5,S5=["children","className","color","component","disabled","error","filled","focused","required"],b5=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${we(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return st(l,E5,e)},R5=ce("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>M({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>M({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${pc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${pc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${pc.error}`]:{color:(t.vars||t).palette.error.main}})),P5=ce("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${pc.error}`]:{color:(t.vars||t).palette.error.main}})),A5=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=le(r,S5),l=ql(),u=jl({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),d=M({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=b5(d);return F.jsxs(R5,M({as:o,ownerState:d,className:_e(h.root,s),ref:n},a,{children:[i,u.required&&F.jsxs(P5,{ownerState:d,"aria-hidden":!0,className:h.asterisk,children:[" ","*"]})]}))}),C5=A5,k5=A.createContext(),XS=k5;function x5(t){return Xe("MuiGrid",t)}const N5=[0,1,2,3,4,5,6,7,8,9,10],O5=["column-reverse","column","row-reverse","row"],D5=["nowrap","wrap-reverse","wrap"],Nu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Jc=Je("MuiGrid",["root","container","item","zeroMinWidth",...N5.map(t=>`spacing-xs-${t}`),...O5.map(t=>`direction-xs-${t}`),...D5.map(t=>`wrap-xs-${t}`),...Nu.map(t=>`grid-xs-${t}`),...Nu.map(t=>`grid-sm-${t}`),...Nu.map(t=>`grid-md-${t}`),...Nu.map(t=>`grid-lg-${t}`),...Nu.map(t=>`grid-xl-${t}`)]),M5=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function tl(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function L5({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=gm({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const d=t.spacing(e.columnSpacing);if(d!=="0px"){const h=`calc(${l} + ${tl(d)})`;u={flexBasis:h,maxWidth:h}}}s=M({flexBasis:l,flexGrow:0,maxWidth:l},u)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function V5({theme:t,ownerState:e}){const n=gm({values:e.direction,breakpoints:t.breakpoints.values});return Rr({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Jc.item}`]={maxWidth:"none"}),i})}function sk({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function F5({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=gm({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=sk({breakpoints:t.breakpoints.values,values:s})),i=Rr({theme:t},s,(a,l)=>{var u;const d=t.spacing(a);return d!=="0px"?{marginTop:`-${tl(d)}`,[`& > .${Jc.item}`]:{paddingTop:tl(d)}}:(u=o)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${Jc.item}`]:{paddingTop:0}}})}return i}function U5({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=gm({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=sk({breakpoints:t.breakpoints.values,values:s})),i=Rr({theme:t},s,(a,l)=>{var u;const d=t.spacing(a);return d!=="0px"?{width:`calc(100% + ${tl(d)})`,marginLeft:`-${tl(d)}`,[`& > .${Jc.item}`]:{paddingLeft:tl(d)}}:(u=o)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Jc.item}`]:{paddingLeft:0}}})}return i}function $5(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const B5=ce("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:u}=n;let d=[];r&&(d=$5(o,u,e));const h=[];return u.forEach(p=>{const g=n[p];g&&h.push(e[`grid-${p}-${String(g)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...d,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>M({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),V5,F5,U5,L5);function z5(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const j5=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let u=[];n&&(u=z5(s,l));const d=[];l.forEach(p=>{const g=t[p];g&&d.push(`grid-${p}-${String(g)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...d]};return st(h,x5,e)},q5=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiGrid"}),{breakpoints:i}=pw(),s=aw(r),{className:o,columns:a,columnSpacing:l,component:u="div",container:d=!1,direction:h="row",item:p=!1,rowSpacing:g,spacing:v=0,wrap:T="wrap",zeroMinWidth:S=!1}=s,w=le(s,M5),y=g||v,_=l||v,R=A.useContext(XS),x=d?a||12:R,D={},I=M({},w);i.keys.forEach(C=>{w[C]!=null&&(D[C]=w[C],delete I[C])});const E=M({},s,{columns:x,container:d,direction:h,item:p,rowSpacing:y,columnSpacing:_,wrap:T,zeroMinWidth:S,spacing:v},D,{breakpoints:i.keys}),P=j5(E);return F.jsx(XS.Provider,{value:x,children:F.jsx(B5,M({ownerState:E,className:_e(P.root,o),as:u,ref:n},I))})}),Rs=q5,W5=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ev(t){return`scale(${t}, ${t**2})`}const G5={entering:{opacity:1,transform:ev(1)},entered:{opacity:1,transform:"none"}},Ay=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ok=A.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:d,onExit:h,onExited:p,onExiting:g,style:v,timeout:T="auto",TransitionComponent:S=KC}=e,w=le(e,W5),y=NC(),_=A.useRef(),R=pw(),x=A.useRef(null),D=xn(x,s.ref,n),I=X=>J=>{if(X){const ne=x.current;J===void 0?X(ne):X(ne,J)}},E=I(d),P=I((X,J)=>{QC(X);const{duration:ne,delay:B,easing:Q}=lp({style:v,timeout:T,easing:o},{mode:"enter"});let ee;T==="auto"?(ee=R.transitions.getAutoHeightDuration(X.clientHeight),_.current=ee):ee=ne,X.style.transition=[R.transitions.create("opacity",{duration:ee,delay:B}),R.transitions.create("transform",{duration:Ay?ee:ee*.666,delay:B,easing:Q})].join(","),l&&l(X,J)}),C=I(u),N=I(g),O=I(X=>{const{duration:J,delay:ne,easing:B}=lp({style:v,timeout:T,easing:o},{mode:"exit"});let Q;T==="auto"?(Q=R.transitions.getAutoHeightDuration(X.clientHeight),_.current=Q):Q=J,X.style.transition=[R.transitions.create("opacity",{duration:Q,delay:ne}),R.transitions.create("transform",{duration:Ay?Q:Q*.666,delay:Ay?ne:ne||Q*.333,easing:B})].join(","),X.style.opacity=0,X.style.transform=ev(.75),h&&h(X)}),k=I(p),G=X=>{T==="auto"&&y.start(_.current||0,X),r&&r(x.current,X)};return F.jsx(S,M({appear:i,in:a,nodeRef:x,onEnter:P,onEntered:C,onEntering:E,onExit:O,onExited:k,onExiting:N,addEndListener:G,timeout:T==="auto"?null:T},w,{children:(X,J)=>A.cloneElement(s,M({style:M({opacity:0,transform:ev(.75),visibility:X==="exited"&&!a?"hidden":void 0},G5[X],v,s.props.style),ref:D},J))}))});ok.muiSupportAuto=!0;const H5=ok,K5=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Q5=t=>{const{classes:e,disableUnderline:n}=t,i=st({root:["root",!n&&"underline"],input:["input"]},aj,e);return M({},e,i)},Y5=ce($m,{shouldForwardProp:t=>Wr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Fm(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),M({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xu.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xu.disabled}, .${xu.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${xu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),X5=ce(Bm,{name:"MuiInput",slot:"Input",overridesResolver:Um})({}),ak=A.forwardRef(function(e,n){var r,i,s,o;const a=ot({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:d,fullWidth:h=!1,inputComponent:p="input",multiline:g=!1,slotProps:v,slots:T={},type:S="text"}=a,w=le(a,K5),y=Q5(a),R={root:{ownerState:{disableUnderline:l}}},x=v??d?ir(v??d,R):R,D=(r=(i=T.root)!=null?i:u.Root)!=null?r:Y5,I=(s=(o=T.input)!=null?o:u.Input)!=null?s:X5;return F.jsx(_w,M({slots:{root:D,input:I},slotProps:x,fullWidth:h,inputComponent:p,multiline:g,ref:n,type:S},w,{classes:y}))});ak.muiName="Input";const lk=ak;function J5(t){return Xe("MuiInputLabel",t)}Je("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Z5=["disableAnimation","margin","shrink","variant","className"],e3=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${we(r)}`,o],asterisk:[a&&"asterisk"]},u=st(l,J5,e);return M({},e,u)},t3=ce(C5,{shouldForwardProp:t=>Wr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${pc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>M({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&M({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&M({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&M({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),n3=A.forwardRef(function(e,n){const r=ot({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=le(r,Z5),l=ql();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const d=jl({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),h=M({},r,{disableAnimation:i,formControl:l,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),p=e3(h);return F.jsx(t3,M({"data-shrink":u,ownerState:h,ref:n,className:_e(p.root,o)},a,{classes:p}))}),r3=n3,i3=A.createContext({}),s3=i3;function o3(t){return Xe("MuiList",t)}Je("MuiList",["root","padding","dense","subheader"]);const a3=["children","className","component","dense","disablePadding","subheader"],l3=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return st({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},o3,e)},u3=ce("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>M({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),c3=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,d=le(r,a3),h=A.useMemo(()=>({dense:a}),[a]),p=M({},r,{component:o,dense:a,disablePadding:l}),g=l3(p);return F.jsx(s3.Provider,{value:h,children:F.jsxs(u3,M({as:o,className:_e(g.root,s),ref:n,ownerState:p},d,{children:[u,i]}))})}),d3=c3,h3=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Cy(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function JS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function uk(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Ou(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!uk(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const f3=A.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:h="selectedMenu"}=e,p=le(e,h3),g=A.useRef(null),v=A.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Fo(()=>{i&&g.current.focus()},[i]),A.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:R})=>{const x=!g.current.style.width;if(_.clientHeight<g.current.clientHeight&&x){const D=`${OC(sr(_))}px`;g.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=D,g.current.style.width=`calc(100% + ${D})`}return g.current}}),[]);const T=_=>{const R=g.current,x=_.key,D=sr(R).activeElement;if(x==="ArrowDown")_.preventDefault(),Ou(R,D,u,l,Cy);else if(x==="ArrowUp")_.preventDefault(),Ou(R,D,u,l,JS);else if(x==="Home")_.preventDefault(),Ou(R,null,u,l,Cy);else if(x==="End")_.preventDefault(),Ou(R,null,u,l,JS);else if(x.length===1){const I=v.current,E=x.toLowerCase(),P=performance.now();I.keys.length>0&&(P-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&E!==I.keys[0]&&(I.repeating=!1)),I.lastTime=P,I.keys.push(E);const C=D&&!I.repeating&&uk(D,I);I.previousKeyMatched&&(C||Ou(R,D,!1,l,Cy,I))?_.preventDefault():I.previousKeyMatched=!1}d&&d(_)},S=xn(g,n);let w=-1;A.Children.forEach(o,(_,R)=>{if(!A.isValidElement(_)){w===R&&(w+=1,w>=o.length&&(w=-1));return}_.props.disabled||(h==="selectedMenu"&&_.props.selected||w===-1)&&(w=R),w===R&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(w+=1,w>=o.length&&(w=-1))});const y=A.Children.map(o,(_,R)=>{if(R===w){const x={};return s&&(x.autoFocus=!0),_.props.tabIndex===void 0&&h==="selectedMenu"&&(x.tabIndex=0),A.cloneElement(_,x)}return _});return F.jsx(d3,M({role:"menu",ref:S,className:a,onKeyDown:T,tabIndex:i?0:-1},p,{children:y}))}),p3=f3;function m3(t){return Xe("MuiPopover",t)}Je("MuiPopover",["root","paper"]);const g3=["onEntering"],y3=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_3=["slotProps"];function ZS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function eb(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function tb(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ky(t){return typeof t=="function"?t():t}const v3=t=>{const{classes:e}=t;return st({root:["root"],paper:["paper"]},m3,e)},w3=ce(i5,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ck=ce(YC,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),I3=A.forwardRef(function(e,n){var r,i,s;const o=ot({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:h="anchorEl",children:p,className:g,container:v,elevation:T=8,marginThreshold:S=16,open:w,PaperProps:y={},slots:_,slotProps:R,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:D=H5,transitionDuration:I="auto",TransitionProps:{onEntering:E}={},disableScrollLock:P=!1}=o,C=le(o.TransitionProps,g3),N=le(o,y3),O=(r=R==null?void 0:R.paper)!=null?r:y,k=A.useRef(),G=xn(k,O.ref),X=M({},o,{anchorOrigin:u,anchorReference:h,elevation:T,marginThreshold:S,externalPaperSlotProps:O,transformOrigin:x,TransitionComponent:D,transitionDuration:I,TransitionProps:C}),J=v3(X),ne=A.useCallback(()=>{if(h==="anchorPosition")return d;const ge=ky(l),$e=(ge&&ge.nodeType===1?ge:sr(k.current).body).getBoundingClientRect();return{top:$e.top+ZS($e,u.vertical),left:$e.left+eb($e,u.horizontal)}},[l,u.horizontal,u.vertical,d,h]),B=A.useCallback(ge=>({vertical:ZS(ge,x.vertical),horizontal:eb(ge,x.horizontal)}),[x.horizontal,x.vertical]),Q=A.useCallback(ge=>{const xe={width:ge.offsetWidth,height:ge.offsetHeight},$e=B(xe);if(h==="none")return{top:null,left:null,transformOrigin:tb($e)};const Nr=ne();let vn=Nr.top-$e.vertical,Mn=Nr.left-$e.horizontal;const Ln=vn+xe.height,wn=Mn+xe.width,We=Uo(ky(l)),dr=We.innerHeight-S,un=We.innerWidth-S;if(S!==null&&vn<S){const Be=vn-S;vn-=Be,$e.vertical+=Be}else if(S!==null&&Ln>dr){const Be=Ln-dr;vn-=Be,$e.vertical+=Be}if(S!==null&&Mn<S){const Be=Mn-S;Mn-=Be,$e.horizontal+=Be}else if(wn>un){const Be=wn-un;Mn-=Be,$e.horizontal+=Be}return{top:`${Math.round(vn)}px`,left:`${Math.round(Mn)}px`,transformOrigin:tb($e)}},[l,h,ne,B,S]),[ee,ve]=A.useState(w),ue=A.useCallback(()=>{const ge=k.current;if(!ge)return;const xe=Q(ge);xe.top!==null&&(ge.style.top=xe.top),xe.left!==null&&(ge.style.left=xe.left),ge.style.transformOrigin=xe.transformOrigin,ve(!0)},[Q]);A.useEffect(()=>(P&&window.addEventListener("scroll",ue),()=>window.removeEventListener("scroll",ue)),[l,P,ue]);const he=(ge,xe)=>{E&&E(ge,xe),ue()},de=()=>{ve(!1)};A.useEffect(()=>{w&&ue()}),A.useImperativeHandle(a,()=>w?{updatePosition:()=>{ue()}}:null,[w,ue]),A.useEffect(()=>{if(!w)return;const ge=kC(()=>{ue()}),xe=Uo(l);return xe.addEventListener("resize",ge),()=>{ge.clear(),xe.removeEventListener("resize",ge)}},[l,w,ue]);let be=I;I==="auto"&&!D.muiSupportAuto&&(be=void 0);const Re=v||(l?sr(ky(l)).body:void 0),Ze=(i=_==null?void 0:_.root)!=null?i:w3,Zt=(s=_==null?void 0:_.paper)!=null?s:ck,ht=vl({elementType:Zt,externalSlotProps:M({},O,{style:ee?O.style:M({},O.style,{opacity:0})}),additionalProps:{elevation:T,ref:G},ownerState:X,className:_e(J.paper,O==null?void 0:O.className)}),Ft=vl({elementType:Ze,externalSlotProps:(R==null?void 0:R.root)||{},externalForwardedProps:N,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Re,open:w},ownerState:X,className:_e(J.root,g)}),{slotProps:Se}=Ft,qe=le(Ft,_3);return F.jsx(Ze,M({},qe,!up(Ze)&&{slotProps:Se,disableScrollLock:P},{children:F.jsx(D,M({appear:!0,in:w,onEntering:he,onExited:de,timeout:be},C,{children:F.jsx(Zt,M({},ht,{children:p}))}))}))}),E3=I3;function T3(t){return Xe("MuiMenu",t)}Je("MuiMenu",["root","paper","list"]);const S3=["onEntering"],b3=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],R3={vertical:"top",horizontal:"right"},P3={vertical:"top",horizontal:"left"},A3=t=>{const{classes:e}=t;return st({root:["root"],paper:["paper"],list:["list"]},T3,e)},C3=ce(E3,{shouldForwardProp:t=>Wr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),k3=ce(ck,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),x3=ce(p3,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),N3=A.forwardRef(function(e,n){var r,i;const s=ot({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:d={},onClose:h,open:p,PaperProps:g={},PopoverClasses:v,transitionDuration:T="auto",TransitionProps:{onEntering:S}={},variant:w="selectedMenu",slots:y={},slotProps:_={}}=s,R=le(s.TransitionProps,S3),x=le(s,b3),D=yB(),I=M({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:d,onEntering:S,PaperProps:g,transitionDuration:T,TransitionProps:R,variant:w}),E=A3(I),P=o&&!u&&p,C=A.useRef(null),N=(B,Q)=>{C.current&&C.current.adjustStyleForScrollbar(B,{direction:D?"rtl":"ltr"}),S&&S(B,Q)},O=B=>{B.key==="Tab"&&(B.preventDefault(),h&&h(B,"tabKeyDown"))};let k=-1;A.Children.map(a,(B,Q)=>{A.isValidElement(B)&&(B.props.disabled||(w==="selectedMenu"&&B.props.selected||k===-1)&&(k=Q))});const G=(r=y.paper)!=null?r:k3,X=(i=_.paper)!=null?i:g,J=vl({elementType:y.root,externalSlotProps:_.root,ownerState:I,className:[E.root,l]}),ne=vl({elementType:G,externalSlotProps:X,ownerState:I,className:E.paper});return F.jsx(C3,M({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?R3:P3,slots:{paper:G,root:y.root},slotProps:{root:J,paper:ne},open:p,ref:n,transitionDuration:T,TransitionProps:M({onEntering:N},R),ownerState:I},x,{classes:v,children:F.jsx(x3,M({onKeyDown:O,actions:C,autoFocus:o&&(k===-1||u),autoFocusItem:P,variant:w},d,{className:_e(E.list,d.className),children:a}))}))}),O3=N3;function D3(t){return Xe("MuiNativeSelect",t)}const M3=Je("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ww=M3,L3=["className","disabled","error","IconComponent","inputRef","variant"],V3=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${we(n)}`,s&&"iconOpen",r&&"disabled"]};return st(a,D3,e)},dk=({ownerState:t,theme:e})=>M({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":M({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${ww.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),F3=ce("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Wr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${ww.multiple}`]:e.multiple}]}})(dk),hk=({ownerState:t,theme:e})=>M({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${ww.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),U3=ce("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${we(n.variant)}`],n.open&&e.iconOpen]}})(hk),$3=A.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=le(e,L3),d=M({},e,{disabled:i,variant:l,error:s}),h=V3(d);return F.jsxs(A.Fragment,{children:[F.jsx(F3,M({ownerState:d,className:_e(h.select,r),disabled:i,ref:a||n},u)),e.multiple?null:F.jsx(U3,{as:o,ownerState:d,className:h.icon})]})}),B3=$3;var nb;const z3=["children","classes","className","label","notched"],j3=ce("fieldset",{shouldForwardProp:Wr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),q3=ce("legend",{shouldForwardProp:Wr})(({ownerState:t,theme:e})=>M({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&M({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function W3(t){const{className:e,label:n,notched:r}=t,i=le(t,z3),s=n!=null&&n!=="",o=M({},t,{notched:r,withLabel:s});return F.jsx(j3,M({"aria-hidden":!0,className:e,ownerState:o},i,{children:F.jsx(q3,{ownerState:o,children:s?F.jsx("span",{children:n}):nb||(nb=F.jsx("span",{className:"notranslate",children:"​"}))})}))}const G3=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],H3=t=>{const{classes:e}=t,r=st({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},uj,e);return M({},e,r)},K3=ce($m,{shouldForwardProp:t=>Wr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Fm})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return M({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${es.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${es.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${es.focused} .${es.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${es.error} .${es.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${es.disabled} .${es.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&M({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Q3=ce(W3,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Y3=ce(Bm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Um})(({theme:t,ownerState:e})=>M({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),fk=A.forwardRef(function(e,n){var r,i,s,o,a;const l=ot({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:d=!1,inputComponent:h="input",label:p,multiline:g=!1,notched:v,slots:T={},type:S="text"}=l,w=le(l,G3),y=H3(l),_=ql(),R=jl({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=M({},l,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:_,fullWidth:d,hiddenLabel:R.hiddenLabel,multiline:g,size:R.size,type:S}),D=(r=(i=T.root)!=null?i:u.Root)!=null?r:K3,I=(s=(o=T.input)!=null?o:u.Input)!=null?s:Y3;return F.jsx(_w,M({slots:{root:D,input:I},renderSuffix:E=>F.jsx(Q3,{ownerState:x,className:y.notchedOutline,label:p!=null&&p!==""&&R.required?a||(a=F.jsxs(A.Fragment,{children:[p," ","*"]})):p,notched:typeof v<"u"?v:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:d,inputComponent:h,multiline:g,ref:n,type:S},w,{classes:M({},y,{notchedOutline:null})}))});fk.muiName="Input";const pk=fk;function X3(t){return Xe("MuiSelect",t)}const J3=Je("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Du=J3;var rb;const Z3=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],e6=ce("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Du.select}`]:e.select},{[`&.${Du.select}`]:e[n.variant]},{[`&.${Du.error}`]:e.error},{[`&.${Du.multiple}`]:e.multiple}]}})(dk,{[`&.${Du.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),t6=ce("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${we(n.variant)}`],n.open&&e.iconOpen]}})(hk),n6=ce("input",{shouldForwardProp:t=>qC(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ib(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function r6(t){return t==null||typeof t=="string"&&!t.trim()}const i6=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${we(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return st(a,X3,e)},s6=A.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:d,defaultValue:h,disabled:p,displayEmpty:g,error:v=!1,IconComponent:T,inputRef:S,labelId:w,MenuProps:y={},multiple:_,name:R,onBlur:x,onChange:D,onClose:I,onFocus:E,onOpen:P,open:C,readOnly:N,renderValue:O,SelectDisplayProps:k={},tabIndex:G,value:X,variant:J="standard"}=e,ne=le(e,Z3),[B,Q]=AS({controlled:X,default:h,name:"Select"}),[ee,ve]=AS({controlled:C,default:d,name:"Select"}),ue=A.useRef(null),he=A.useRef(null),[de,be]=A.useState(null),{current:Re}=A.useRef(C!=null),[Ze,Zt]=A.useState(),ht=xn(n,S),Ft=A.useCallback(oe=>{he.current=oe,oe&&be(oe)},[]),Se=de==null?void 0:de.parentNode;A.useImperativeHandle(ht,()=>({focus:()=>{he.current.focus()},node:ue.current,value:B}),[B]),A.useEffect(()=>{d&&ee&&de&&!Re&&(Zt(a?null:Se.clientWidth),he.current.focus())},[de,a]),A.useEffect(()=>{o&&he.current.focus()},[o]),A.useEffect(()=>{if(!w)return;const oe=sr(he.current).getElementById(w);if(oe){const ze=()=>{getSelection().isCollapsed&&he.current.focus()};return oe.addEventListener("click",ze),()=>{oe.removeEventListener("click",ze)}}},[w]);const qe=(oe,ze)=>{oe?P&&P(ze):I&&I(ze),Re||(Zt(a?null:Se.clientWidth),ve(oe))},ge=oe=>{oe.button===0&&(oe.preventDefault(),he.current.focus(),qe(!0,oe))},xe=oe=>{qe(!1,oe)},$e=A.Children.toArray(l),Nr=oe=>{const ze=$e.find(Ot=>Ot.props.value===oe.target.value);ze!==void 0&&(Q(ze.props.value),D&&D(oe,ze))},vn=oe=>ze=>{let Ot;if(ze.currentTarget.hasAttribute("tabindex")){if(_){Ot=Array.isArray(B)?B.slice():[];const Gr=B.indexOf(oe.props.value);Gr===-1?Ot.push(oe.props.value):Ot.splice(Gr,1)}else Ot=oe.props.value;if(oe.props.onClick&&oe.props.onClick(ze),B!==Ot&&(Q(Ot),D)){const Gr=ze.nativeEvent||ze,Zd=new Gr.constructor(Gr.type,Gr);Object.defineProperty(Zd,"target",{writable:!0,value:{value:Ot,name:R}}),D(Zd,oe)}_||qe(!1,ze)}},Mn=oe=>{N||[" ","ArrowUp","ArrowDown","Enter"].indexOf(oe.key)!==-1&&(oe.preventDefault(),qe(!0,oe))},Ln=de!==null&&ee,wn=oe=>{!Ln&&x&&(Object.defineProperty(oe,"target",{writable:!0,value:{value:B,name:R}}),x(oe))};delete ne["aria-invalid"];let We,dr;const un=[];let Be=!1;(cp({value:B})||g)&&(O?We=O(B):Be=!0);const Vn=$e.map(oe=>{if(!A.isValidElement(oe))return null;let ze;if(_){if(!Array.isArray(B))throw new Error(Vo(2));ze=B.some(Ot=>ib(Ot,oe.props.value)),ze&&Be&&un.push(oe.props.children)}else ze=ib(B,oe.props.value),ze&&Be&&(dr=oe.props.children);return A.cloneElement(oe,{"aria-selected":ze?"true":"false",onClick:vn(oe),onKeyUp:Ot=>{Ot.key===" "&&Ot.preventDefault(),oe.props.onKeyUp&&oe.props.onKeyUp(Ot)},role:"option",selected:ze,value:void 0,"data-value":oe.props.value})});Be&&(_?un.length===0?We=null:We=un.reduce((oe,ze,Ot)=>(oe.push(ze),Ot<un.length-1&&oe.push(", "),oe),[]):We=dr);let hr=Ze;!a&&Re&&de&&(hr=Se.clientWidth);let Ke;typeof G<"u"?Ke=G:Ke=p?null:0;const pe=k.id||(R?`mui-component-select-${R}`:void 0),ae=M({},e,{variant:J,value:B,open:Ln,error:v}),fr=i6(ae),Qi=M({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),Js=xC();return F.jsxs(A.Fragment,{children:[F.jsx(e6,M({ref:Ft,tabIndex:Ke,role:"combobox","aria-controls":Js,"aria-disabled":p?"true":void 0,"aria-expanded":Ln?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[w,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Mn,onMouseDown:p||N?null:ge,onBlur:wn,onFocus:E},k,{ownerState:ae,className:_e(k.className,fr.select,u),id:pe,children:r6(We)?rb||(rb=F.jsx("span",{className:"notranslate",children:"​"})):We})),F.jsx(n6,M({"aria-invalid":v,value:Array.isArray(B)?B.join(","):B,name:R,ref:ue,"aria-hidden":!0,onChange:Nr,tabIndex:-1,disabled:p,className:fr.nativeInput,autoFocus:o,ownerState:ae},ne)),F.jsx(t6,{as:T,className:fr.icon,ownerState:ae}),F.jsx(O3,M({id:`menu-${R||""}`,anchorEl:Se,open:Ln,onClose:xe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:M({"aria-labelledby":w,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Js},y.MenuListProps),slotProps:M({},y.slotProps,{paper:M({},Qi,{style:M({minWidth:hr},Qi!=null?Qi.style:null)})}),children:Vn}))]})}),o6=s6,a6=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],l6=["root"],u6=t=>{const{classes:e}=t;return e},Iw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Wr(t)&&t!=="variant",slot:"Root"},c6=ce(lk,Iw)(""),d6=ce(pk,Iw)(""),h6=ce(ik,Iw)(""),mk=A.forwardRef(function(e,n){const r=ot({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:d=fj,id:h,input:p,inputProps:g,label:v,labelId:T,MenuProps:S,multiple:w=!1,native:y=!1,onClose:_,onOpen:R,open:x,renderValue:D,SelectDisplayProps:I,variant:E="outlined"}=r,P=le(r,a6),C=y?B3:o6,N=ql(),O=jl({props:r,muiFormControl:N,states:["variant","error"]}),k=O.variant||E,G=M({},r,{variant:k,classes:o}),X=u6(G),J=le(X,l6),ne=p||{standard:F.jsx(c6,{ownerState:G}),outlined:F.jsx(d6,{label:v,ownerState:G}),filled:F.jsx(h6,{ownerState:G})}[k],B=xn(n,ne.ref);return F.jsx(A.Fragment,{children:A.cloneElement(ne,M({inputComponent:C,inputProps:M({children:s,error:O.error,IconComponent:d,variant:k,type:void 0,multiple:w},y?{id:h}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:T,MenuProps:S,onClose:_,onOpen:R,open:x,renderValue:D,SelectDisplayProps:M({id:h},I)},g,{classes:g?ir(J,g.classes):J},p?p.props.inputProps:{})},(w&&y||u)&&k==="outlined"?{notched:!0}:{},{ref:B,className:_e(ne.props.className,a,X.root)},!p&&{variant:k},P))})});mk.muiName="Select";const f6=mk;function p6(t){return Xe("MuiToolbar",t)}Je("MuiToolbar",["root","gutters","regular","dense"]);const m6=["className","component","disableGutters","variant"],g6=t=>{const{classes:e,disableGutters:n,variant:r}=t;return st({root:["root",!n&&"gutters",r]},p6,e)},y6=ce("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>M({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),_6=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=le(r,m6),u=M({},r,{component:s,disableGutters:o,variant:a}),d=g6(u);return F.jsx(y6,M({as:s,className:_e(d.root,i),ref:n,ownerState:u},l))}),v6=_6;function w6(t){return Xe("MuiTextField",t)}Je("MuiTextField",["root"]);const I6=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],E6={standard:lk,filled:ik,outlined:pk},T6=t=>{const{classes:e}=t;return st({root:["root"]},w6,e)},S6=ce(p5,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),b6=A.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:d=!1,error:h=!1,FormHelperTextProps:p,fullWidth:g=!1,helperText:v,id:T,InputLabelProps:S,inputProps:w,InputProps:y,inputRef:_,label:R,maxRows:x,minRows:D,multiline:I=!1,name:E,onBlur:P,onChange:C,onFocus:N,placeholder:O,required:k=!1,rows:G,select:X=!1,SelectProps:J,type:ne,value:B,variant:Q="outlined"}=r,ee=le(r,I6),ve=M({},r,{autoFocus:s,color:l,disabled:d,error:h,fullWidth:g,multiline:I,required:k,select:X,variant:Q}),ue=T6(ve),he={};Q==="outlined"&&(S&&typeof S.shrink<"u"&&(he.notched=S.shrink),he.label=R),X&&((!J||!J.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const de=xC(T),be=v&&de?`${de}-helper-text`:void 0,Re=R&&de?`${de}-label`:void 0,Ze=E6[Q],Zt=F.jsx(Ze,M({"aria-describedby":be,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:g,multiline:I,name:E,rows:G,maxRows:x,minRows:D,type:ne,value:B,id:de,inputRef:_,onBlur:P,onChange:C,onFocus:N,placeholder:O,inputProps:w},he,y));return F.jsxs(S6,M({className:_e(ue.root,a),disabled:d,error:h,fullWidth:g,ref:n,required:k,color:l,variant:Q,ownerState:ve},ee,{children:[R!=null&&R!==""&&F.jsx(r3,M({htmlFor:de,id:Re},S,{children:R})),X?F.jsx(f6,M({"aria-describedby":be,id:de,labelId:Re,value:B,input:Zt},J,{children:o})):Zt,v&&F.jsx(I5,M({id:be},p,{children:v}))]}))}),R6=b6,P6=()=>{const{auth:t}=A.useContext(au),e=async()=>{const n=new gi.auth.GoogleAuthProvider,{user:r}=await t.signInWithPopup(n);console.log(r)};return F.jsx(vw,{children:F.jsx(Rs,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:F.jsx(Rs,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:F.jsx(tk,{p:5,children:F.jsx(dp,{onClick:e,variant:"outlined",children:"Login with Google"})})})})})};function Nd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A6=gk,yk=new mi("auth","Firebase",gk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new Sd("@firebase/auth");function C6(t,...e){hp.logLevel<=ye.WARN&&hp.warn(`Auth (${Cr}): ${t}`,...e)}function pf(t,...e){hp.logLevel<=ye.ERROR&&hp.error(`Auth (${Cr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,...e){throw Ew(t,...e)}function _k(t,...e){return Ew(t,...e)}function vk(t,e,n){const r=Object.assign(Object.assign({},A6()),{[e]:n});return new mi("auth","Firebase",r).create(e,{appName:t.name})}function mf(t){return vk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ew(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yk.create(t,...e)}function Me(t,e,...n){if(!t)throw Ew(e,...n)}function mc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pf(e),new Error(e)}function fp(t,e){t||mc(e)}function k6(){return ob()==="http:"||ob()==="https:"}function ob(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k6()||Y0()||"connection"in navigator)?navigator.onLine:!0}function N6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,fp(n>e,"Short delay should be less than long delay!"),this.isMobile=XA()||mm()}get(){return x6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e){fp(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wk=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Od(3e4,6e4);function Ik(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zm(t,e,n,r,i={}){return Ek(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=qs(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),wk.fetch()(Tk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Ek(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D6),e);try{const i=new L6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vk(t,d,u);sb(t,d)}}catch(i){if(i instanceof Ht)throw i;sb(t,"network-request-failed",{message:String(i)})}}function Tk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?O6(t.config,i):`${t.config.apiScheme}://${i}`}let L6=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_k(this.auth,"network-request-failed")),M6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_k(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e){return zm(t,"POST","/v1/accounts:delete",e)}async function Sk(t,e){return zm(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F6(t,e=!1){const n=re(t),r=await n.getIdToken(e),i=bk(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gc(xy(i.auth_time)),issuedAtTime:gc(xy(i.iat)),expirationTime:gc(xy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xy(t){return Number(t)*1e3}function bk(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=H0(n);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ab(t){const e=bk(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tv(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ht&&U6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $6=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tv(t,Sk(n,{idToken:r}));Me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Rk(s.providerUserInfo):[],a=z6(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function B6(t){const e=re(t);await pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rk(t){return t.map(e=>{var{providerId:n}=e,r=Nd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e){const n=await Ek(t,{},async()=>{const r=qs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Tk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q6(t,e){return zm(t,"POST","/v2/accounts:revokeToken",Ik(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny=class rv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=ab(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await j6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new rv;return r&&(Me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rv,this.toJSON())}_performRefresh(){return mc("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let iv=class Yu{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tv(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F6(this,e)}reload(){return B6(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(He(this.auth.app))return Promise.reject(mf(this.auth));const e=await this.getIdToken();return await tv(this,V6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:R,isAnonymous:x,providerData:D,stsTokenManager:I}=n;Me(_&&I,e,"internal-error");const E=Ny.fromJSON(this.name,I);Me(typeof _=="string",e,"internal-error"),ts(h,e.name),ts(p,e.name),Me(typeof R=="boolean",e,"internal-error"),Me(typeof x=="boolean",e,"internal-error"),ts(g,e.name),ts(v,e.name),ts(T,e.name),ts(S,e.name),ts(w,e.name),ts(y,e.name);const P=new Yu({uid:_,auth:e,email:p,emailVerified:R,displayName:h,isAnonymous:x,photoURL:v,phoneNumber:g,tenantId:T,stsTokenManager:E,createdAt:w,lastLoginAt:y});return D&&Array.isArray(D)&&(P.providerData=D.map(C=>Object.assign({},C))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ny;i.updateFromServerResponse(n);const s=new Yu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Rk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ny;a.updateFromIdToken(r);const l=new Yu({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;function Io(t){fp(t instanceof Function,"Expected a class definition");let e=lb.get(t);return e?(fp(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pk=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};Pk.type="NONE";const ub=Pk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e,n){return`firebase:${t}:${e}:${n}`}let cb=class gf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Oy(this.userKey,i.apiKey,s),this.fullPersistenceKey=Oy("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?iv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gf(Io(ub),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Io(ub);const o=Oy(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=iv._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new gf(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new gf(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y6(e))return"Blackberry";if(X6(e))return"Webos";if(G6(e))return"Safari";if((e.includes("chrome/")||H6(e))&&!e.includes("edge/"))return"Chrome";if(Q6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function W6(t=ke()){return/firefox\//i.test(t)}function G6(t=ke()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H6(t=ke()){return/crios\//i.test(t)}function K6(t=ke()){return/iemobile/i.test(t)}function Q6(t=ke()){return/android/i.test(t)}function Y6(t=ke()){return/blackberry/i.test(t)}function X6(t=ke()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t,e=[]){let n;switch(t){case"Browser":n=db(ke());break;case"Worker":n=`${db(ke())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J6=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t,e={}){return zm(t,"GET","/v2/passwordPolicy",Ik(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=6;let t9=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:e9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n9=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hb(this),this.idTokenSubscription=new hb(this),this.beforeStateQueue=new J6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Io(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await cb.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sk(this,{idToken:e}),r=await iv._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(He(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(He(this.app))return Promise.reject(mf(this));const n=e?re(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return He(this.app)?Promise.reject(mf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return He(this.app)?Promise.reject(mf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z6(this),n=new t9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await q6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Io(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await cb.create(this,[Io(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ak(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&C6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function r9(t){return re(t)}let hb=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=X0(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function i9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Io);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function s9(t,e,n,r){return re(t).onAuthStateChanged(e,n,r)}new Od(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Od(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Od(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Od(5e3,15e3);var fb="@firebase/auth",pb="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o9=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l9(t){zr(new Qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ak(t)},u=new n9(r,i,s,l);return i9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zr(new Qn("auth-internal",e=>{const n=r9(e.getProvider("auth").getImmediate());return(r=>new o9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(fb,pb,a9(t)),An(fb,pb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=5*60;QA("authIdTokenMaxAge");l9("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function c9(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function d9(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wa=function(){return Wa=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wa.apply(this,arguments)},Ck=function(t){return{loading:t==null,value:t}},h9=function(){return function(t,e){switch(e.type){case"error":return Wa(Wa({},t),{error:e.error,loading:!1,value:void 0});case"reset":return Ck(e.defaultValue);case"value":return Wa(Wa({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},f9=function(t){var e=t?t():void 0,n=A.useReducer(h9(),Ck(e)),r=n[0],i=n[1],s=A.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=A.useCallback(function(l){i({type:"error",error:l})},[]),a=A.useCallback(function(l){i({type:"value",value:l})},[]);return A.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},jm=function(t,e){var n=f9(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return A.useEffect(function(){var l=s9(t,function(u){return c9(void 0,void 0,void 0,function(){var d;return d9(this,function(h){switch(h.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return h.sent(),[3,4];case 3:return d=h.sent(),s(d),[3,4];case 4:return o(u),[2]}})})},s);return function(){l()}},[t]),[a,i,r]},mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,kk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function P(){}P.prototype=E.prototype,I.D=E.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(C,N,O){for(var k=Array(arguments.length-2),G=2;G<arguments.length;G++)k[G-2]=arguments[G];return E.prototype[N].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,E,P){P||(P=0);var C=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)C[N]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(N=0;16>N;++N)C[N]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=I.g[0],P=I.g[1],N=I.g[2];var O=I.g[3],k=E+(O^P&(N^O))+C[0]+3614090360&4294967295;E=P+(k<<7&4294967295|k>>>25),k=O+(N^E&(P^N))+C[1]+3905402710&4294967295,O=E+(k<<12&4294967295|k>>>20),k=N+(P^O&(E^P))+C[2]+606105819&4294967295,N=O+(k<<17&4294967295|k>>>15),k=P+(E^N&(O^E))+C[3]+3250441966&4294967295,P=N+(k<<22&4294967295|k>>>10),k=E+(O^P&(N^O))+C[4]+4118548399&4294967295,E=P+(k<<7&4294967295|k>>>25),k=O+(N^E&(P^N))+C[5]+1200080426&4294967295,O=E+(k<<12&4294967295|k>>>20),k=N+(P^O&(E^P))+C[6]+2821735955&4294967295,N=O+(k<<17&4294967295|k>>>15),k=P+(E^N&(O^E))+C[7]+4249261313&4294967295,P=N+(k<<22&4294967295|k>>>10),k=E+(O^P&(N^O))+C[8]+1770035416&4294967295,E=P+(k<<7&4294967295|k>>>25),k=O+(N^E&(P^N))+C[9]+2336552879&4294967295,O=E+(k<<12&4294967295|k>>>20),k=N+(P^O&(E^P))+C[10]+4294925233&4294967295,N=O+(k<<17&4294967295|k>>>15),k=P+(E^N&(O^E))+C[11]+2304563134&4294967295,P=N+(k<<22&4294967295|k>>>10),k=E+(O^P&(N^O))+C[12]+1804603682&4294967295,E=P+(k<<7&4294967295|k>>>25),k=O+(N^E&(P^N))+C[13]+4254626195&4294967295,O=E+(k<<12&4294967295|k>>>20),k=N+(P^O&(E^P))+C[14]+2792965006&4294967295,N=O+(k<<17&4294967295|k>>>15),k=P+(E^N&(O^E))+C[15]+1236535329&4294967295,P=N+(k<<22&4294967295|k>>>10),k=E+(N^O&(P^N))+C[1]+4129170786&4294967295,E=P+(k<<5&4294967295|k>>>27),k=O+(P^N&(E^P))+C[6]+3225465664&4294967295,O=E+(k<<9&4294967295|k>>>23),k=N+(E^P&(O^E))+C[11]+643717713&4294967295,N=O+(k<<14&4294967295|k>>>18),k=P+(O^E&(N^O))+C[0]+3921069994&4294967295,P=N+(k<<20&4294967295|k>>>12),k=E+(N^O&(P^N))+C[5]+3593408605&4294967295,E=P+(k<<5&4294967295|k>>>27),k=O+(P^N&(E^P))+C[10]+38016083&4294967295,O=E+(k<<9&4294967295|k>>>23),k=N+(E^P&(O^E))+C[15]+3634488961&4294967295,N=O+(k<<14&4294967295|k>>>18),k=P+(O^E&(N^O))+C[4]+3889429448&4294967295,P=N+(k<<20&4294967295|k>>>12),k=E+(N^O&(P^N))+C[9]+568446438&4294967295,E=P+(k<<5&4294967295|k>>>27),k=O+(P^N&(E^P))+C[14]+3275163606&4294967295,O=E+(k<<9&4294967295|k>>>23),k=N+(E^P&(O^E))+C[3]+4107603335&4294967295,N=O+(k<<14&4294967295|k>>>18),k=P+(O^E&(N^O))+C[8]+1163531501&4294967295,P=N+(k<<20&4294967295|k>>>12),k=E+(N^O&(P^N))+C[13]+2850285829&4294967295,E=P+(k<<5&4294967295|k>>>27),k=O+(P^N&(E^P))+C[2]+4243563512&4294967295,O=E+(k<<9&4294967295|k>>>23),k=N+(E^P&(O^E))+C[7]+1735328473&4294967295,N=O+(k<<14&4294967295|k>>>18),k=P+(O^E&(N^O))+C[12]+2368359562&4294967295,P=N+(k<<20&4294967295|k>>>12),k=E+(P^N^O)+C[5]+4294588738&4294967295,E=P+(k<<4&4294967295|k>>>28),k=O+(E^P^N)+C[8]+2272392833&4294967295,O=E+(k<<11&4294967295|k>>>21),k=N+(O^E^P)+C[11]+1839030562&4294967295,N=O+(k<<16&4294967295|k>>>16),k=P+(N^O^E)+C[14]+4259657740&4294967295,P=N+(k<<23&4294967295|k>>>9),k=E+(P^N^O)+C[1]+2763975236&4294967295,E=P+(k<<4&4294967295|k>>>28),k=O+(E^P^N)+C[4]+1272893353&4294967295,O=E+(k<<11&4294967295|k>>>21),k=N+(O^E^P)+C[7]+4139469664&4294967295,N=O+(k<<16&4294967295|k>>>16),k=P+(N^O^E)+C[10]+3200236656&4294967295,P=N+(k<<23&4294967295|k>>>9),k=E+(P^N^O)+C[13]+681279174&4294967295,E=P+(k<<4&4294967295|k>>>28),k=O+(E^P^N)+C[0]+3936430074&4294967295,O=E+(k<<11&4294967295|k>>>21),k=N+(O^E^P)+C[3]+3572445317&4294967295,N=O+(k<<16&4294967295|k>>>16),k=P+(N^O^E)+C[6]+76029189&4294967295,P=N+(k<<23&4294967295|k>>>9),k=E+(P^N^O)+C[9]+3654602809&4294967295,E=P+(k<<4&4294967295|k>>>28),k=O+(E^P^N)+C[12]+3873151461&4294967295,O=E+(k<<11&4294967295|k>>>21),k=N+(O^E^P)+C[15]+530742520&4294967295,N=O+(k<<16&4294967295|k>>>16),k=P+(N^O^E)+C[2]+3299628645&4294967295,P=N+(k<<23&4294967295|k>>>9),k=E+(N^(P|~O))+C[0]+4096336452&4294967295,E=P+(k<<6&4294967295|k>>>26),k=O+(P^(E|~N))+C[7]+1126891415&4294967295,O=E+(k<<10&4294967295|k>>>22),k=N+(E^(O|~P))+C[14]+2878612391&4294967295,N=O+(k<<15&4294967295|k>>>17),k=P+(O^(N|~E))+C[5]+4237533241&4294967295,P=N+(k<<21&4294967295|k>>>11),k=E+(N^(P|~O))+C[12]+1700485571&4294967295,E=P+(k<<6&4294967295|k>>>26),k=O+(P^(E|~N))+C[3]+2399980690&4294967295,O=E+(k<<10&4294967295|k>>>22),k=N+(E^(O|~P))+C[10]+4293915773&4294967295,N=O+(k<<15&4294967295|k>>>17),k=P+(O^(N|~E))+C[1]+2240044497&4294967295,P=N+(k<<21&4294967295|k>>>11),k=E+(N^(P|~O))+C[8]+1873313359&4294967295,E=P+(k<<6&4294967295|k>>>26),k=O+(P^(E|~N))+C[15]+4264355552&4294967295,O=E+(k<<10&4294967295|k>>>22),k=N+(E^(O|~P))+C[6]+2734768916&4294967295,N=O+(k<<15&4294967295|k>>>17),k=P+(O^(N|~E))+C[13]+1309151649&4294967295,P=N+(k<<21&4294967295|k>>>11),k=E+(N^(P|~O))+C[4]+4149444226&4294967295,E=P+(k<<6&4294967295|k>>>26),k=O+(P^(E|~N))+C[11]+3174756917&4294967295,O=E+(k<<10&4294967295|k>>>22),k=N+(E^(O|~P))+C[2]+718787259&4294967295,N=O+(k<<15&4294967295|k>>>17),k=P+(O^(N|~E))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var P=E-this.blockSize,C=this.B,N=this.h,O=0;O<E;){if(N==0)for(;O<=P;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<E;)if(C[N++]=I.charCodeAt(O++),N==this.blockSize){i(this,C),N=0;break}}else for(;O<E;)if(C[N++]=I[O++],N==this.blockSize){i(this,C),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var P=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=P&255,P/=256;for(this.u(I),I=Array(16),E=P=0;4>E;++E)for(var C=0;32>C;C+=8)I[P++]=this.g[E]>>>C&255;return I};function s(I,E){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=E(I)}function o(I,E){this.h=E;for(var P=[],C=!0,N=I.length-1;0<=N;N--){var O=I[N]|0;C&&O==E||(P[N]=O,C=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?s(I,function(E){return new o([E|0],0>E?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return S(u(-I));for(var E=[],P=1,C=0;I>=P;C++)E[C]=I/P|0,P*=4294967296;return new o(E,0)}function d(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return S(d(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(E,8)),C=h,N=0;N<I.length;N+=8){var O=Math.min(8,I.length-N),k=parseInt(I.substring(N,N+O),E);8>O?(O=u(Math.pow(E,O)),C=C.j(O).add(u(k))):(C=C.j(P),C=C.add(u(k)))}return C}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-S(this).m();for(var I=0,E=1,P=0;P<this.g.length;P++){var C=this.i(P);I+=(0<=C?C:4294967296+C)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(T(this))return"-"+S(this).toString(I);for(var E=u(Math.pow(I,6)),P=this,C="";;){var N=R(P,E).g;P=w(P,N.j(E));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=N,v(P))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=w(this,I),T(I)?-1:v(I)?0:1};function S(I){for(var E=I.g.length,P=[],C=0;C<E;C++)P[C]=~I.g[C];return new o(P,~I.h).add(p)}t.abs=function(){return T(this)?S(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],C=0,N=0;N<=E;N++){var O=C+(this.i(N)&65535)+(I.i(N)&65535),k=(O>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);C=k>>>16,O&=65535,k&=65535,P[N]=k<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function w(I,E){return I.add(S(E))}t.j=function(I){if(v(this)||v(I))return h;if(T(this))return T(I)?S(this).j(S(I)):S(S(this).j(I));if(T(I))return S(this.j(S(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var E=this.g.length+I.g.length,P=[],C=0;C<2*E;C++)P[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<I.g.length;N++){var O=this.i(C)>>>16,k=this.i(C)&65535,G=I.i(N)>>>16,X=I.i(N)&65535;P[2*C+2*N]+=k*X,y(P,2*C+2*N),P[2*C+2*N+1]+=O*X,y(P,2*C+2*N+1),P[2*C+2*N+1]+=k*G,y(P,2*C+2*N+1),P[2*C+2*N+2]+=O*G,y(P,2*C+2*N+2)}for(C=0;C<E;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=E;C<2*E;C++)P[C]=0;return new o(P,0)};function y(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function _(I,E){this.g=I,this.h=E}function R(I,E){if(v(E))throw Error("division by zero");if(v(I))return new _(h,h);if(T(I))return E=R(S(I),E),new _(S(E.g),S(E.h));if(T(E))return E=R(I,S(E)),new _(S(E.g),E.h);if(30<I.g.length){if(T(I)||T(E))throw Error("slowDivide_ only works with positive integers.");for(var P=p,C=E;0>=C.l(I);)P=x(P),C=x(C);var N=D(P,1),O=D(C,1);for(C=D(C,2),P=D(P,2);!v(C);){var k=O.add(C);0>=k.l(I)&&(N=N.add(P),O=k),C=D(C,1),P=D(P,1)}return E=w(I,N.j(E)),new _(N,E)}for(N=h;0<=I.l(E);){for(P=Math.max(1,Math.floor(I.m()/E.m())),C=Math.ceil(Math.log(P)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=u(P),k=O.j(E);T(k)||0<k.l(I);)P-=C,O=u(P),k=O.j(E);v(O)&&(O=p),N=N.add(O),I=w(I,k)}return new _(N,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],C=0;C<E;C++)P[C]=this.i(C)&I.i(C);return new o(P,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],C=0;C<E;C++)P[C]=this.i(C)|I.i(C);return new o(P,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],C=0;C<E;C++)P[C]=this.i(C)^I.i(C);return new o(P,this.h^I.h)};function x(I){for(var E=I.g.length+1,P=[],C=0;C<E;C++)P[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(P,I.h)}function D(I,E){var P=E>>5;E%=32;for(var C=I.g.length-P,N=[],O=0;O<C;O++)N[O]=0<E?I.i(O+P)>>>E|I.i(O+P+1)<<32-E:I.i(O+P);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Po=o}).apply(typeof mb<"u"?mb:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xk,Nk,Xu,Ok,yf,sv,Dk,Mk,Lk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in m))break e;m=m[L]}c=c[c.length-1],b=m[c],f=f(b),f!=b&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,b=!1,L={next:function(){if(!b&&m<c.length){var U=m++;return{value:f(U,c[U]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function u(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function d(c,f,m){return c.call.apply(c.bind,arguments)}function h(c,f,m){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),c.apply(f,L)}}return function(){return c.apply(f,arguments)}}function p(c,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function v(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(b,L,U){for(var H=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)H[Ge-2]=arguments[Ge];return f.prototype[L].apply(b,H)}}function T(c){const f=c.length;if(0<f){const m=Array(f);for(let b=0;b<f;b++)m[b]=c[b];return m}return[]}function S(c,f){for(let m=1;m<arguments.length;m++){const b=arguments[m];if(l(b)){const L=c.length||0,U=b.length||0;c.length=L+U;for(let H=0;H<U;H++)c[L+H]=b[H]}else c.push(b)}}class w{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function R(c){return R[" "](c),c}R[" "]=function(){};var x=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function D(c,f,m){for(const b in c)f.call(m,c[b],b,c)}function I(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function E(c){const f={};for(const m in c)f[m]=c[m];return f}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,f){let m,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(m in b)c[m]=b[m];for(let U=0;U<P.length;U++)m=P[U],Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])}}function N(c){var f=1;c=c.split(":");const m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function O(c){a.setTimeout(()=>{throw c},0)}function k(){var c=Q;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class G{constructor(){this.h=this.g=null}add(f,m){const b=X.get();b.set(f,m),this.h?this.h.next=b:this.g=b,this.h=b}}var X=new w(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,B=!1,Q=new G,ee=()=>{const c=a.Promise.resolve(void 0);ne=()=>{c.then(ve)}};var ve=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(m){O(m)}var f=X;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}B=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function be(c,f){if(he.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(x){e:{try{R(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}v(be,he);var Re={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function ht(c,f,m,b,L){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!b,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Se(c){this.src=c,this.g={},this.h=0}Se.prototype.add=function(c,f,m,b,L){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var H=ge(c,f,b,L);return-1<H?(f=c[H],m||(f.fa=!1)):(f=new ht(f,this.src,U,!!b,L),f.fa=m,c.push(f)),f};function qe(c,f){var m=f.type;if(m in c.g){var b=c.g[m],L=Array.prototype.indexOf.call(b,f,void 0),U;(U=0<=L)&&Array.prototype.splice.call(b,L,1),U&&(Ft(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function ge(c,f,m,b){for(var L=0;L<c.length;++L){var U=c[L];if(!U.da&&U.listener==f&&U.capture==!!m&&U.ha==b)return L}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),$e={};function Nr(c,f,m,b,L){if(b&&b.once)return Ln(c,f,m,b,L);if(Array.isArray(f)){for(var U=0;U<f.length;U++)Nr(c,f[U],m,b,L);return null}return m=hr(m),c&&c[Ze]?c.K(f,m,u(b)?!!b.capture:!!b,L):vn(c,f,m,!1,b,L)}function vn(c,f,m,b,L,U){if(!f)throw Error("Invalid event type");var H=u(L)?!!L.capture:!!L,Ge=Be(c);if(Ge||(c[xe]=Ge=new Se(c)),m=Ge.add(f,m,b,H,U),m.proxy)return m;if(b=Mn(),m.proxy=b,b.src=c,b.listener=m,c.addEventListener)de||(L=H),L===void 0&&(L=!1),c.addEventListener(f.toString(),b,L);else if(c.attachEvent)c.attachEvent(dr(f.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Mn(){function c(m){return f.call(c.src,c.listener,m)}const f=un;return c}function Ln(c,f,m,b,L){if(Array.isArray(f)){for(var U=0;U<f.length;U++)Ln(c,f[U],m,b,L);return null}return m=hr(m),c&&c[Ze]?c.L(f,m,u(b)?!!b.capture:!!b,L):vn(c,f,m,!0,b,L)}function wn(c,f,m,b,L){if(Array.isArray(f))for(var U=0;U<f.length;U++)wn(c,f[U],m,b,L);else b=u(b)?!!b.capture:!!b,m=hr(m),c&&c[Ze]?(c=c.i,f=String(f).toString(),f in c.g&&(U=c.g[f],m=ge(U,m,b,L),-1<m&&(Ft(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete c.g[f],c.h--)))):c&&(c=Be(c))&&(f=c.g[f.toString()],c=-1,f&&(c=ge(f,m,b,L)),(m=-1<c?f[c]:null)&&We(m))}function We(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Ze])qe(f.i,c);else{var m=c.type,b=c.proxy;f.removeEventListener?f.removeEventListener(m,b,c.capture):f.detachEvent?f.detachEvent(dr(m),b):f.addListener&&f.removeListener&&f.removeListener(b),(m=Be(f))?(qe(m,c),m.h==0&&(m.src=null,f[xe]=null)):Ft(c)}}}function dr(c){return c in $e?$e[c]:$e[c]="on"+c}function un(c,f){if(c.da)c=!0;else{f=new be(f,this);var m=c.listener,b=c.ha||c.src;c.fa&&We(c),c=m.call(b,f)}return c}function Be(c){return c=c[xe],c instanceof Se?c:null}var Vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function hr(c){return typeof c=="function"?c:(c[Vn]||(c[Vn]=function(f){return c.handleEvent(f)}),c[Vn])}function Ke(){ue.call(this),this.i=new Se(this),this.M=this,this.F=null}v(Ke,ue),Ke.prototype[Ze]=!0,Ke.prototype.removeEventListener=function(c,f,m,b){wn(this,c,f,m,b)};function pe(c,f){var m,b=c.F;if(b)for(m=[];b;b=b.F)m.push(b);if(c=c.M,b=f.type||f,typeof f=="string")f=new he(f,c);else if(f instanceof he)f.target=f.target||c;else{var L=f;f=new he(b,c),C(f,L)}if(L=!0,m)for(var U=m.length-1;0<=U;U--){var H=f.g=m[U];L=ae(H,b,!0,f)&&L}if(H=f.g=c,L=ae(H,b,!0,f)&&L,L=ae(H,b,!1,f)&&L,m)for(U=0;U<m.length;U++)H=f.g=m[U],L=ae(H,b,!1,f)&&L}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],b=0;b<m.length;b++)Ft(m[b]);delete c.g[f],c.h--}}this.F=null},Ke.prototype.K=function(c,f,m,b){return this.i.add(String(c),f,!1,m,b)},Ke.prototype.L=function(c,f,m,b){return this.i.add(String(c),f,!0,m,b)};function ae(c,f,m,b){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,U=0;U<f.length;++U){var H=f[U];if(H&&!H.da&&H.capture==m){var Ge=H.listener,en=H.ha||H.src;H.fa&&qe(c.i,H),L=Ge.call(en,b)!==!1&&L}}return L&&!b.defaultPrevented}function fr(c,f,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Qi(c){c.g=fr(()=>{c.g=null,c.i&&(c.i=!1,Qi(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class Js extends ue{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Qi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(c){ue.call(this),this.h=c,this.g={}}v(oe,ue);var ze=[];function Ot(c){D(c.g,function(f,m){this.g.hasOwnProperty(m)&&We(f)},c),c.g={}}oe.prototype.N=function(){oe.aa.N.call(this),Ot(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=a.JSON.stringify,Zd=a.JSON.parse,VD=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Cg(){}Cg.prototype.h=null;function tE(c){return c.h||(c.h=c.i())}function nE(){}var lu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kg(){he.call(this,"d")}v(kg,he);function xg(){he.call(this,"c")}v(xg,he);var Zs={},rE=null;function eh(){return rE=rE||new Ke}Zs.La="serverreachability";function iE(c){he.call(this,Zs.La,c)}v(iE,he);function uu(c){const f=eh();pe(f,new iE(f))}Zs.STAT_EVENT="statevent";function sE(c,f){he.call(this,Zs.STAT_EVENT,c),this.stat=f}v(sE,he);function In(c){const f=eh();pe(f,new sE(f,c))}Zs.Ma="timingevent";function oE(c,f){he.call(this,Zs.Ma,c),this.size=f}v(oE,he);function cu(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function du(){this.g=!0}du.prototype.xa=function(){this.g=!1};function FD(c,f,m,b,L,U){c.info(function(){if(c.g)if(U)for(var H="",Ge=U.split("&"),en=0;en<Ge.length;en++){var Ne=Ge[en].split("=");if(1<Ne.length){var cn=Ne[0];Ne=Ne[1];var dn=cn.split("_");H=2<=dn.length&&dn[1]=="type"?H+(cn+"="+Ne+"&"):H+(cn+"=redacted&")}}else H=null;else H=U;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+f+`
`+m+`
`+H})}function UD(c,f,m,b,L,U,H){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+f+`
`+m+`
`+U+" "+H})}function aa(c,f,m,b){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+BD(c,m)+(b?" "+b:"")})}function $D(c,f){c.info(function(){return"TIMEOUT: "+f})}du.prototype.info=function(){};function BD(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var b=m[c];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Gr(m)}catch{return f}}var th={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ng;function nh(){}v(nh,Cg),nh.prototype.g=function(){return new XMLHttpRequest},nh.prototype.i=function(){return{}},Ng=new nh;function Yi(c,f,m,b){this.j=c,this.i=f,this.l=m,this.R=b||1,this.U=new oe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lE}function lE(){this.i=null,this.g="",this.h=!1}var uE={},Og={};function Dg(c,f,m){c.L=1,c.v=oh(yi(f)),c.m=m,c.P=!0,cE(c,null)}function cE(c,f){c.F=Date.now(),rh(c),c.A=yi(c.v);var m=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),SE(m.i,"t",b),c.C=0,m=c.j.J,c.h=new lE,c.g=zE(c.j,m?f:null,!c.m),0<c.O&&(c.M=new Js(p(c.Y,c,c.g),c.O)),f=c.U,m=c.g,b=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ze[0]=L.toString()),L=ze);for(var U=0;U<L.length;U++){var H=Nr(m,L[U],b||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),uu(),FD(c.i,c.u,c.A,c.l,c.R,c.m)}Yi.prototype.ca=function(c){c=c.target;const f=this.M;f&&_i(c)==3?f.j():this.Y(c)},Yi.prototype.Y=function(c){try{if(c==this.g)e:{const dn=_i(this.g);var f=this.g.Ba();const ca=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||xE(this.g)))){this.J||dn!=4||f==7||(f==8||0>=ca?uu(3):uu(2)),Mg(this);var m=this.g.Z();this.X=m;t:if(dE(this)){var b=xE(this.g);c="";var L=b.length,U=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),hu(this);var H="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,c+=this.h.i.decode(b[f],{stream:!(U&&f==L-1)});b.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=m==200,UD(this.i,this.u,this.A,this.l,this.R,dn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,en=this.g;if((Ge=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ge)){var Ne=Ge;break t}}Ne=null}if(m=Ne)aa(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lg(this,m);else{this.o=!1,this.s=3,In(12),eo(this),hu(this);break e}}if(this.P){m=!0;let Or;for(;!this.J&&this.C<H.length;)if(Or=zD(this,H),Or==Og){dn==4&&(this.s=4,In(14),m=!1),aa(this.i,this.l,null,"[Incomplete Response]");break}else if(Or==uE){this.s=4,In(15),aa(this.i,this.l,H,"[Invalid Chunk]"),m=!1;break}else aa(this.i,this.l,Or,null),Lg(this,Or);if(dE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||H.length!=0||this.h.h||(this.s=1,In(16),m=!1),this.o=this.o&&m,!m)aa(this.i,this.l,H,"[Invalid Chunked Response]"),eo(this),hu(this);else if(0<H.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),zg(cn),cn.M=!0,In(11))}}else aa(this.i,this.l,H,null),Lg(this,H);dn==4&&eo(this),this.o&&!this.J&&(dn==4?FE(this.j,this):(this.o=!1,rh(this)))}else sM(this.g),m==400&&0<H.indexOf("Unknown SID")?(this.s=3,In(12)):(this.s=0,In(13)),eo(this),hu(this)}}}catch{}finally{}};function dE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zD(c,f){var m=c.C,b=f.indexOf(`
`,m);return b==-1?Og:(m=Number(f.substring(m,b)),isNaN(m)?uE:(b+=1,b+m>f.length?Og:(f=f.slice(b,b+m),c.C=b+m,f)))}Yi.prototype.cancel=function(){this.J=!0,eo(this)};function rh(c){c.S=Date.now()+c.I,hE(c,c.I)}function hE(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=cu(p(c.ba,c),f)}function Mg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($D(this.i,this.A),this.L!=2&&(uu(),In(17)),eo(this),this.s=2,hu(this)):hE(this,this.S-c)};function hu(c){c.j.G==0||c.J||FE(c.j,c)}function eo(c){Mg(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Ot(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Lg(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||Vg(m.h,c))){if(!c.K&&Vg(m.h,c)&&m.G==3){try{var b=m.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)dh(m),uh(m);else break e;Bg(m),In(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=cu(p(m.Za,m),6e3));if(1>=mE(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else no(m,11)}else if((c.K||m.g==c)&&dh(m),!y(f))for(L=m.Da.g.parse(f),f=0;f<L.length;f++){let Ne=L[f];if(m.T=Ne[0],Ne=Ne[1],m.G==2)if(Ne[0]=="c"){m.K=Ne[1],m.ia=Ne[2];const cn=Ne[3];cn!=null&&(m.la=cn,m.j.info("VER="+m.la));const dn=Ne[4];dn!=null&&(m.Aa=dn,m.j.info("SVER="+m.Aa));const ca=Ne[5];ca!=null&&typeof ca=="number"&&0<ca&&(b=1.5*ca,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;const Or=c.g;if(Or){const fh=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fh){var U=b.h;U.g||fh.indexOf("spdy")==-1&&fh.indexOf("quic")==-1&&fh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Fg(U,U.h),U.h=null))}if(b.D){const jg=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;jg&&(b.ya=jg,et(b.I,b.D,jg))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var H=c;if(b.qa=BE(b,b.J?b.ia:null,b.W),H.K){gE(b.h,H);var Ge=H,en=b.L;en&&(Ge.I=en),Ge.B&&(Mg(Ge),rh(Ge)),b.g=H}else LE(b);0<m.i.length&&ch(m)}else Ne[0]!="stop"&&Ne[0]!="close"||no(m,7);else m.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?no(m,7):$g(m):Ne[0]!="noop"&&m.l&&m.l.ta(Ne),m.v=0)}}uu(4)}catch{}}var jD=class{constructor(c,f){this.g=c,this.map=f}};function fE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mE(c){return c.h?1:c.g?c.g.size:0}function Vg(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Fg(c,f){c.g?c.g.add(f):c.h=f}function gE(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}fE.prototype.cancel=function(){if(this.i=yE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.D);return f}return T(c.i)}function qD(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],m=c.length,b=0;b<m;b++)f.push(c[b]);return f}f=[],m=0;for(b in c)f[m++]=c[b];return f}function WD(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(const b in c)f[m++]=b;return f}}}function _E(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=WD(c),b=qD(c),L=b.length,U=0;U<L;U++)f.call(void 0,b[U],m&&m[U],c)}var vE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GD(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var b=c[m].indexOf("="),L=null;if(0<=b){var U=c[m].substring(0,b);L=c[m].substring(b+1)}else U=c[m];f(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function to(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof to){this.h=c.h,ih(this,c.j),this.o=c.o,this.g=c.g,sh(this,c.s),this.l=c.l;var f=c.i,m=new mu;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),wE(this,m),this.m=c.m}else c&&(f=String(c).match(vE))?(this.h=!1,ih(this,f[1]||"",!0),this.o=fu(f[2]||""),this.g=fu(f[3]||"",!0),sh(this,f[4]),this.l=fu(f[5]||"",!0),wE(this,f[6]||"",!0),this.m=fu(f[7]||"")):(this.h=!1,this.i=new mu(null,this.h))}to.prototype.toString=function(){var c=[],f=this.j;f&&c.push(pu(f,IE,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(pu(f,IE,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(pu(m,m.charAt(0)=="/"?QD:KD,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",pu(m,XD)),c.join("")};function yi(c){return new to(c)}function ih(c,f,m){c.j=m?fu(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function sh(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function wE(c,f,m){f instanceof mu?(c.i=f,JD(c.i,c.h)):(m||(f=pu(f,YD)),c.i=new mu(f,c.h))}function et(c,f,m){c.i.set(f,m)}function oh(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fu(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pu(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,HD),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function HD(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var IE=/[#\/\?@]/g,KD=/[#\?:]/g,QD=/[#\?]/g,YD=/[#\?@]/g,XD=/#/g;function mu(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Xi(c){c.g||(c.g=new Map,c.h=0,c.i&&GD(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=mu.prototype,t.add=function(c,f){Xi(this),this.i=null,c=la(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function EE(c,f){Xi(c),f=la(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function TE(c,f){return Xi(c),f=la(c,f),c.g.has(f)}t.forEach=function(c,f){Xi(this),this.g.forEach(function(m,b){m.forEach(function(L){c.call(f,L,b,this)},this)},this)},t.na=function(){Xi(this);const c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let b=0;b<f.length;b++){const L=c[b];for(let U=0;U<L.length;U++)m.push(f[b])}return m},t.V=function(c){Xi(this);let f=[];if(typeof c=="string")TE(this,c)&&(f=f.concat(this.g.get(la(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return Xi(this),this.i=null,c=la(this,c),TE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function SE(c,f,m){EE(c,f),0<m.length&&(c.i=null,c.g.set(la(c,f),T(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var b=f[m];const U=encodeURIComponent(String(b)),H=this.V(b);for(b=0;b<H.length;b++){var L=U;H[b]!==""&&(L+="="+encodeURIComponent(String(H[b]))),c.push(L)}}return this.i=c.join("&")};function la(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function JD(c,f){f&&!c.j&&(Xi(c),c.i=null,c.g.forEach(function(m,b){var L=b.toLowerCase();b!=L&&(EE(this,b),SE(this,L,m))},c)),c.j=f}function ZD(c,f){const m=new du;if(a.Image){const b=new Image;b.onload=g(Ji,m,"TestLoadImage: loaded",!0,f,b),b.onerror=g(Ji,m,"TestLoadImage: error",!1,f,b),b.onabort=g(Ji,m,"TestLoadImage: abort",!1,f,b),b.ontimeout=g(Ji,m,"TestLoadImage: timeout",!1,f,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else f(!1)}function eM(c,f){const m=new du,b=new AbortController,L=setTimeout(()=>{b.abort(),Ji(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:b.signal}).then(U=>{clearTimeout(L),U.ok?Ji(m,"TestPingServer: ok",!0,f):Ji(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Ji(m,"TestPingServer: error",!1,f)})}function Ji(c,f,m,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(m)}catch{}}function tM(){this.g=new VD}function nM(c,f,m){const b=m||"";try{_E(c,function(L,U){let H=L;u(L)&&(H=Gr(L)),f.push(b+U+"="+encodeURIComponent(H))})}catch(L){throw f.push(b+"type="+encodeURIComponent("_badmap")),L}}function gu(c){this.l=c.Ub||null,this.j=c.eb||!1}v(gu,Cg),gu.prototype.g=function(){return new ah(this.l,this.j)},gu.prototype.i=function(c){return function(){return c}}({});function ah(c,f){Ke.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ah,Ke),t=ah.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,_u(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yu(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_u(this)),this.g&&(this.readyState=3,_u(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?yu(this):_u(this),this.readyState==3&&bE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,yu(this))},t.Qa=function(c){this.g&&(this.response=c,yu(this))},t.ga=function(){this.g&&yu(this)};function yu(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_u(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function _u(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function RE(c){let f="";return D(c,function(m,b){f+=b,f+=":",f+=m,f+=`\r
`}),f}function Ug(c,f,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=RE(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):et(c,f,m))}function vt(c){Ke.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(vt,Ke);var rM=/^https?$/i,iM=["POST","PUT"];t=vt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ng.g(),this.v=this.o?tE(this.o):tE(Ng),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(U){PE(this,U);return}if(c=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)m.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const U of b.keys())m.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iM,f,void 0))||b||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,H]of m)this.g.setRequestHeader(U,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kE(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){PE(this,U)}};function PE(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,AE(c),lh(c)}function AE(c){c.A||(c.A=!0,pe(c,"complete"),pe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pe(this,"complete"),pe(this,"abort"),lh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lh(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?CE(this):this.bb())},t.bb=function(){CE(this)};function CE(c){if(c.h&&typeof o<"u"&&(!c.v[1]||_i(c)!=4||c.Z()!=2)){if(c.u&&_i(c)==4)fr(c.Ea,0,c);else if(pe(c,"readystatechange"),_i(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var b;if(b=H===0){var L=String(c.D).match(vE)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),b=!rM.test(L?L.toLowerCase():"")}m=b}if(m)pe(c,"complete"),pe(c,"success");else{c.m=6;try{var U=2<_i(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",AE(c)}}finally{lh(c)}}}}function lh(c,f){if(c.g){kE(c);const m=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||pe(c,"ready");try{m.onreadystatechange=b}catch{}}}function kE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function _i(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Zd(f)}};function xE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sM(c){const f={};c=(c.g&&2<=_i(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(y(c[b]))continue;var m=N(c[b]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=f[L]||[];f[L]=U,U.push(m)}I(f,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vu(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function NE(c){this.Aa=0,this.i=[],this.j=new du,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vu("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vu("baseRetryDelayMs",5e3,c),this.cb=vu("retryDelaySeedMs",1e4,c),this.Wa=vu("forwardChannelMaxRetries",2,c),this.wa=vu("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new fE(c&&c.concurrentRequestLimit),this.Da=new tM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=NE.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,b){In(0),this.W=c,this.H=f||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=BE(this,null,this.W),ch(this)};function $g(c){if(OE(c),c.G==3){var f=c.U++,m=yi(c.I);if(et(m,"SID",c.K),et(m,"RID",f),et(m,"TYPE","terminate"),wu(c,m),f=new Yi(c,c.j,f),f.L=2,f.v=oh(yi(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=zE(f.j,null),f.g.ea(f.v)),f.F=Date.now(),rh(f)}$E(c)}function uh(c){c.g&&(zg(c),c.g.cancel(),c.g=null)}function OE(c){uh(c),c.u&&(a.clearTimeout(c.u),c.u=null),dh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ch(c){if(!pE(c.h)&&!c.s){c.s=!0;var f=c.Ga;ne||ee(),B||(ne(),B=!0),Q.add(f,c),c.B=0}}function oM(c,f){return mE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=cu(p(c.Ga,c,f),UE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Yi(this,this.j,c);let U=this.o;if(this.S&&(U?(U=E(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=ME(this,L,f),m=yi(this.I),et(m,"RID",c),et(m,"CVER",22),this.D&&et(m,"X-HTTP-Session-Id",this.D),wu(this,m),U&&(this.O?f="headers="+encodeURIComponent(String(RE(U)))+"&"+f:this.m&&Ug(m,this.m,U)),Fg(this.h,L),this.Ua&&et(m,"TYPE","init"),this.P?(et(m,"$req",f),et(m,"SID","null"),L.T=!0,Dg(L,m,null)):Dg(L,m,f),this.G=2}}else this.G==3&&(c?DE(this,c):this.i.length==0||pE(this.h)||DE(this))};function DE(c,f){var m;f?m=f.l:m=c.U++;const b=yi(c.I);et(b,"SID",c.K),et(b,"RID",m),et(b,"AID",c.T),wu(c,b),c.m&&c.o&&Ug(b,c.m,c.o),m=new Yi(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=ME(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fg(c.h,m),Dg(m,b,f)}function wu(c,f){c.H&&D(c.H,function(m,b){et(f,b,m)}),c.l&&_E({},function(m,b){et(f,b,m)})}function ME(c,f,m){m=Math.min(c.i.length,m);var b=c.l?p(c.l.Na,c.l,c):null;e:{var L=c.i;let U=-1;for(;;){const H=["count="+m];U==-1?0<m?(U=L[0].g,H.push("ofs="+U)):U=0:H.push("ofs="+U);let Ge=!0;for(let en=0;en<m;en++){let Ne=L[en].g;const cn=L[en].map;if(Ne-=U,0>Ne)U=Math.max(0,L[en].g-100),Ge=!1;else try{nM(cn,H,"req"+Ne+"_")}catch{b&&b(cn)}}if(Ge){b=H.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,b}function LE(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;ne||ee(),B||(ne(),B=!0),Q.add(f,c),c.v=0}}function Bg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=cu(p(c.Fa,c),UE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,VE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=cu(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,In(10),uh(this),VE(this))};function zg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function VE(c){c.g=new Yi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=yi(c.qa);et(f,"RID","rpc"),et(f,"SID",c.K),et(f,"AID",c.T),et(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(f,"TO",c.ja),et(f,"TYPE","xmlhttp"),wu(c,f),c.m&&c.o&&Ug(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=oh(yi(f)),m.m=null,m.P=!0,cE(m,c)}t.Za=function(){this.C!=null&&(this.C=null,uh(this),Bg(this),In(19))};function dh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function FE(c,f){var m=null;if(c.g==f){dh(c),zg(c),c.g=null;var b=2}else if(Vg(c.h,f))m=f.D,gE(c.h,f),b=1;else return;if(c.G!=0){if(f.o)if(b==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var L=c.B;b=eh(),pe(b,new oE(b,m)),ch(c)}else LE(c);else if(L=f.s,L==3||L==0&&0<f.X||!(b==1&&oM(c,f)||b==2&&Bg(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),L){case 1:no(c,5);break;case 4:no(c,10);break;case 3:no(c,6);break;default:no(c,2)}}}function UE(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function no(c,f){if(c.j.info("Error code "+f),f==2){var m=p(c.fb,c),b=c.Xa;const L=!b;b=new to(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ih(b,"https"),oh(b),L?ZD(b.toString(),m):eM(b.toString(),m)}else In(2);c.G=0,c.l&&c.l.sa(f),$E(c),OE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function $E(c){if(c.G=0,c.ka=[],c.l){const f=yE(c.h);(f.length!=0||c.i.length!=0)&&(S(c.ka,f),S(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function BE(c,f,m){var b=m instanceof to?yi(m):new to(m);if(b.g!="")f&&(b.g=f+"."+b.g),sh(b,b.s);else{var L=a.location;b=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var U=new to(null);b&&ih(U,b),f&&(U.g=f),L&&sh(U,L),m&&(U.l=m),b=U}return m=c.D,f=c.ya,m&&f&&et(b,m,f),et(b,"VER",c.la),wu(c,b),b}function zE(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new vt(new gu({eb:m})):new vt(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jE(){}t=jE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hh(){}hh.prototype.g=function(c,f){return new Yn(c,f)};function Yn(c,f){Ke.call(this),this.g=new NE(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!y(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new ua(this)}v(Yn,Ke),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){$g(this.g)},Yn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Gr(c),c=m);f.i.push(new jD(f.Ya++,c)),f.G==3&&ch(f)},Yn.prototype.N=function(){this.g.l=null,delete this.j,$g(this.g),delete this.g,Yn.aa.N.call(this)};function qE(c){kg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}v(qE,kg);function WE(){xg.call(this),this.status=1}v(WE,xg);function ua(c){this.g=c}v(ua,jE),ua.prototype.ua=function(){pe(this.g,"a")},ua.prototype.ta=function(c){pe(this.g,new qE(c))},ua.prototype.sa=function(c){pe(this.g,new WE)},ua.prototype.ra=function(){pe(this.g,"b")},hh.prototype.createWebChannel=hh.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Lk=function(){return new hh},Mk=function(){return eh()},Dk=Zs,sv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},th.NO_ERROR=0,th.TIMEOUT=8,th.HTTP_ERROR=6,yf=th,aE.COMPLETE="complete",Ok=aE,nE.EventType=lu,lu.OPEN="a",lu.CLOSE="b",lu.ERROR="c",lu.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Xu=nE,Nk=gu,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,xk=vt}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const gb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Sd("@firebase/firestore");function ba(){return Os.logLevel}function p9(t){Os.setLogLevel(t)}function j(t,...e){if(Os.logLevel<=ye.DEBUG){const n=e.map(Tw);Os.debug(`Firestore (${Wl}): ${t}`,...n)}}function Ct(t,...e){if(Os.logLevel<=ye.ERROR){const n=e.map(Tw);Os.error(`Firestore (${Wl}): ${t}`,...n)}}function jr(t,...e){if(Os.logLevel<=ye.WARN){const n=e.map(Tw);Os.warn(`Firestore (${Wl}): ${t}`,...n)}}function Tw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: `+t;throw Ct(e),new Error(e)}function ie(t,e){t||Z()}function m9(t,e){t||Z()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class y9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _9{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie(typeof r.accessToken=="string"),new Vk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string"),new Wt(e)}}class v9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class w9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new v9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ie(typeof n.token=="string"),this.R=n.token,new I9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=T9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Il(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Uk(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new dt(0,0))}static max(){return new se(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends Zc{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const S9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Zc{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return S9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Ee.fromString(e))}static fromName(e){return new K(Ee.fromString(e).popFirst(5))}static empty(){return new K(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function ov(t){return t.fields.find(e=>e.kind===2)}function co(t){return t.fields.filter(e=>e.kind!==2)}mp.UNKNOWN_ID=-1;class _f{constructor(e,n){this.fieldPath=e,this.kind=n}}class ed{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ed(0,ar.min())}}function $k(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new ar(i,K.empty(),e)}function Bk(t){return new ar(t.readTime,t.key,-1)}class ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(se.min(),K.empty(),-1)}static max(){return new ar(se.max(),K.empty(),-1)}}function Sw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==zk)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Kt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new yc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=bw(r.target.error);this.V.reject(new yc(e,i))}}static open(e,n,r,i){try{return new qm(n,e.transaction(i,r))}catch(s){throw new yc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(j("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new R9(n)}}class ui{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ui.S(ke())===12.2&&Ct("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return j("SimpleDb","Removing database:",e),ho(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Hc())return!1;if(ui.C())return!0;const e=ke(),n=ui.S(e),r=0<n&&n<10,i=qk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(j("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new yc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new z($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new z($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new yc(e,o))},i.onupgradeneeded=s=>{j("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{j("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=qm.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(j("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function qk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class b9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ho(this.B.delete())}}class yc extends z{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Gs(t){return t.name==="IndexedDbTransactionError"}class R9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(j("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ho(r)}add(e){return j("SimpleDb","ADD",this.store.name,e,e),ho(this.store.add(e))}get(e){return ho(this.store.get(e)).next(n=>(n===void 0&&(n=null),j("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return j("SimpleDb","DELETE",this.store.name,e),ho(this.store.delete(e))}count(){return j("SimpleDb","COUNT",this.store.name),ho(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new V((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){j("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=s=>{const o=bw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new V((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new b9(a),u=n(a.primaryKey,a.value,l);if(u instanceof V){const d=u.catch(h=>(l.done(),V.reject(h)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ho(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=bw(r.target.error);n(i)}})}let yb=!1;function bw(t){const e=ui.S(ke());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yb||(yb=!0,setTimeout(()=>{throw r},0)),r}}return t}class P9{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){j("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{j("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Gs(n)?j("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ws(n)}await this.X(6e4)})}}class A9{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return V.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return j("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(j("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=Bk(s);Sw(o,r)>0&&(r=o)}),new ar(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zn.oe=-1;function Dd(t){return t==null}function td(t){return t===0&&1/t==-1/0}function Wk(t){return typeof t=="number"&&Number.isInteger(t)&&!td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_b(e)),e=C9(t.get(n),e);return _b(e)}function C9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function _b(t){return t+""}function ri(t){const e=t.length;if(ie(e>=2),e===2)return ie(t.charAt(0)===""&&t.charAt(1)===""),Ee.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Z(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Z()}s=o+2}return new Ee(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t,e){return[t,Cn(e)]}function Gk(t,e,n){return[t,Cn(e),n]}const k9={},x9=["prefixPath","collectionGroup","readTime","documentId"],N9=["prefixPath","collectionGroup","documentId"],O9=["collectionGroup","readTime","prefixPath","documentId"],D9=["canonicalId","targetId"],M9=["targetId","path"],L9=["path","targetId"],V9=["collectionId","parent"],F9=["indexId","uid"],U9=["uid","sequenceNumber"],$9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],B9=["indexId","uid","orderedDocumentKey"],z9=["userId","collectionPath","documentId"],j9=["userId","collectionPath","largestBatchId"],q9=["userId","collectionGroup","largestBatchId"],Hk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],W9=[...Hk,"documentOverlays"],Kk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qk=Kk,Yk=[...Qk,"indexConfiguration","indexState","indexEntries"],G9=Yk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends jk{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Xt(t,e){const n=Y(t);return ui.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $h(this.root,e,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $h(this.root,e,this.comparator,!0)}}class $h{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=s??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ib(this.data.getIterator())}getIteratorFrom(e){return new Ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class Ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _a(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new jn([])}unionWith(e){let n=new je(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jk("Invalid base64 string: "+s):s}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const K9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(ie(!!t),typeof t=="string"){let e=0;const n=K9.exec(t);if(ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rw(t){const e=t.mapValue.fields.__previous_value__;return Wm(e)?Rw(e):e}function nd(t){const e=Li(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ms{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ms("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ms&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wf={nullValue:"NULL_VALUE"};function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wm(t)?4:Zk(t)?9007199254740991:10:Z()}function hi(t,e){if(t===e)return!0;const n=$o(t);if(n!==$o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nd(t).isEqual(nd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Li(i.timestampValue),a=Li(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ds(i.bytesValue).isEqual(Ds(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Tt(i.geoPointValue.latitude)===Tt(s.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Tt(i.integerValue)===Tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Tt(i.doubleValue),a=Tt(s.doubleValue);return o===a?td(o)===td(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(wb(o)!==wb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hi(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function rd(t,e){return(t.values||[]).find(n=>hi(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;const n=$o(t),r=$o(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Tt(s.integerValue||s.doubleValue),l=Tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Eb(t.timestampValue,e.timestampValue);case 4:return Eb(nd(t),nd(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ds(s),l=Ds(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=fe(a[u],l[u]);if(d!==0)return d}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(Tt(s.latitude),Tt(o.latitude));return a!==0?a:fe(Tt(s.longitude),Tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=Ls(a[u],l[u]);if(d)return d}return fe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ps.mapValue&&o===ps.mapValue)return 0;if(s===ps.mapValue)return 1;if(o===ps.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=fe(l[h],d[h]);if(p!==0)return p;const g=Ls(a[l[h]],u[d[h]]);if(g!==0)return g}return fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function Eb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Li(t),r=Li(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function El(t){return lv(t)}function lv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=lv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${lv(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function Bo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uv(t){return!!t&&"integerValue"in t}function id(t){return!!t&&"arrayValue"in t}function Tb(t){return!!t&&"nullValue"in t}function Sb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function _c(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_c(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Zk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Y9(t){return"nullValue"in t?wf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Bo(Ms.empty(),K.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Z()}function X9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Bo(Ms.empty(),K.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ps:Z()}function bb(t,e){const n=Ls(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Rb(t,e){const n=Ls(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_c(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];If(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ta(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sn(_c(this.value))}}function ex(t){const e=[];return ta(t.fields,(n,r)=>{const i=new ut([n]);if(If(r)){const s=ex(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nt(e,0,se.min(),se.min(),se.min(),sn.empty(),0)}static newFoundDocument(e,n,r,i){return new nt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new nt(e,2,n,se.min(),se.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,se.min(),se.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.position=e,this.inclusive=n}}function Pb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Ls(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ab(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function J9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{}class Te extends tx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z9(e,n,r):n==="array-contains"?new nq(e,r):n==="in"?new ax(e,r):n==="not-in"?new rq(e,r):n==="array-contains-any"?new iq(e,r):new Te(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eq(e,r):new tq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&$o(this.value)===$o(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Le extends tx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Le(e,n)}matches(e){return Tl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tl(t){return t.op==="and"}function cv(t){return t.op==="or"}function Pw(t){return nx(t)&&Tl(t)}function nx(t){for(const e of t.filters)if(e instanceof Le)return!1;return!0}function dv(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+El(t.value);if(Pw(t))return t.filters.map(e=>dv(e)).join(",");{const e=t.filters.map(n=>dv(n)).join(",");return`${t.op}(${e})`}}function rx(t,e){return t instanceof Te?function(r,i){return i instanceof Te&&r.op===i.op&&r.field.isEqual(i.field)&&hi(r.value,i.value)}(t,e):t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&rx(o,i.filters[a]),!0):!1}(t,e):void Z()}function ix(t,e){const n=t.filters.concat(e);return Le.create(n,t.op)}function sx(t){return t instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`}(t):t instanceof Le?function(n){return n.op.toString()+" {"+n.getFilters().map(sx).join(" ,")+"}"}(t):"Filter"}class Z9 extends Te{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class eq extends Te{constructor(e,n){super(e,"in",n),this.keys=ox("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tq extends Te{constructor(e,n){super(e,"not-in",n),this.keys=ox("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ox(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class nq extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return id(n)&&rd(n.arrayValue,this.value)}}class ax extends Te{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rd(this.value.arrayValue,n)}}class rq extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rd(this.value.arrayValue,n)}}class iq extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!id(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function hv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sq(t,e,n,r,i,s,o)}function zo(t){const e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>El(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>El(r)).join(",")),e.ue=n}return e.ue}function Md(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ab(t.startAt,e.startAt)&&Ab(t.endAt,e.endAt)}function gp(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yp(t,e){return t.filters.filter(n=>n instanceof Te&&n.field.isEqual(e))}function Cb(t,e,n){let r=wf,i=!0;for(const s of yp(t,e)){let o=wf,a=!0;switch(s.op){case"<":case"<=":o=Y9(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=wf}bb({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];bb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function kb(t,e,n){let r=ps,i=!0;for(const s of yp(t,e)){let o=ps,a=!0;switch(s.op){case">=":case">":o=X9(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ps}Rb({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Rb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lx(t,e,n,r,i,s,o,a){return new zi(t,e,n,r,i,s,o,a)}function Gl(t){return new zi(t)}function xb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Aw(t){return t.collectionGroup!==null}function nl(t){const e=Y(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new je(ut.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new sd(s,r))}),n.has(ut.keyField().canonicalString())||e.ce.push(new sd(ut.keyField(),r))}return e.ce}function kn(t){const e=Y(t);return e.le||(e.le=oq(e,nl(t))),e.le}function oq(t,e){if(t.limitType==="F")return hv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sd(i.field,s)});const n=t.endAt?new Vs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vs(t.startAt.position,t.startAt.inclusive):null;return hv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fv(t,e){const n=t.filters.concat([e]);return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _p(t,e,n){return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ld(t,e){return Md(kn(t),kn(e))&&t.limitType===e.limitType}function ux(t){return`${zo(kn(t))}|lt:${t.limitType}`}function Ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sx(i)).join(", ")}]`),Dd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>El(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>El(i)).join(",")),`Target(${r})`}(kn(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Pb(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,nl(r),i)||r.endAt&&!function(o,a,l){const u=Pb(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,nl(r),i))}(t,e)}function cx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dx(t){return(e,n)=>{let r=!1;for(const i of nl(t)){const s=aq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function aq(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ls(l,u):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Xk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=new Ye(K.comparator);function qn(){return lq}const hx=new Ye(K.comparator);function Ju(...t){let e=hx;for(const n of t)e=e.insert(n.key,n);return e}function fx(t){let e=hx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ii(){return vc()}function px(){return vc()}function vc(){return new Hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const uq=new Ye(K.comparator),cq=new je(K.comparator);function me(...t){let e=cq;for(const n of t)e=e.add(n);return e}const dq=new je(fe);function Cw(){return dq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}function gx(t){return{integerValue:""+t}}function yx(t,e){return Wk(e)?gx(e):mx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this._=void 0}}function hq(t,e,n){return t instanceof Sl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wm(s)&&(s=Rw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof jo?vx(t,e):t instanceof qo?wx(t,e):function(i,s){const o=_x(i,s),a=Nb(o)+Nb(i.Pe);return uv(o)&&uv(i.Pe)?gx(a):mx(i.serializer,a)}(t,e)}function fq(t,e,n){return t instanceof jo?vx(t,e):t instanceof qo?wx(t,e):n}function _x(t,e){return t instanceof bl?function(r){return uv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Sl extends Gm{}class jo extends Gm{constructor(e){super(),this.elements=e}}function vx(t,e){const n=Ix(e);for(const r of t.elements)n.some(i=>hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class qo extends Gm{constructor(e){super(),this.elements=e}}function wx(t,e){let n=Ix(e);for(const r of t.elements)n=n.filter(i=>!hi(i,r));return{arrayValue:{values:n}}}class bl extends Gm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Nb(t){return Tt(t.integerValue||t.doubleValue)}function Ix(t){return id(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.field=e,this.transform=n}}function pq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jo&&i instanceof jo||r instanceof qo&&i instanceof qo?Il(r.elements,i.elements,hi):r instanceof bl&&i instanceof bl?hi(r.Pe,i.Pe):r instanceof Sl&&i instanceof Sl}(t.transform,e.transform)}class mq{constructor(e,n){this.version=e,this.transformResults=n}}class ct{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ct}static exists(e){return new ct(void 0,e)}static updateTime(e){return new ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hm{}function Ex(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kl(t.key,ct.none()):new Hl(t.key,t.data,ct.none());{const n=t.data,r=sn.empty();let i=new je(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ji(t.key,r,new jn(i.toArray()),ct.none())}}function gq(t,e,n){t instanceof Hl?function(i,s,o){const a=i.value.clone(),l=Db(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(i,s,o){if(!Ef(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Db(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Tx(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wc(t,e,n,r){return t instanceof Hl?function(s,o,a,l){if(!Ef(s.precondition,o))return a;const u=s.value.clone(),d=Mb(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(s,o,a,l){if(!Ef(s.precondition,o))return a;const u=Mb(s.fieldTransforms,l,o),d=o.data;return d.setAll(Tx(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Ef(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_x(r.transform,i||null);s!=null&&(n===null&&(n=sn.empty()),n.set(r.field,s))}return n||null}function Ob(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Il(r,i,(s,o)=>pq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hl extends Hm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ji extends Hm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Tx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Db(t,e,n){const r=new Map;ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fq(o,a,n[i]))}return r}function Mb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hq(s,o,e))}return r}class Kl extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kw extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=px();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Ex(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,(n,r)=>Ob(n,r))&&Il(this.baseMutations,e.baseMutations,(n,r)=>Ob(n,r))}}class Nw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ie(e.mutations.length===r.length);let i=function(){return uq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Nw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Pe;function Sx(t){switch(t){default:return Z();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function bx(t){if(t===void 0)return Ct("GRPC error has no .code"),$.UNKNOWN;switch(t){case Dt.OK:return $.OK;case Dt.CANCELLED:return $.CANCELLED;case Dt.UNKNOWN:return $.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return $.INTERNAL;case Dt.UNAVAILABLE:return $.UNAVAILABLE;case Dt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Dt.NOT_FOUND:return $.NOT_FOUND;case Dt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Dt.ABORTED:return $.ABORTED;case Dt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Dt.DATA_LOSS:return $.DATA_LOSS;default:return Z()}}(Pe=Dt||(Dt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=new Po([4294967295,4294967295],0);function Lb(t){const e=Rx().encode(t),n=new kk;return n.update(e),new Uint8Array(n.digest())}function Vb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Po([n,r],0),new Po([i,s],0)]}class Dw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zu(`Invalid padding: ${n}`);if(r<0)throw new Zu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Po.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Po.fromNumber(r)));return i.compare(vq)===1&&(i=new Po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Lb(e),[r,i]=Vb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Dw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Lb(e),[r,i]=Vb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ud(se.min(),i,new Ye(fe),qn(),me())}}class $d{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $d(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Px{constructor(e,n){this.targetId=e,this.me=n}}class Ax{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Fb{constructor(){this.fe=0,this.ge=$b(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=me(),n=me(),r=me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new $d(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=$b()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wq{constructor(e){this.Le=e,this.Be=new Map,this.ke=qn(),this.qe=Ub(),this.Qe=new Ye(fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(gp(s))if(r===0){const o=new K(s.path);this.Ue(n,o,nt.newNoDocument(o,se.min()))}else ie(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ds(r).toUint8Array()}catch(l){if(l instanceof Jk)return jr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Dw(o,i,s)}catch(l){return jr(l instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&gp(a.target)){const l=new K(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,nt.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ud(e,n,this.Qe,this.ke,r);return this.ke=qn(),this.qe=Ub(),this.Qe=new Ye(fe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Fb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new je(fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Fb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ub(){return new Ye(K.comparator)}function $b(){return new Ye(K.comparator)}const Iq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Eq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Tq=(()=>({and:"AND",or:"OR"}))();class Sq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pv(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function Rl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bq(t,e){return Rl(t,e.toTimestamp())}function kt(t){return ie(!!t),se.fromTimestamp(function(n){const r=Li(n);return new dt(r.seconds,r.nanos)}(t))}function Mw(t,e){return mv(t,e).canonicalString()}function mv(t,e){const n=function(i){return new Ee(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kx(t){const e=Ee.fromString(t);return ie($x(e)),e}function od(t,e){return Mw(t.databaseId,e.path)}function ci(t,e){const n=kx(e);if(n.get(1)!==t.databaseId.projectId)throw new z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(Ox(n))}function xx(t,e){return Mw(t.databaseId,e)}function Nx(t){const e=kx(t);return e.length===4?Ee.emptyPath():Ox(e)}function gv(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ox(t){return ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bb(t,e,n){return{name:od(t,e),fields:n.value.mapValue.fields}}function Dx(t,e,n){const r=ci(t,e.name),i=kt(e.updateTime),s=e.createTime?kt(e.createTime):se.min(),o=new sn({mapValue:{fields:e.fields}}),a=nt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Rq(t,e){return"found"in e?function(r,i){ie(!!i.found),i.found.name,i.found.updateTime;const s=ci(r,i.found.name),o=kt(i.found.updateTime),a=i.found.createTime?kt(i.found.createTime):se.min(),l=new sn({mapValue:{fields:i.found.fields}});return nt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ie(!!i.missing),ie(!!i.readTime);const s=ci(r,i.missing),o=kt(i.readTime);return nt.newNoDocument(s,o)}(t,e):Z()}function Pq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ie(d===void 0||typeof d=="string"),zt.fromBase64String(d||"")):(ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array),zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:bx(u.code);return new z(d,u.message||"")}(o);n=new Ax(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ci(t,r.document.name),s=kt(r.document.updateTime),o=r.document.createTime?kt(r.document.createTime):se.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=nt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Tf(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ci(t,r.document),s=r.readTime?kt(r.readTime):se.min(),o=nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Tf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ci(t,r.document),s=r.removedTargetIds||[];n=new Tf([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _q(i,s),a=r.targetId;n=new Px(a,o)}}return n}function ad(t,e){let n;if(e instanceof Hl)n={update:Bb(t,e.key,e.value)};else if(e instanceof Kl)n={delete:od(t,e.key)};else if(e instanceof ji)n={update:Bb(t,e.key,e.data),updateMask:Oq(e.fieldMask)};else{if(!(e instanceof kw))return Z();n={verify:od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Sl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bl)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:bq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function yv(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?ct.updateTime(kt(s.updateTime)):s.exists!==void 0?ct.exists(s.exists):ct.none()}(e.currentDocument):ct.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ie(a.setToServerValue==="REQUEST_TIME"),l=new Sl;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new jo(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new qo(d)}else"increment"in a?l=new bl(o,a.increment):Z();const u=ut.fromServerFormat(a.fieldPath);return new Fd(u,l)}(t,i)):[];if(e.update){e.update.name;const i=ci(t,e.update.name),s=new sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new jn(u.map(d=>ut.fromServerFormat(d)))}(e.updateMask);return new ji(i,s,o,n,r)}return new Hl(i,s,n,r)}if(e.delete){const i=ci(t,e.delete);return new Kl(i,n)}if(e.verify){const i=ci(t,e.verify);return new kw(i,n)}return Z()}function Aq(t,e){return t&&t.length>0?(ie(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?kt(i.updateTime):kt(s);return o.isEqual(se.min())&&(o=kt(s)),new mq(o,i.transformResults||[])}(n,e))):[]}function Mx(t,e){return{documents:[xx(t,e.path)]}}function Lx(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xx(t,i);const s=function(u){if(u.length!==0)return Ux(Le.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Pa(p.field),direction:kq(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Vx(t){let e=Nx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ie(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=Fx(h);return p instanceof Le&&Pw(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(v){return new sd(Aa(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Dd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Vs(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new Vs(g,p)}(n.endAt)),lx(e,i,o,s,a,"F",l,u)}function Cq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Aa(n.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Aa(n.unaryFilter.field);return Te.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Aa(n.unaryFilter.field);return Te.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Aa(n.unaryFilter.field);return Te.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Te.create(Aa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Le.create(n.compositeFilter.filters.map(r=>Fx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function kq(t){return Iq[t]}function xq(t){return Eq[t]}function Nq(t){return Tq[t]}function Pa(t){return{fieldPath:t.canonicalString()}}function Aa(t){return ut.fromServerFormat(t.fieldPath)}function Ux(t){return t instanceof Te?function(n){if(n.op==="=="){if(Sb(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(Tb(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sb(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(Tb(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:xq(n.op),value:n.value}}}(t):t instanceof Le?function(n){const r=n.getFilters().map(i=>Ux(i));return r.length===1?r[0]:{compositeFilter:{op:Nq(n.op),filters:r}}}(t):Z()}function Oq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $x(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,i,s=se.min(),o=se.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.ct=e}}function Dq(t,e){let n;if(e.document)n=Dx(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=K.fromSegments(e.noDocument.path),i=Go(e.noDocument.readTime);n=nt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Z();{const r=K.fromSegments(e.unknownDocument.path),i=Go(e.unknownDocument.version);n=nt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new dt(i[0],i[1]);return se.fromTimestamp(s)}(e.readTime)),n}function zb(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:od(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Rl(s,o.version.toTimestamp()),createTime:Rl(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Wo(e.version)};else{if(!e.isUnknownDocument())return Z();r.unknownDocument={path:n.path.toArray(),version:Wo(e.version)}}return r}function vp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Wo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Go(t){const e=new dt(t.seconds,t.nanoseconds);return se.fromTimestamp(e)}function fo(t,e){const n=(e.baseMutations||[]).map(s=>yv(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>yv(t.ct,s)),i=dt.fromMillis(e.localWriteTimeMs);return new xw(e.batchId,i,n,r)}function ec(t){const e=Go(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Go(t.lastLimboFreeSnapshotVersion):se.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ie(s.documents.length===1),kn(Gl(Nx(s.documents[0])))}(t.query):function(s){return kn(Vx(s))}(t.query),new bi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,zt.fromBase64String(t.resumeToken))}function zx(t,e){const n=Wo(e.snapshotVersion),r=Wo(e.lastLimboFreeSnapshotVersion);let i;i=gp(e.target)?Mx(t.ct,e.target):Lx(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:zo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Lw(t){const e=Vx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_p(e,e.limit,"L"):e}function Dy(t,e){return new Ow(e.largestBatchId,yv(t.ct,e.overlayMutation))}function jb(t,e){const n=e.path.lastSegment();return[t,Cn(e.path.popLast()),n]}function qb(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Wo(r.readTime),documentKey:Cn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{getBundleMetadata(e,n){return Wb(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Go(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return Wb(e).put(function(i){return{bundleId:i.id,createTime:Wo(kt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return Gb(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Lw(s.bundledQuery),readTime:Go(s.readTime)}}(r)})}saveNamedQuery(e,n){return Gb(e).put(function(i){return{name:i.name,readTime:Wo(kt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function Wb(t){return Xt(t,"bundles")}function Gb(t){return Xt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Km(e,r)}getOverlay(e,n){return Mu(e).get(jb(this.userId,n)).next(r=>r?Dy(this.serializer,r):null)}getOverlays(e,n){const r=ii();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Ow(n,o);i.push(this.ht(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Cn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Mu(e).j("collectionPathOverlayIndex",a))}),V.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ii(),s=Cn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Mu(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Dy(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ii();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Mu(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{const h=Dy(this.serializer,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return Mu(e).put(function(i,s,o){const[a,l,u]=jb(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ad(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Mu(t){return Xt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),td(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Li(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ds(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Zk(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Z()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),K.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}po.bt=new po;function Lq(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Hb(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Lq(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Vq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=Hb(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=Hb(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Fq{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Uq{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Lu{constructor(){this.Gt=new Vq,this.zt=new Fq(this.Gt),this.jt=new Uq(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new mo(this.indexId,this.documentKey,this.arrayValue,r)}}function ns(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Kb(t.arrayValue,e.arrayValue),n!==0?n:(n=Kb(t.directionalValue,e.directionalValue),n!==0?n:K.comparator(t.documentKey,e.documentKey)))}function Kb(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.Yt=new je((n,r)=>ut.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ie(e.collectionGroup===this.collectionId),this.en)return!1;const n=ov(e);if(n!==void 0&&!this.nn(n))return!1;const r=co(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new je(ut.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new _f(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new _f(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new _f(r.field,r.dir==="asc"?0:1)));return new mp(mp.UNKNOWN_ID,this.collectionId,n,ed.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){var e,n;if(ie(t instanceof Te||t instanceof Le),t instanceof Te){if(t instanceof ax){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Te.create(t.field,"==",s)))||[];return Le.create(i,"or")}return t}const r=t.filters.map(i=>jx(i));return Le.create(r,t.op)}function $q(t){if(t.getFilters().length===0)return[];const e=wv(jx(t));return ie(qx(e)),_v(e)||vv(e)?[e]:e.getFilters()}function _v(t){return t instanceof Te}function vv(t){return t instanceof Le&&Pw(t)}function qx(t){return _v(t)||vv(t)||function(n){if(n instanceof Le&&cv(n)){for(const r of n.getFilters())if(!_v(r)&&!vv(r))return!1;return!0}return!1}(t)}function wv(t){if(ie(t instanceof Te||t instanceof Le),t instanceof Te)return t;if(t.filters.length===1)return wv(t.filters[0]);const e=t.filters.map(r=>wv(r));let n=Le.create(e,t.op);return n=wp(n),qx(n)?n:(ie(n instanceof Le),ie(Tl(n)),ie(n.filters.length>1),n.filters.reduce((r,i)=>Vw(r,i)))}function Vw(t,e){let n;return ie(t instanceof Te||t instanceof Le),ie(e instanceof Te||e instanceof Le),n=t instanceof Te?e instanceof Te?function(i,s){return Le.create([i,s],"and")}(t,e):Yb(t,e):e instanceof Te?Yb(e,t):function(i,s){if(ie(i.filters.length>0&&s.filters.length>0),Tl(i)&&Tl(s))return ix(i,s.getFilters());const o=cv(i)?i:s,a=cv(i)?s:i,l=o.filters.map(u=>Vw(u,a));return Le.create(l,"or")}(t,e),wp(n)}function Yb(t,e){if(Tl(e))return ix(e,t.getFilters());{const n=e.filters.map(r=>Vw(t,r));return Le.create(n,"or")}}function wp(t){if(ie(t instanceof Te||t instanceof Le),t instanceof Te)return t;const e=t.getFilters();if(e.length===1)return wp(e[0]);if(nx(t))return t;const n=e.map(i=>wp(i)),r=[];return n.forEach(i=>{i instanceof Te?r.push(i):i instanceof Le&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Le.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this._n=new Fw}addToCollectionParentIndex(e,n){return this._n.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(ar.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class Fw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Uint8Array(0);class zq{constructor(e,n){this.databaseId=n,this.an=new Fw,this.un=new Hs(r=>zo(r),(r,i)=>Md(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:Cn(i)};return Xb(e).put(s)}return V.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Uk(n),""],!1,!0);return Xb(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(ri(o.parent))}return r})}addFieldIndex(e,n){const r=Vu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=wa(e);return s.next(a=>{o.put(qb(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Vu(e),i=wa(e),s=va(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Vu(e),r=va(e),i=wa(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return V.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new Qb(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=va(e);let i=!0;const s=new Map;return V.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=me();const a=[];return V.forEach(s,(l,u)=>{j("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(R=>`${R.fieldPath}:${R.kind}`).join(",")}`}(l)} to execute ${zo(n)}`);const d=function(_,R){const x=ov(R);if(x===void 0)return null;for(const D of yp(_,x.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null}(u,l),h=function(_,R){const x=new Map;for(const D of co(R))for(const I of yp(_,D.fieldPath))switch(I.op){case"==":case"in":x.set(D.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return x.set(D.fieldPath.canonicalString(),I.value),Array.from(x.values())}return null}(u,l),p=function(_,R){const x=[];let D=!0;for(const I of co(R)){const E=I.kind===0?Cb(_,I.fieldPath,_.startAt):kb(_,I.fieldPath,_.startAt);x.push(E.value),D&&(D=E.inclusive)}return new Vs(x,D)}(u,l),g=function(_,R){const x=[];let D=!0;for(const I of co(R)){const E=I.kind===0?kb(_,I.fieldPath,_.endAt):Cb(_,I.fieldPath,_.endAt);x.push(E.value),D&&(D=E.inclusive)}return new Vs(x,D)}(u,l),v=this.hn(l,u,p),T=this.hn(l,u,g),S=this.Pn(l,u,h),w=this.In(l.indexId,d,v,p.inclusive,T,g.inclusive,S);return V.forEach(w,y=>r.G(y,n.limit).next(_=>{_.forEach(R=>{const x=K.fromSegments(R.documentKey);o.has(x)||(o=o.add(x),a.push(x))})}))}).next(()=>a)}return V.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=$q(Le.create(e.filters,"and")).map(r=>hv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const p=n?this.Tn(n[h/u]):Bh,g=this.En(e,p,r[h%u],i),v=this.dn(e,p,s[h%u],o),T=a.map(S=>this.En(e,p,S,!0));d.push(...this.createRange(g,v,T))}return d}En(e,n,r,i){const s=new mo(e,K.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new mo(e,K.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new Qb(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return V.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new je(ut.comparator),d=!1;for(const h of l.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?d=!0:u=u.add(p.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new Lu;for(const i of co(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);po.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new Lu;return po.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Lu;return po.bt.Pt(Bo(this.databaseId,n),r.Ht(function(s){const o=co(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Lu);let s=0;for(const o of co(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&id(a))i=this.mn(i,o,a);else{const u=l.Ht(o.kind);po.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Lu;l.seed(a.Wt()),po.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Te&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Vu(e),i=wa(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return V.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const p=h?new ed(h.sequenceNumber,new ar(Go(h.readTime),new K(ri(h.documentKey)),h.largestBatchId)):ed.empty(),g=d.fields.map(([v,T])=>new _f(ut.fromServerFormat(v),T));return new mp(d.indexId,d.collectionGroup,g,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:fe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Vu(e),s=wa(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>V.forEach(a,l=>s.put(qb(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return V.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,l=>this.pn(e,i,l).next(u=>{const d=this.yn(s,l);return u.isEqual(d)?V.resolve():this.wn(e,s,l,u,d)}))))})}Sn(e,n,r,i){return va(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return va(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=va(e);let s=new je(ns);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new mo(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new je(ns);const i=this.An(n,e);if(i==null)return r;const s=ov(n);if(s!=null){const o=e.data.field(s.fieldPath);if(id(o))for(const a of o.arrayValue.values||[])r=r.add(new mo(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new mo(n.indexId,e.key,Bh,i));return r}wn(e,n,r,i,s){j("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,d,h,p){const g=l.getIterator(),v=u.getIterator();let T=_a(g),S=_a(v);for(;T||S;){let w=!1,y=!1;if(T&&S){const _=d(T,S);_<0?y=!0:_>0&&(w=!0)}else T!=null?y=!0:w=!0;w?(h(S),S=_a(v)):y?(p(T),T=_a(g)):(T=_a(g),S=_a(v))}}(i,s,ns,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),V.waitFor(o)}gn(e){let n=1;return wa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>ns(o,a)).filter((o,a,l)=>!a||ns(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=ns(o,e),l=ns(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Bh,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Bh,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return ns(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Jb)}getMinOffset(e,n){return V.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Z())).next(Jb)}}function Xb(t){return Xt(t,"collectionParents")}function va(t){return Xt(t,"indexEntries")}function Vu(t){return Xt(t,"indexConfiguration")}function wa(t){return Xt(t,"indexState")}function Jb(t){ie(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Sw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ar(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(d,h,p)=>(a++,p.delete()));s.push(l.next(()=>{ie(a===1)}));const u=[];for(const d of n.mutations){const h=Gk(e,d.key.path,n.batchId);s.push(i.delete(h)),u.push(d.key)}return V.waitFor(s).next(()=>u)}function Ip(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Z();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(41943040,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class Qm{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){ie(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Qm(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rs(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ca(e),o=rs(e);return o.add({}).next(a=>{ie(typeof a=="number");const l=new xw(a,n,r,i),u=function(g,v,T){const S=T.baseMutations.map(y=>ad(g.ct,y)),w=T.mutations.map(y=>ad(g.ct,y));return{userId:v,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:S,mutations:w}}(this.serializer,this.userId,l),d=[];let h=new je((p,g)=>fe(p.canonicalString(),g.canonicalString()));for(const p of i){const g=Gk(this.userId,p.key.path,a);h=h.add(p.key.path.popLast()),d.push(o.put(u)),d.push(s.put(g,k9))}return h.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),V.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return rs(e).get(n).next(r=>r?(ie(r.userId===this.userId),fo(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?V.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return rs(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ie(a.batchId>=r),s=fo(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return rs(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rs(e).U("userMutationsIndex",n).next(r=>r.map(i=>fo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=vf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ca(e).J({range:i},(o,a,l)=>{const[u,d,h]=o,p=ri(d);if(u===this.userId&&n.path.isEqual(p))return rs(e).get(h).next(g=>{if(!g)throw Z();ie(g.userId===this.userId),s.push(fo(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(fe);const i=[];return n.forEach(s=>{const o=vf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ca(e).J({range:a},(u,d,h)=>{const[p,g,v]=u,T=ri(g);p===this.userId&&s.path.isEqual(T)?r=r.add(v):h.done()});i.push(l)}),V.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=vf(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new je(fe);return Ca(e).J({range:o},(l,u,d)=>{const[h,p,g]=l,v=ri(p);h===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(g)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(rs(e).get(s).next(o=>{if(o===null)throw Z();ie(o.userId===this.userId),r.push(fo(this.serializer,o))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Wx(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return V.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ca(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=ri(s[1]);i.push(l)}else a.done()}).next(()=>{ie(i.length===0)})})}containsKey(e,n){return Gx(e,this.userId,n)}xn(e){return Hx(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gx(t,e,n){const r=vf(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ca(t).J({range:s,H:!0},(a,l,u)=>{const[d,h,p]=a;d===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function rs(t){return Xt(t,"mutations")}function Ca(t){return Xt(t,"documentMutations")}function Hx(t){return Xt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ho(0)}static Ln(){return new Ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Ho(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>se.fromTimestamp(new dt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ia(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ie(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ia(e).J((o,a)=>{const l=ec(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ia(e).J((r,i)=>{const s=ec(i);n(s)})}Bn(e){return eR(e).get("targetGlobalKey").next(n=>(ie(n!==null),n))}kn(e,n){return eR(e).put("targetGlobalKey",n)}qn(e,n){return Ia(e).put(zx(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=zo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ia(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=ec(a);Md(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=cs(e);return n.forEach(o=>{const a=Cn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),V.waitFor(i)}removeMatchingKeys(e,n,r){const i=cs(e);return V.forEach(n,s=>{const o=Cn(s.path);return V.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=cs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=cs(e);let s=me();return i.J({range:r,H:!0},(o,a,l)=>{const u=ri(o[1]),d=new K(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=Cn(n.path),i=IDBKeyRange.bound([r],[Uk(r)],!1,!0);let s=0;return cs(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,n){return Ia(e).get(n).next(r=>r?ec(r):null)}}function Ia(t){return Xt(t,"targets")}function eR(t){return Xt(t,"targetGlobal")}function cs(t){return Xt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR([t,e],[n,r]){const i=fe(t,n);return i===0?fe(e,r):i}class qq{constructor(e){this.Kn=e,this.buffer=new je(tR),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Wq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){j("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ws(n)}await this.zn(3e5)})}}class Gq{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(zn.oe);const r=new qq(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(Zb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zb):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),ba()<=ye.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Hq(t,e){return new Gq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n){this.db=e,this.garbageCollector=Hq(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return zh(e,r)}removeReference(e,n,r){return zh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return zh(e,n)}er(e,n){return function(i,s){let o=!1;return Hx(i).Y(a=>Gx(i,a,s).next(l=>(l&&(o=!0),V.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,se.min()),cs(e).delete(function(h){return[0,Cn(h.path)]}(o))))});i.push(l)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return zh(e,n)}Xn(e,n){const r=cs(e);let i,s=zn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==zn.oe&&n(new K(ri(i)),s),s=u,i=l):s=zn.oe}).next(()=>{s!==zn.oe&&n(new K(ri(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zh(t,e){return cs(t).put(function(r,i){return{targetId:0,path:Cn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.changes=new Hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return io(e).put(r)}removeEntry(e,n,r){return io(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],vp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=nt.newInvalidDocument(n);return io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Fu(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:nt.newInvalidDocument(n)};return io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Fu(n))},(i,s)=>{r={document:this.nr(n,s),size:Ip(s)}}).next(()=>r)}getEntries(e,n){let r=qn();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=qn(),i=new Ye(K.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Ip(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return V.resolve();let i=new je(iR);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Fu(i.first()),Fu(i.last())),o=i.getIterator();let a=o.getNext();return io(e).J({index:"documentKeyIndex",range:s},(l,u,d)=>{const h=K.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&iR(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(Fu(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),vp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return io(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let d=qn();for(const h of u){const p=this.nr(K.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(Vd(n,p)||i.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=qn();const o=rR(n,r),a=rR(n,ar.max());return io(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,d)=>{const h=this.nr(K.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new Yq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return nR(e).get("remoteDocumentGlobalKey").next(n=>(ie(!!n),n))}tr(e,n){return nR(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=Dq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(se.min())))return r}return nt.newInvalidDocument(e)}}function Qx(t){return new Qq(t)}class Yq extends Kx{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Hs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new je((s,o)=>fe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=zb(this.ar.serializer,o);i=i.add(s.path.popLast());const u=Ip(l);r+=u-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=zb(this.ar.serializer,o.convertToNoDocument(se.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),V.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function nR(t){return Xt(t,"remoteDocumentGlobal")}function io(t){return Xt(t,"remoteDocumentsV14")}function Fu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rR(t,e){const n=e.documentKey.path.toArray();return[t,vp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function iR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=fe(n[s],r[s]),i)return i;return i=fe(n.length,r.length),i||(i=fe(n[n.length-2],r[r.length-2]),i||fe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wc(r.mutation,i,jn.empty(),dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ju();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=qn();const o=vc(),a=function(){return vc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ji)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),wc(d.mutation,u,d.mutation.getFieldMask(),dt.now())):o.set(u.key,jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new Xq(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vc();let i=new Ye((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||jn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||me()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=px();d.forEach(p=>{if(!s.has(p)){const g=Ex(n.get(p),r.get(p));g!==null&&h.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Aw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(ii());let a=-1,l=s;return o.next(u=>V.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,me())).next(d=>({batchId:a,changes:fx(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ju();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const u=function(h,p){return new zi(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,nt.newInvalidDocument(d)))});let a=Ju();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&wc(d.mutation,u,jn.empty(),dt.now()),Vd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return V.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kt(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Lw(i.bundledQuery),readTime:kt(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.overlays=new Ye(K.comparator),this.hr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ii();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=ii(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ii(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ii(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ow(n,r));let s=this.hr.get(n);s===void 0&&(s=me(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.Pr=new je(jt.Ir),this.Tr=new je(jt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new jt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new K(new Ee([])),r=new jt(n,e),i=new jt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new K(new Ee([])),r=new jt(n,e),i=new jt(n,e+1);let s=me();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return K.comparator(e.key,n.key)||fe(e.pr,n.pr)}static Er(e,n){return fe(e.pr,n.pr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new je(jt.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(fe);return n.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new jt(new K(s),0);let a=new je(fe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),V.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ie(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(n.mutations,i=>{const s=new jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new jt(n,0),i=this.wr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e){this.vr=e,this.docs=function(){return new Ye(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let r=qn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qn();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Sw(Bk(d),r)<=0||(i.has(d.key)||Vd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Fr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nW(this)}getSize(e){return V.resolve(this.size)}}class nW extends Kx{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e){this.persistence=e,this.Mr=new Hs(n=>zo(n),Md),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Uw,this.targetCount=0,this.Lr=Ho.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),V.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.qn(n),V.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.Br={},this.overlays={},this.kr=new zn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new rW(this),this.indexManager=new Bq,this.remoteDocumentCache=function(i){return new tW(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Bx(n),this.$r=new Jq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new eW(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new iW(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class iW extends jk{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.zr=new Uw,this.jr=null}static Hr(e){return new Ym(e)}get Jr(){if(this.jr)return this.jr;throw Z()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{const i=K.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return V.or([()=>V.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.serializer=e}O(e,n,r,i){const s=new qm("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vb,{unique:!0}),l.createObjectStore("documentMutations")}(e),sR(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=V.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),sR(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:se.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vb,{unique:!0});const h=u.store("mutations"),p=d.map(g=>h.put(g));return V.waitFor(p)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:z9});u.createIndex("collectionPathOverlayIndex",j9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",q9,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:x9});u.createIndex("documentKeyIndex",N9),u.createIndex("collectionGroupIndex",O9)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:F9}).createIndex("sequenceNumberIndex",U9,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:$9}).createIndex("documentKeyIndex",B9,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Ip(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>V.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>V.forEach(a,l=>{ie(l.userId===s.userId);const u=fo(this.serializer,l);return Wx(e,s.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new Ee(o),u=function(h){return[0,Cn(h)]}(l);s.push(n.get(u).next(d=>d?V.resolve():(h=>n.put({targetId:0,path:Cn(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>V.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:V9});const r=n.store("collectionParents"),i=new Fw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Cn(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new Ee(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const d=ri(a);return s(d.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const s=ec(i),o=zx(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new K(Ee.fromString(h.document.name).popFirst(5)):h.noDocument?K.fromSegments(h.noDocument.path):h.unknownDocument?K.fromSegments(h.unknownDocument.path):Z()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>V.waitFor(i))}si(e,n){const r=n.store("mutations"),i=Qx(this.serializer),s=new Xx(Ym.Hr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:me();fo(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),V.forEach(a,(l,u)=>{const d=new Wt(u),h=Km.lt(this.serializer,d),p=s.getIndexManager(d),g=Qm.lt(d,this.serializer,p,s.referenceDelegate);return new Yx(i,g,h,p).recalculateAndSaveOverlaysForDocumentKeys(new av(n,zn.oe),l).next()})})}}function sR(t){t.createObjectStore("targetDocuments",{keyPath:M9}).createIndex("documentTargetsIndex",L9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",D9,{unique:!0}),t.createObjectStore("targetGlobal")}const My="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $w{constructor(e,n,r,i,s,o,a,l,u,d,h=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=u,this.ai=d,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!$w.D())throw new z($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kq(this,i),this.Ti=n+"main",this.serializer=new Bx(l),this.Ei=new ui(this.Ti,this.ui,new sW(this.serializer)),this.Qr=new jq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qx(this.serializer),this.$r=new Mq,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&Ct("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new z($.FAILED_PRECONDITION,My);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new zn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Gs(e))return j("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Uu(e).get("owner").next(n=>V.resolve(this.Si(n)))}bi(e){return jh(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Xt(n,"clientMetadata");return r.U().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return V.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?V.resolve(!0):Uu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new z($.FAILED_PRECONDITION,My);return!1}}return!(!this.networkEnabled||!this.inForeground)||jh(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&j("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new av(e,zn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>jh(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Qm.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zq(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Km.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){j("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===16?G9:l===15?Yk:l===14?Qk:l===13?Kk:l===12?W9:l===11?Hk:void Z()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new av(a,this.kr?this.kr.next():zn.oe),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw Ct(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new z($.FAILED_PRECONDITION,zk);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Uu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new z($.FAILED_PRECONDITION,My)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uu(e).put("owner",n)}static D(){return ui.D()}yi(e){const n=Uu(e);return n.get("owner").next(r=>this.Si(r)?(j("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):V.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ct(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;eC()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return j("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ct("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ct("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uu(t){return Xt(t,"owner")}function jh(t){return Xt(t,"clientMetadata")}function Bw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return eC()?8:qk(ke())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new oW;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ba()<=ye.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(ba()<=ye.DEBUG&&j("QueryEngine","Query:",Ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ba()<=ye.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(n))):V.resolve())}ji(e,n){if(xb(n))return V.resolve(null);let r=kn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_p(n,null,"F"),r=kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,_p(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return xb(n)||i.isEqual(se.min())?V.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?V.resolve(null):(ba()<=ye.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ra(n)),this.es(e,o,n,$k(i,-1)).next(a=>a))})}Zi(e,n){let r=new je(dx(e));return n.forEach((i,s)=>{Vd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ba()<=ye.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Ra(n)),this.zi.getDocumentsMatchingQuery(e,n,ar.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ye(fe),this.rs=new Hs(s=>zo(s),Md),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yx(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Zx(t,e,n,r){return new aW(t,e,n,r)}async function eN(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=me();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function lW(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let g=V.resolve();return p.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(T=>{const S=u.docVersions.get(v);ie(S!==null),T.version.compareTo(S)<0&&(h.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tN(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function uW(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(zt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(T,S,w){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(n.Qr.updateTargetData(s,g))});let l=qn(),u=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(nN(s,o,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(se.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function nN(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function cW(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pl(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Al(t,e,n){const r=Y(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gs(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Ep(t,e,n){const r=Y(t);let i=se.min(),s=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Y(l),p=h.rs.get(d);return p!==void 0?V.resolve(h.ns.get(p)):h.Qr.getTargetData(u,d)}(r,o,kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:me())).next(a=>(sN(r,cx(e),a),{documents:a,hs:s})))}function rN(t,e){const n=Y(t),r=Y(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function iN(t,e){const n=Y(t),r=n.ss.get(e)||se.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,$k(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(sN(n,e,i),i))}function sN(t,e,n){let r=t.ss.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function dW(t,e,n,r){const i=Y(t);let s=me(),o=qn();for(const u of n){const d=e.Ps(u.metadata.name);u.document&&(s=s.add(d));const h=e.Is(u);h.setReadTime(e.Ts(u.metadata.readTime)),o=o.insert(d,h)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await Pl(i,function(d){return kn(Gl(Ee.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>nN(u,a,o).next(d=>(a.apply(u),d)).next(d=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.cs,d.ls)).next(()=>d.cs)))}async function hW(t,e,n=me()){const r=await Pl(t,kn(Lw(e.bundledQuery))),i=Y(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=kt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(zt.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function oR(t,e){return`firestore_clients_${t}_${e}`}function aR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ly(t,e){return`firestore_targets_${t}_${e}`}class Tp{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new z(i.error.code,i.error.message))),o?new Tp(e,n,i.state,s):(Ct("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ic{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new z(r.error.code,r.error.message))),s?new Ic(e,r.state,i):(Ct("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Cw();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Wk(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Sp(e,s):(Ct("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class jw{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new jw(n.clientId,n.onlineState):(Ct("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Iv{constructor(){this.activeTargetIds=Cw()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vy{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ye(fe),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=oR(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Iv),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(oR(this.persistenceKey,r));if(i){const s=Sp.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ly(this.persistenceKey,e));if(r){const i=Ic.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ly(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return j("SharedClientState","READ",e,n),n}setItem(e,n){j("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){j("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(j("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void Ct("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=zn.oe;if(s!=null)try{const a=JSON.parse(s);ie(typeof a=="number"),o=a}catch(a){Ct("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==zn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new Tp(this.currentUser,e,n,r),s=aR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=aR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=Ly(this.persistenceKey,e),s=new Ic(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return Sp.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Tp.Es(new Wt(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return Ic.Es(i,n)}xs(e){return jw.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);j("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=Cw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class oN{constructor(){this.no=new Iv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Iv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function Fy(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class gW extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=Fy(),l=this.vo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,l,u,i).then(d=>(j("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw jr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=pW[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Fy();return new Promise((o,a)=>{const l=new xk;l.setWithCredentials(!0),l.listenOnce(Ok.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yf.NO_ERROR:const d=l.getResponseJson();j(pn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case yf.TIMEOUT:j(pn,`RPC '${e}' ${s} timed out`),a(new z($.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const h=l.getStatus();if(j(pn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(S){const w=S.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(g.status);a(new z(v,g.message))}else a(new z($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z($.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{j(pn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);j(pn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=Fy(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Lk(),a=Mk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Nk({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");j(pn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,g=!1;const v=new mW({lo:S=>{g?j(pn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(j(pn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),j(pn,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},ho:()=>h.close()}),T=(S,w,y)=>{S.listen(w,_=>{try{y(_)}catch(R){setTimeout(()=>{throw R},0)}})};return T(h,Xu.EventType.OPEN,()=>{g||(j(pn,`RPC '${e}' stream ${i} transport opened.`),v.mo())}),T(h,Xu.EventType.CLOSE,()=>{g||(g=!0,j(pn,`RPC '${e}' stream ${i} transport closed`),v.po())}),T(h,Xu.EventType.ERROR,S=>{g||(g=!0,jr(pn,`RPC '${e}' stream ${i} transport errored:`,S),v.po(new z($.UNAVAILABLE,"The operation could not be completed")))}),T(h,Xu.EventType.MESSAGE,S=>{var w;if(!g){const y=S.data[0];ie(!!y);const _=y,R=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(R){j(pn,`RPC '${e}' stream ${i} received error:`,R);const x=R.status;let D=function(P){const C=Dt[P];if(C!==void 0)return bx(C)}(x),I=R.message;D===void 0&&(D=$.INTERNAL,I="Unknown error status: "+x+" with message "+R.message),g=!0,v.po(new z(D,I)),h.close()}else j(pn,`RPC '${e}' stream ${i} received:`,y),v.yo(y)}}),T(a,Dk.STAT_EVENT,S=>{S.stat===sv.PROXY?j(pn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===sv.NOPROXY&&j(pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return typeof window<"u"?window:null}function Sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){return new Sq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new qw(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ct(n.toString()),Ct("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yW extends lN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=Pq(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?kt(o.readTime):se.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=gv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=gp(l)?{documents:Mx(s,l)}:{query:Lx(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Cx(s,o.resumeToken);const u=pv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=Rl(s,o.snapshotVersion.toTimestamp());const u=pv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Cq(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=gv(this.serializer),n.removeTarget=e,this.i_(n)}}class _W extends lN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=Aq(e.writeResults,e.commitTime),r=kt(e.commitTime);return this.listener.A_(r,n)}return ie(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=gv(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ad(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new z($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,mv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z($.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,mv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z($.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class wW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ct(n),this.y_=!1):j("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Ks(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Y(l);u.M_.add(4),await Ql(u),u.N_.set("Unknown"),u.M_.delete(4),await zd(u)}(this))})}),this.N_=new wW(r,i)}}async function zd(t){if(Ks(t))for(const e of t.x_)await e(!0)}async function Ql(t){for(const e of t.x_)await e(!1)}function Xm(t,e){const n=Y(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Hw(n)?Gw(n):Xl(n).Xo()&&Ww(n,e))}function Cl(t,e){const n=Y(t),r=Xl(n);n.F_.delete(e),r.Xo()&&uN(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ks(n)&&n.N_.set("Unknown"))}function Ww(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xl(t).P_(e)}function uN(t,e){t.L_.xe(e),Xl(t).I_(e)}function Gw(t){t.L_=new wq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xl(t).start(),t.N_.w_()}function Hw(t){return Ks(t)&&!Xl(t).Zo()&&t.F_.size>0}function Ks(t){return Y(t).M_.size===0}function cN(t){t.L_=void 0}async function EW(t){t.N_.set("Online")}async function TW(t){t.F_.forEach((e,n)=>{Ww(t,e)})}async function SW(t,e){cN(t),Hw(t)?(t.N_.D_(e),Gw(t)):t.N_.set("Unknown")}async function bW(t,e,n){if(t.N_.set("Online"),e instanceof Ax&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bp(t,r)}else if(e instanceof Tf?t.L_.Ke(e):e instanceof Px?t.L_.He(e):t.L_.We(e),!n.isEqual(se.min()))try{const r=await tN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(u);d&&s.F_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(zt.EMPTY_BYTE_STRING,d.snapshotVersion)),uN(s,l);const h=new bi(d.target,l,u,d.sequenceNumber);Ww(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await bp(t,r)}}async function bp(t,e,n){if(!Gs(e))throw e;t.M_.add(1),await Ql(t),t.N_.set("Offline"),n||(n=()=>tN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await zd(t)})}function dN(t,e){return e().catch(n=>bp(t,n,e))}async function Yl(t){const e=Y(t),n=Fs(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;RW(e);)try{const i=await cW(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,PW(e,i)}catch(i){await bp(e,i)}hN(e)&&fN(e)}function RW(t){return Ks(t)&&t.v_.length<10}function PW(t,e){t.v_.push(e);const n=Fs(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function hN(t){return Ks(t)&&!Fs(t).Zo()&&t.v_.length>0}function fN(t){Fs(t).start()}async function AW(t){Fs(t).V_()}async function CW(t){const e=Fs(t);for(const n of t.v_)e.d_(n.mutations)}async function kW(t,e,n){const r=t.v_.shift(),i=Nw.from(r,e,n);await dN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yl(t)}async function xW(t,e){e&&Fs(t).E_&&await async function(r,i){if(function(o){return Sx(o)&&o!==$.ABORTED}(i.code)){const s=r.v_.shift();Fs(r).t_(),await dN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yl(r)}}(t,e),hN(t)&&fN(t)}async function uR(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=Ks(n);n.M_.add(3),await Ql(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await zd(n)}async function Ev(t,e){const n=Y(t);e?(n.M_.delete(2),await zd(n)):e||(n.M_.add(2),await Ql(n),n.N_.set("Unknown"))}function Xl(t){return t.B_||(t.B_=function(n,r,i){const s=Y(n);return s.f_(),new yW(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:EW.bind(null,t),To:TW.bind(null,t),Ao:SW.bind(null,t),h_:bW.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Hw(t)?Gw(t):t.N_.set("Unknown")):(await t.B_.stop(),cN(t))})),t.B_}function Fs(t){return t.k_||(t.k_=function(n,r,i){const s=Y(n);return s.f_(),new _W(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:AW.bind(null,t),Ao:xW.bind(null,t),R_:CW.bind(null,t),A_:kW.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Yl(t)):(await t.k_.stop(),t.v_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Kw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jl(t,e){if(Ct("AsyncQueue",`${e}: ${t}`),Gs(t))return new z($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Ju(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new rl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.q_=new Ye(K.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Z():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class kl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new kl(e,n,rl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class OW{constructor(){this.queries=new Hs(e=>ux(e),Ld),this.onlineState="Unknown",this.z_=new Set}}async function Qw(t,e){const n=Y(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new NW,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Jl(o,`Initialization of query '${Ra(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Xw(n)}async function Yw(t,e){const n=Y(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DW(t,e){const n=Y(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Xw(n)}function MW(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Xw(t){t.z_.forEach(e=>{e.next()})}var Tv,dR;(dR=Tv||(Tv={})).J_="default",dR.Cache="cache";class Jw{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Tv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.serializer=e}Ps(e){return ci(this.serializer,e)}Is(e){return e.metadata.exists?Dx(this.serializer,e.document,!1):nt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return kt(e)}}class VW{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pN(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=Ee.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new hR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||me()).add(s);n.set(o,a)}}return n}async complete(){const e=await dW(this.localStore,new hR(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(const r of this.queries)await hW(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function pN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.key=e}}class gN{constructor(e){this.key=e}}class yN{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=me(),this.mutatedKeys=me(),this.Ia=dx(e),this.Ta=new rl(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new cR,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=Vd(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?v!==T&&(r.track({type:3,doc:g}),S=!0):this.Ra(p,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Ia(g,l)>0||u&&this.Ia(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),S=!0):p&&!g&&(r.track({type:1,doc:p}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,h)=>function(g,v){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return T(g)-T(v)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new kl(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new cR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=me(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new gN(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new mN(r))}),n}pa(e){this.la=e.hs,this.Pa=me();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return kl.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class FW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UW{constructor(e){this.key=e,this.wa=!1}}class $W{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Hs(a=>ux(a),Ld),this.Da=new Map,this.Ca=new Set,this.va=new Ye(K.comparator),this.Fa=new Map,this.Ma=new Uw,this.xa={},this.Oa=new Map,this.Na=Ho.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function BW(t,e,n=!0){const r=Jm(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await _N(r,e,n,!0),i}async function zW(t,e){const n=Jm(t);await _N(n,e,!0,!1)}async function _N(t,e,n,r){const i=await Pl(t.localStore,kn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Zw(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Xm(t.remoteStore,i),a}async function Zw(t,e,n,r,i){t.Ba=(h,p,g)=>async function(T,S,w,y){let _=S.view.da(w);_.Xi&&(_=await Ep(T.localStore,S.query,!1).then(({documents:I})=>S.view.da(I,_)));const R=y&&y.targetChanges.get(S.targetId),x=y&&y.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(_,T.isPrimaryClient,R,x);return Sv(T,S.targetId,D.fa),D.snapshot}(t,h,p,g);const s=await Ep(t.localStore,e,!0),o=new yN(e,s.hs),a=o.da(s.documents),l=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Sv(t,n,u.fa);const d=new FW(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function jW(t,e,n){const r=Y(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Ld(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Al(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cl(r.remoteStore,i.targetId),xl(r,i.targetId)}).catch(Ws)):(xl(r,i.targetId),await Al(r.localStore,i.targetId,!0))}async function qW(t,e){const n=Y(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cl(n.remoteStore,r.targetId))}async function WW(t,e,n){const r=rI(t);try{const i=await function(o,a){const l=Y(o),u=dt.now(),d=a.reduce((g,v)=>g.add(v.key),me());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=qn(),T=me();return l.os.getEntries(g,d).next(S=>{v=S,v.forEach((w,y)=>{y.isValidDocument()||(T=T.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(S=>{h=S;const w=[];for(const y of a){const _=yq(y,h.get(y.key).overlayedDocument);_!=null&&w.push(new ji(y.key,_,ex(_.value.mapValue),ct.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,w,a)}).next(S=>{p=S;const w=S.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(g,S.batchId,w)})}).then(()=>({batchId:p.batchId,changes:fx(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Ye(fe)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await qi(r,i.changes),await Yl(r.remoteStore)}catch(i){const s=Jl(i,"Failed to persist write");n.reject(s)}}async function vN(t,e){const n=Y(t);try{const r=await uW(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?ie(o.wa):i.removedDocuments.size>0&&(ie(o.wa),o.wa=!1))}),await qi(n,r,e)}catch(r){await Ws(r)}}function fR(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Y(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.U_)p.j_(a)&&(u=!0)}),u&&Xw(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GW(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Ye(K.comparator);o=o.insert(s,nt.newNoDocument(s,se.min()));const a=me().add(s),l=new Ud(se.min(),new Map,new Ye(fe),o,a);await vN(r,l),r.va=r.va.remove(s),r.Fa.delete(e),nI(r)}else await Al(r.localStore,e,!1).then(()=>xl(r,e,n)).catch(Ws)}async function HW(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await lW(n.localStore,e);tI(n,r,null),eI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qi(n,i)}catch(i){await Ws(i)}}async function KW(t,e,n){const r=Y(t);try{const i=await function(o,a){const l=Y(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ie(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);tI(r,e,n),eI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qi(r,i)}catch(i){await Ws(i)}}async function QW(t,e){const n=Y(t);Ks(n.remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Y(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=Jl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function eI(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function tI(t,e,n){const r=Y(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function xl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||wN(t,r)})}function wN(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Cl(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),nI(t))}function Sv(t,e,n){for(const r of n)r instanceof mN?(t.Ma.addReference(r.key,e),YW(t,r)):r instanceof gN?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||wN(t,r.key)):Z()}function YW(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(j("SyncEngine","New document in limbo: "+n),t.Ca.add(r),nI(t))}function nI(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new K(Ee.fromString(e)),r=t.Na.next();t.Fa.set(r,new UW(n)),t.va=t.va.insert(n,r),Xm(t.remoteStore,new bi(kn(Gl(n.path)),r,"TargetPurposeLimboResolution",zn.oe))}}async function qi(t,e,n){const r=Y(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const d=u&&!u.fromCache;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=zw.Ki(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,u){const d=Y(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,p=>V.forEach(p.qi,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>V.forEach(p.Qi,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Gs(h))throw h;j("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.ns.get(p),v=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(v);d.ns=d.ns.insert(p,T)}}}(r.localStore,s))}async function XW(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await eN(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new z($.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qi(n,r.us)}}function JW(t,e){const n=Y(t),r=n.Fa.get(e);if(r&&r.wa)return me().add(r.key);{let i=me();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}async function ZW(t,e){const n=Y(t),r=await Ep(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&Sv(n,e.targetId,i.fa),i}async function eG(t,e){const n=Y(t);return iN(n.localStore,e).then(r=>qi(n,r))}async function tG(t,e,n,r){const i=Y(t),s=await function(a,l){const u=Y(a),d=Y(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.vn(h,l).next(p=>p?u.localDocuments.getDocuments(h,p):V.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Yl(i.remoteStore):n==="acknowledged"||n==="rejected"?(tI(i,e,r||null),eI(i,e),function(a,l){Y(Y(a).mutationQueue).Mn(l)}(i.localStore,e)):Z(),await qi(i,s)):j("SyncEngine","Cannot apply mutation batch with id: "+e)}async function nG(t,e){const n=Y(t);if(Jm(n),rI(n),e===!0&&n.La!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await pR(n,r.toArray());n.La=!0,await Ev(n.remoteStore,!0);for(const s of i)Xm(n.remoteStore,s)}else if(e===!1&&n.La!==!1){const r=[];let i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(xl(n,o),Al(n.localStore,o,!0))),Cl(n.remoteStore,o)}),await i,await pR(n,r),function(o){const a=Y(o);a.Fa.forEach((l,u)=>{Cl(a.remoteStore,u)}),a.Ma.mr(),a.Fa=new Map,a.va=new Ye(K.comparator)}(n),n.La=!1,await Ev(n.remoteStore,!1)}}async function pR(t,e,n){const r=Y(t),i=[],s=[];for(const o of e){let a;const l=r.Da.get(o);if(l&&l.length!==0){a=await Pl(r.localStore,kn(l[0]));for(const u of l){const d=r.ba.get(u),h=await ZW(r,d);h.snapshot&&s.push(h.snapshot)}}else{const u=await rN(r.localStore,o);a=await Pl(r.localStore,u),await Zw(r,IN(u),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i}function IN(t){return lx(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function rG(t){return function(n){return Y(Y(n).persistence).Bi()}(Y(t).localStore)}async function iG(t,e,n,r){const i=Y(t);if(i.La)return void j("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await iN(i.localStore,cx(s[0])),a=Ud.createSynthesizedRemoteEventForCurrentChange(e,n==="current",zt.EMPTY_BYTE_STRING);await qi(i,o,a);break}case"rejected":await Al(i.localStore,e,!0),xl(i,e,r);break;default:Z()}}async function sG(t,e,n){const r=Jm(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){j("SyncEngine","Adding an already active target "+i);continue}const s=await rN(r.localStore,i),o=await Pl(r.localStore,s);await Zw(r,IN(s),o.targetId,!1,o.resumeToken),Xm(r.remoteStore,o)}for(const i of n)r.Da.has(i)&&await Al(r.localStore,i,!1).then(()=>{Cl(r.remoteStore,i),xl(r,i)}).catch(Ws)}}function Jm(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GW.bind(null,e),e.Sa.h_=DW.bind(null,e.eventManager),e.Sa.ka=MW.bind(null,e.eventManager),e}function rI(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KW.bind(null,e),e}function oG(t,e,n){const r=Y(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(g,v){const T=Y(g),S=kt(v.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",w=>T.$r.getBundleMetadata(w,v.id)).then(w=>!!w&&w.createTime.compareTo(S)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(pN(l));const u=new VW(l,s.localStore,o.serializer);let d=await o.qa();for(;d;){const p=await u._a(d);p&&a._updateProgress(p),d=await o.qa()}const h=await u.complete();return await qi(s,h.ca,void 0),await function(g,v){const T=Y(g);return T.persistence.runTransaction("Save bundle","readwrite",S=>T.$r.saveBundleMetadata(S,v))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.ua)}catch(l){return jr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class bv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Zx(this.persistence,new Jx,e.initialUser,this.serializer)}createPersistence(e){return new Xx(Ym.Hr,this.serializer)}createSharedClientState(e){return new oN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class EN extends bv{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await rI(this.Qa.syncEngine),await Yl(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return Zx(this.persistence,new Jx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Wq(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new A9(n,this.persistence);return new P9(e.asyncQueue,r)}createPersistence(e){const n=Bw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new $w(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,aN(),Sf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new oN}}class aG extends EN{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Qa.syncEngine;this.sharedClientState instanceof Vy&&(this.sharedClientState.syncEngine={Zs:tG.bind(null,n),Xs:iG.bind(null,n),eo:sG.bind(null,n),Bi:rG.bind(null,n),Ys:eG.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await nG(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=aN();if(!Vy.D(n))throw new z($.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Bw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Vy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class iI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XW.bind(null,this.syncEngine),await Ev(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OW}()}createDatastore(e){const n=Bd(e.databaseInfo.databaseId),r=function(s){return new gW(s)}(e.databaseInfo);return function(s,o,a,l){return new vW(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new IW(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>fR(this.syncEngine,n,0),function(){return lR.D()?new lR:new fW}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new $W(i,s,o,a,l,u);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Y(r);j("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Ql(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ct("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Kt,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(e===null)return null;const n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);const i=await this.Ha(r);return new LW(JSON.parse(i),e.length+r)}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(this.buffer.length===0)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new z($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Y(i),a={documents:s.map(h=>od(o.serializer,h))},l=await o.xo("BatchGetDocuments",o.serializer.databaseId,Ee.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const p=Rq(o.serializer,h);u.set(p.key.toString(),p)});const d=[];return s.forEach(h=>{const p=u.get(h.toString());ie(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=K.fromPath(r);this.mutations.push(new kw(i,this.precondition(i)))}),await async function(r,i){const s=Y(r),o={writes:i.map(a=>ad(s.serializer,a))};await s.Co("Commit",s.serializer.databaseId,Ee.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Z();n=se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new z($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(se.min())?ct.exists(!1):ct.updateTime(n):ct.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(se.min()))throw new z($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(n)}return ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new qw(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(async()=>{const e=new uG(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!Dd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Sx(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=Fk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bf(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Rv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sI(t);j("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uR(e.remoteStore,i)),t._onlineComponents=e}function TN(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!TN(n))throw n;jr("Error using user provided cache. Falling back to memory cache: "+n),await bf(t,new bv)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await bf(t,new bv);return t._offlineComponents}async function eg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await Rv(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await Rv(t,new iI))),t._onlineComponents}function SN(t){return sI(t).then(e=>e.persistence)}function oI(t){return sI(t).then(e=>e.localStore)}function bN(t){return eg(t).then(e=>e.remoteStore)}function aI(t){return eg(t).then(e=>e.syncEngine)}function hG(t){return eg(t).then(e=>e.datastore)}async function Nl(t){const e=await eg(t),n=e.eventManager;return n.onListen=BW.bind(null,e.syncEngine),n.onUnlisten=jW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qW.bind(null,e.syncEngine),n}function fG(t){return t.asyncQueue.enqueue(async()=>{const e=await SN(t),n=await bN(t);return e.setNetworkEnabled(!0),function(i){const s=Y(i);return s.M_.delete(0),zd(s)}(n)})}function pG(t){return t.asyncQueue.enqueue(async()=>{const e=await SN(t),n=await bN(t);return e.setNetworkEnabled(!1),async function(i){const s=Y(i);s.M_.add(0),await Ql(s),s.N_.set("Offline")}(n)})}function mG(t,e){const n=new Kt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,d){const h=Y(u);return h.persistence.runTransaction("read document","readonly",p=>h.localDocuments.getDocument(p,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new z($.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Jl(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await oI(t),e,n)),n.promise}function RN(t,e,n={}){const r=new Kt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Zm({next:p=>{o.enqueueAndForget(()=>Yw(s,h));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new z($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new z($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Jw(Gl(a.path),d,{includeMetadataChanges:!0,ra:!0});return Qw(s,h)}(await Nl(t),t.asyncQueue,e,n,r)),r.promise}function gG(t,e){const n=new Kt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Ep(i,s,!0),l=new yN(s,a.hs),u=l.da(a.documents),d=l.applyChanges(u,!1);o.resolve(d.snapshot)}catch(a){const l=Jl(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await oI(t),e,n)),n.promise}function PN(t,e,n={}){const r=new Kt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Zm({next:p=>{o.enqueueAndForget(()=>Yw(s,h)),p.fromCache&&l.source==="server"?u.reject(new z($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new Jw(a,d,{includeMetadataChanges:!0,ra:!0});return Qw(s,h)}(await Nl(t),t.asyncQueue,e,n,r)),r.promise}function yG(t,e){const n=new Zm(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){Y(i).z_.add(s),s.next()}(await Nl(t),n)),()=>{n.$a(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){Y(i).z_.delete(s)}(await Nl(t),n))}}function _G(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?Rx().encode(o):o,function(d,h){return new lG(d,h)}(function(d,h){if(d instanceof Uint8Array)return mR(d,h);if(d instanceof ArrayBuffer)return mR(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Bd(e));t.asyncQueue.enqueueAndForget(async()=>{oG(await aI(t),i,r)})}function vG(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=Y(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await oI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e,n){if(!n)throw new z($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CN(t,e,n,r){if(e===!0&&r===!0)throw new z($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yR(t){if(!K.isDocumentKey(t))throw new z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _R(t){if(K.isDocumentKey(t))throw new z($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tg(t);throw new z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function kN(t,e){if(e<=0)throw new z($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new g9;switch(r.type){case"firstParty":return new w9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gR.get(n);r&&(j("ComponentProvider","Removing Datastore"),gR.delete(n),r.terminate())}(this),Promise.resolve()}}function wG(t,e,n,r={}){var i;const s=(t=Ce(t,jd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Wt.MOCK_USER;else{a=YA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wt(u)}t._authCredentials=new y9(new Vk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nn=class xN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xN(this.firestore,e,this._query)}},mt=class NN{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new NN(this.firestore,e,this._key)}},Ps=class ON extends Nn{constructor(e,n,r){super(e,n,Gl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new K(e))}withConverter(e){return new ON(this.firestore,e,this._path)}};function DN(t,e,...n){if(t=re(t),lI("collection","path",e),t instanceof jd){const r=Ee.fromString(e,...n);return _R(r),new Ps(t,null,r)}{if(!(t instanceof mt||t instanceof Ps))throw new z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return _R(r),new Ps(t.firestore,null,r)}}function IG(t,e){if(t=Ce(t,jd),lI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new z($.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Nn(t,null,function(r){return new zi(Ee.emptyPath(),r)}(e))}function Rp(t,e,...n){if(t=re(t),arguments.length===1&&(e=Fk.newId()),lI("doc","path",e),t instanceof jd){const r=Ee.fromString(e,...n);return yR(r),new mt(t,null,new K(r))}{if(!(t instanceof mt||t instanceof Ps))throw new z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return yR(r),new mt(t.firestore,t instanceof Ps?t.converter:null,new K(r))}}function MN(t,e){return t=re(t),e=re(e),(t instanceof mt||t instanceof Ps)&&(e instanceof mt||e instanceof Ps)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function uI(t,e){return t=re(t),e=re(e),t instanceof Nn&&e instanceof Nn&&t.firestore===e.firestore&&Ld(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new qw(this,"async_queue_retry"),this.hu=()=>{const n=Sf();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Sf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Kt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Gs(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ct("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Kw.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Z()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function Pv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class TG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=-1;let St=class extends jd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new EG}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||LN(this),this._firestoreClient.terminate()}};function Jt(t){return t._firestoreClient||LN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new Q9(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AN(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new dG(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function bG(t,e){FN(t=Ce(t,St));const n=Jt(t);if(n._uninitializedComponentsProvider)throw new z($.FAILED_PRECONDITION,"SDK cache is already specified.");jr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new iI;return VN(n,i,new EN(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function RG(t){FN(t=Ce(t,St));const e=Jt(t);if(e._uninitializedComponentsProvider)throw new z($.FAILED_PRECONDITION,"SDK cache is already specified.");jr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new iI;return VN(e,r,new aG(r,n.cacheSizeBytes))}function VN(t,e,n){const r=new Kt;return t.asyncQueue.enqueue(async()=>{try{await bf(t,n),await Rv(t,e),r.resolve()}catch(i){const s=i;if(!TN(s))throw s;jr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function PG(t){if(t._initialized&&!t._terminated)throw new z($.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ui.D())return Promise.resolve();const i=r+"main";await ui.delete(i)}(Bw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function AG(t){return function(n){const r=new Kt;return n.asyncQueue.enqueueAndForget(async()=>QW(await aI(n),r)),r.promise}(Jt(t=Ce(t,St)))}function CG(t){return fG(Jt(t=Ce(t,St)))}function kG(t){return pG(Jt(t=Ce(t,St)))}function xG(t,e){const n=Jt(t=Ce(t,St)),r=new TG;return _G(n,t._databaseId,e,r),r}function NG(t,e){return vG(Jt(t=Ce(t,St)),e).then(n=>n?new Nn(t,null,n.query):null)}function FN(t){if(t._initialized||t._terminated)throw new z($.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(zt.fromBase64String(e))}catch(n){throw new z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=/^__.*__$/;class DG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(e,this.data,n,this.fieldTransforms)}}class UN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $N(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class rg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Pp(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if($N(this.fu)&&OG.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class MG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bd(e)}Fu(e,n,r,i=!1){return new rg({fu:e,methodName:n,vu:r,path:ut.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ra(t){const e=t._freezeSettings(),n=Bd(t._databaseId);return new MG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ig(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);gI("Data must be an object, but it was:",o,r);const a=jN(r,o);let l,u;if(s.merge)l=new jn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=Av(e,h,n);if(!o.contains(p))throw new z($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);WN(d,p)||d.push(p)}l=new jn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new DG(new sn(a),l,u)}class qd extends na{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qd}}function BN(t,e,n){return new rg({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cI extends na{_toFieldTransform(e){return new Fd(e.path,new Sl)}isEqual(e){return e instanceof cI}}class dI extends na{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=BN(this,e,!0),r=this.Mu.map(s=>ia(s,n)),i=new jo(r);return new Fd(e.path,i)}isEqual(e){return e instanceof dI&&Kc(this.Mu,e.Mu)}}class hI extends na{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=BN(this,e,!0),r=this.Mu.map(s=>ia(s,n)),i=new qo(r);return new Fd(e.path,i)}isEqual(e){return e instanceof hI&&Kc(this.Mu,e.Mu)}}class fI extends na{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new bl(e.serializer,yx(e.serializer,this.xu));return new Fd(e.path,n)}isEqual(e){return e instanceof fI&&this.xu===e.xu}}function pI(t,e,n,r){const i=t.Fu(1,e,n);gI("Data must be an object, but it was:",i,r);const s=[],o=sn.empty();ta(r,(l,u)=>{const d=yI(e,l,n);u=re(u);const h=i.Su(d);if(u instanceof qd)s.push(d);else{const p=ia(u,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new jn(s);return new UN(o,a,i.fieldTransforms)}function mI(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Av(e,r,n)],l=[i];if(s.length%2!=0)throw new z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Av(e,s[p])),l.push(s[p+1]);const u=[],d=sn.empty();for(let p=a.length-1;p>=0;--p)if(!WN(u,a[p])){const g=a[p];let v=l[p];v=re(v);const T=o.Su(g);if(v instanceof qd)u.push(g);else{const S=ia(v,T);S!=null&&(u.push(g),d.set(g,S))}}const h=new jn(u);return new UN(d,h,o.fieldTransforms)}function zN(t,e,n,r=!1){return ia(n,t.Fu(r?4:3,e))}function ia(t,e){if(qN(t=re(t)))return gI("Unsupported field value:",e,t),jN(t,e);if(t instanceof na)return function(r,i){if(!$N(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ia(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=dt.fromDate(r);return{timestampValue:Rl(i.serializer,s)}}if(r instanceof dt){const s=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rl(i.serializer,s)}}if(r instanceof ng)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fi)return{bytesValue:Cx(i.serializer,r._byteString)};if(r instanceof mt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${tg(r)}`)}(t,e)}function jN(t,e){const n={};return Xk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,(r,i)=>{const s=ia(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof ng||t instanceof fi||t instanceof mt||t instanceof na)}function gI(t,e,n){if(!qN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=tg(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Av(t,e,n){if((e=re(e))instanceof Us)return e._internalPath;if(typeof e=="string")return yI(t,e);throw Pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const LG=new RegExp("[~\\*/\\[\\]]");function yI(t,e,n){if(e.search(LG)>=0)throw Pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Us(...e.split("."))._internalPath}catch{throw Pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new z($.INVALID_ARGUMENT,a+t+l)}function WN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VG extends ld{data(){return super.data()}}function sg(t,e){return typeof e=="string"?yI(t,e):e instanceof Us?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _I{}class Wd extends _I{}function is(t,e,...n){let r=[];e instanceof _I&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof vI).length,a=s.filter(l=>l instanceof og).length;if(o>1||o>0&&a>0)throw new z($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class og extends Wd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new og(e,n,r)}_apply(e){const n=this._parse(e);return KN(e._query,n),new Nn(e.firestore,e.converter,fv(e._query,n))}_parse(e){const n=ra(e.firestore);return function(s,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new z($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){IR(h,d);const g=[];for(const v of h)g.push(wR(l,s,v));p={arrayValue:{values:g}}}else p=wR(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||IR(h,d),p=zN(a,o,h,d==="in"||d==="not-in");return Te.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FG(t,e,n){const r=e,i=sg("where",t);return og._create(i,r,n)}class vI extends _I{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Le.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)KN(o,l),o=fv(o,l)}(e._query,n),new Nn(e.firestore,e.converter,fv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wI extends Wd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new z($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sd(s,o)}(e._query,this._field,this._direction);return new Nn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new zi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function UG(t,e="asc"){const n=e,r=sg("orderBy",t);return wI._create(r,n)}class ag extends Wd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ag(e,n,r)}_apply(e){return new Nn(e.firestore,e.converter,_p(e._query,this._limit,this._limitType))}}function $G(t){return kN("limit",t),ag._create("limit",t,"F")}function BG(t){return kN("limitToLast",t),ag._create("limitToLast",t,"L")}class lg extends Wd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lg(e,n,r)}_apply(e){const n=HN(e,this.type,this._docOrFields,this._inclusive);return new Nn(e.firestore,e.converter,function(i,s){return new zi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function zG(...t){return lg._create("startAt",t,!0)}function jG(...t){return lg._create("startAfter",t,!1)}class ug extends Wd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ug(e,n,r)}_apply(e){const n=HN(e,this.type,this._docOrFields,this._inclusive);return new Nn(e.firestore,e.converter,function(i,s){return new zi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function qG(...t){return ug._create("endBefore",t,!1)}function WG(...t){return ug._create("endAt",t,!0)}function HN(t,e,n,r){if(n[0]=re(n[0]),n[0]instanceof ld)return function(s,o,a,l,u){if(!l)throw new z($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of nl(s))if(h.field.isKeyField())d.push(Bo(o,l.key));else{const p=l.data.field(h.field);if(Wm(p))throw new z($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const g=h.field.canonicalString();throw new z($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(p)}return new Vs(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ra(t.firestore);return function(o,a,l,u,d,h){const p=o.explicitOrderBy;if(d.length>p.length)throw new z($.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let v=0;v<d.length;v++){const T=d[v];if(p[v].field.isKeyField()){if(typeof T!="string")throw new z($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof T}`);if(!Aw(o)&&T.indexOf("/")!==-1)throw new z($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${T}' contains a slash.`);const S=o.path.child(Ee.fromString(T));if(!K.isDocumentKey(S))throw new z($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const w=new K(S);g.push(Bo(a,w))}else{const S=zN(l,u,T);g.push(S)}}return new Vs(g,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function wR(t,e,n){if(typeof(n=re(n))=="string"){if(n==="")throw new z($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Aw(e)&&n.indexOf("/")!==-1)throw new z($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!K.isDocumentKey(r))throw new z($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bo(t,new K(r))}if(n instanceof mt)return Bo(t,n._key);throw new z($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(n)}.`)}function IR(t,e){if(!Array.isArray(t)||t.length===0)throw new z($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KN(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class II{convertValue(e,n="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ta(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ng(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nd(e));default:return null}}convertTimestamp(e){const n=Li(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);ie($x(r));const i=new Ms(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||Ct(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class GG extends II{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Vi=class extends ld{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ec=class extends Vi{data(e={}){return super.data(e)}},$s=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ec(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:HG(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function HG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function QN(t,e){return t instanceof Vi&&e instanceof Vi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof $s&&e instanceof $s&&t._firestore===e._firestore&&uI(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG(t){t=Ce(t,mt);const e=Ce(t.firestore,St);return RN(Jt(e),t._key).then(n=>EI(e,t,n))}class sa extends II{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function QG(t){t=Ce(t,mt);const e=Ce(t.firestore,St),n=Jt(e),r=new sa(e);return mG(n,t._key).then(i=>new Vi(e,r,t._key,i,new Eo(i!==null&&i.hasLocalMutations,!0),t.converter))}function YG(t){t=Ce(t,mt);const e=Ce(t.firestore,St);return RN(Jt(e),t._key,{source:"server"}).then(n=>EI(e,t,n))}function XG(t){t=Ce(t,Nn);const e=Ce(t.firestore,St),n=Jt(e),r=new sa(e);return GN(t._query),PN(n,t._query).then(i=>new $s(e,r,t,i))}function JG(t){t=Ce(t,Nn);const e=Ce(t.firestore,St),n=Jt(e),r=new sa(e);return gG(n,t._query).then(i=>new $s(e,r,t,i))}function ZG(t){t=Ce(t,Nn);const e=Ce(t.firestore,St),n=Jt(e),r=new sa(e);return PN(n,t._query,{source:"server"}).then(i=>new $s(e,r,t,i))}function ER(t,e,n){t=Ce(t,mt);const r=Ce(t.firestore,St),i=cg(t.converter,e,n);return Gd(r,[ig(ra(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ct.none())])}function TR(t,e,n,...r){t=Ce(t,mt);const i=Ce(t.firestore,St),s=ra(i);let o;return o=typeof(e=re(e))=="string"||e instanceof Us?mI(s,"updateDoc",t._key,e,n,r):pI(s,"updateDoc",t._key,e),Gd(i,[o.toMutation(t._key,ct.exists(!0))])}function eH(t){return Gd(Ce(t.firestore,St),[new Kl(t._key,ct.none())])}function tH(t,e){const n=Ce(t.firestore,St),r=Rp(t),i=cg(t.converter,e);return Gd(n,[ig(ra(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ct.exists(!1))]).then(()=>r)}function Ap(t,...e){var n,r,i;t=re(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Pv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Pv(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof mt)u=Ce(t.firestore,St),d=Gl(t._key.path),l={next:h=>{e[o]&&e[o](EI(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Ce(t,Nn);u=Ce(h.firestore,St),d=h._query;const p=new sa(u);l={next:g=>{e[o]&&e[o](new $s(u,p,h,g))},error:e[o+1],complete:e[o+2]},GN(t._query)}return function(p,g,v,T){const S=new Zm(T),w=new Jw(g,S,v);return p.asyncQueue.enqueueAndForget(async()=>Qw(await Nl(p),w)),()=>{S.$a(),p.asyncQueue.enqueueAndForget(async()=>Yw(await Nl(p),w))}}(Jt(u),d,a,l)}function nH(t,e){return yG(Jt(t=Ce(t,St)),Pv(e)?e:{next:e})}function Gd(t,e){return function(r,i){const s=new Kt;return r.asyncQueue.enqueueAndForget(async()=>WW(await aI(r),i,s)),s.promise}(Jt(t),e)}function EI(t,e,n){const r=n.docs.get(e._key),i=new sa(t);return new Vi(t,i,e._key,r,new Eo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iH=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ra(e)}set(e,n,r){this._verifyNotCommitted();const i=ds(e,this._firestore),s=cg(i.converter,n,r),o=ig(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ct.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ds(e,this._firestore);let o;return o=typeof(n=re(n))=="string"||n instanceof Us?mI(this._dataReader,"WriteBatch.update",s._key,n,r,i):pI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ds(e,this._firestore);return this._mutations=this._mutations.concat(new Kl(n._key,ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ds(t,e){if((t=re(t)).firestore!==e)throw new z($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sH=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ra(n)}get(n){const r=ds(n,this._firestore),i=new GG(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Z();const o=s[0];if(o.isFoundDocument())return new ld(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new ld(this._firestore,i,r._key,null,r.converter);throw Z()})}set(n,r,i){const s=ds(n,this._firestore),o=cg(s.converter,r,i),a=ig(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ds(n,this._firestore);let a;return a=typeof(r=re(r))=="string"||r instanceof Us?mI(this._dataReader,"Transaction.update",o._key,r,i,s):pI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ds(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ds(e,this._firestore),r=new sa(this._firestore);return super.get(e).then(i=>new Vi(this._firestore,r,n._key,i._document,new Eo(!1,!1),n.converter))}};function oH(t,e,n){t=Ce(t,St);const r=Object.assign(Object.assign({},rH),n);return function(s){if(s.maxAttempts<1)throw new z($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Kt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await hG(s);new cG(s.asyncQueue,u,a,o,l).Xa()}),l.promise}(Jt(t),i=>e(new sH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(){return new qd("deleteField")}function lH(){return new cI("serverTimestamp")}function uH(...t){return new dI("arrayUnion",t)}function cH(...t){return new hI("arrayRemove",t)}function dH(t){return new fI("increment",t)}(function(e,n=!0){(function(i){Wl=i})(Cr),zr(new Qn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new St(new _9(r.getProvider("auth-internal")),new E9(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ms(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),An(gb,"4.6.3",e),An(gb,"4.6.3","esm2017")})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ga=function(){return Ga=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ga.apply(this,arguments)},YN=function(t){return{loading:t==null,value:t}},hH=function(){return function(t,e){switch(e.type){case"error":return Ga(Ga({},t),{error:e.error,loading:!1,value:void 0});case"reset":return YN(e.defaultValue);case"value":return Ga(Ga({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},fH=function(t){var e=t?t():void 0,n=A.useReducer(hH(),YN(e)),r=n[0],i=n[1],s=A.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=A.useCallback(function(l){i({type:"error",error:l})},[]),a=A.useCallback(function(l){i({type:"value",value:l})},[]);return A.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},pH=function(t,e,n){var r=A.useRef(t);return A.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},mH=function(t,e){var n=!t&&!e,r=!!t&&!!e&&uI(t,e);return n||r},gH=function(t,e){return pH(t,mH,e)},yH=function(t,e){var n=fH(),r=n.error,i=n.loading,s=n.reset,o=n.setError,a=n.setValue,l=n.value,u=gH(t,s);return A.useEffect(function(){if(!u.current){a(void 0);return}var d=e!=null&&e.snapshotListenOptions?Ap(u.current,e.snapshotListenOptions,a,o):Ap(u.current,a,o);return function(){d()}},[u.current]),[l,i,r]},_H=function(t,e){var n=yH(t,e),r=n[0],i=n[1],s=n[2],o=vH(r,e==null?void 0:e.snapshotOptions,e==null?void 0:e.initialValue);return[o,i,s,r]},vH=function(t,e,n){return A.useMemo(function(){var r;return(r=t==null?void 0:t.docs.map(function(i){return i.data(e)}))!==null&&r!==void 0?r:n},[t,e])};const XN=()=>F.jsx(vw,{children:F.jsx(Rs,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:F.jsx(Rs,{container:!0,alignItems:"center",direction:"column",children:F.jsx("div",{className:"lds-hourglass"})})})}),wH=()=>{const{auth:t,firestore:e}=A.useContext(au),[n]=jm(t),[r,i]=A.useState(""),[s,o]=_H(e.collection("messages").orderBy("createdAt")),a=async()=>{e.collection("messages").add({uid:n.uid,displayName:n.displayName,photoURL:n.photoURL,text:r,createdAt:gi.firestore.FieldValue.serverTimestamp()}),i("")};return o?F.jsx(XN,{}):F.jsx(vw,{children:F.jsxs(Rs,{container:!0,justify:"center",style:{height:window.innerHeight-50,marginTop:20},children:[F.jsx("div",{style:{width:"80%",height:"60vh",border:"1px solid gray",overflowY:"auto"},children:s.map(l=>F.jsxs("div",{style:{margin:10,border:n.uid===l.uid?"2px solid green":"2px dashed red",marginLeft:n.uid===l.uid?"auto":"10px",width:"fit-content",padding:5},children:[F.jsxs(Rs,{container:!0,children:[F.jsx(Sj,{src:l.photoURL}),F.jsx("div",{children:l.displayName})]}),F.jsx("div",{children:l.text})]}))}),F.jsxs(Rs,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[F.jsx(R6,{fullWidth:!0,rowsMax:2,variant:"outlined",value:r,onChange:l=>i(l.target.value)}),F.jsx(dp,{onClick:a,variant:"outlined",children:"Send"})]})]})})};/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(this,arguments)}var ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ms||(ms={}));const SR="popstate";function IH(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Cv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cp(i)}return TH(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EH(){return Math.random().toString(36).substr(2,8)}function bR(t,e){return{usr:t.state,key:t.key,idx:e}}function Cv(t,e,n,r){return n===void 0&&(n=null),ud({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zl(e):e,{state:n,key:e&&e.key||r||EH()})}function Cp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function TH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ms.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ud({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ms.Pop;let S=d(),w=S==null?null:S-u;u=S,l&&l({action:a,location:T.location,delta:w})}function p(S,w){a=ms.Push;let y=Cv(T.location,S,w);n&&n(y,S),u=d()+1;let _=bR(y,u),R=T.createHref(y);try{o.pushState(_,"",R)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(R)}s&&l&&l({action:a,location:T.location,delta:1})}function g(S,w){a=ms.Replace;let y=Cv(T.location,S,w);n&&n(y,S),u=d();let _=bR(y,u),R=T.createHref(y);o.replaceState(_,"",R),s&&l&&l({action:a,location:T.location,delta:0})}function v(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof S=="string"?S:Cp(S);return y=y.replace(/ $/,"%20"),gt(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let T={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SR,h),l=S,()=>{i.removeEventListener(SR,h),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let w=v(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(S){return o.go(S)}};return T}var RR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(RR||(RR={}));function SH(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Zl(e):e,i=Ol(r.pathname||"/",n);if(i==null)return null;let s=ZN(t);bH(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=LH(i);o=DH(s[a],l)}return o}function ZN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=As([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZN(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:NH(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of eO(s.path))i(s,o,l)}),e}function eO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RH=/^:[\w-]+$/,PH=3,AH=2,CH=1,kH=10,xH=-2,PR=t=>t==="*";function NH(t,e){let n=t.split("/"),r=n.length;return n.some(PR)&&(r+=xH),e&&(r+=AH),n.filter(i=>!PR(i)).reduce((i,s)=>i+(RH.test(s)?PH:s===""?CH:kH),r)}function OH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DH(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=kv({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:As([i,d.pathname]),pathnameBase:$H(As([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=As([i,d.pathnameBase]))}return s}function kv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let T=a[h]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const v=a[h];return g&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function MH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),JN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ol(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zl(t):t;return{pathname:n?n.startsWith("/")?n:FH(n,e):e,search:BH(r),hash:zH(i)}}function FH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Uy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TI(t,e){let n=UH(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function SI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zl(t):(i=ud({},t),gt(!i.pathname||!i.pathname.includes("?"),Uy("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),Uy("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),Uy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=VH(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const As=t=>t.join("/").replace(/\/\/+/g,"/"),$H=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tO=["post","put","patch","delete"];new Set(tO);const qH=["get",...tO];new Set(qH);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}const dg=A.createContext(null),nO=A.createContext(null),Wi=A.createContext(null),hg=A.createContext(null),Qs=A.createContext({outlet:null,matches:[],isDataRoute:!1}),rO=A.createContext(null);function WH(t,e){let{relative:n}=e===void 0?{}:e;eu()||gt(!1);let{basename:r,navigator:i}=A.useContext(Wi),{hash:s,pathname:o,search:a}=fg(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:As([r,o])),i.createHref({pathname:l,search:a,hash:s})}function eu(){return A.useContext(hg)!=null}function tu(){return eu()||gt(!1),A.useContext(hg).location}function iO(t){A.useContext(Wi).static||A.useLayoutEffect(t)}function sO(){let{isDataRoute:t}=A.useContext(Qs);return t?iK():GH()}function GH(){eu()||gt(!1);let t=A.useContext(dg),{basename:e,future:n,navigator:r}=A.useContext(Wi),{matches:i}=A.useContext(Qs),{pathname:s}=tu(),o=JSON.stringify(TI(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return iO(()=>{a.current=!0}),A.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=SI(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:As([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function fg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Wi),{matches:i}=A.useContext(Qs),{pathname:s}=tu(),o=JSON.stringify(TI(i,r.v7_relativeSplatPath));return A.useMemo(()=>SI(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function HH(t,e){return KH(t,e)}function KH(t,e,n,r){eu()||gt(!1);let{navigator:i}=A.useContext(Wi),{matches:s}=A.useContext(Qs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=tu(),d;if(e){var h;let S=typeof e=="string"?Zl(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||gt(!1),d=S}else d=u;let p=d.pathname||"/",g=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=SH(t,{pathname:g}),T=ZH(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:As([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:As([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&T?A.createElement(hg.Provider,{value:{location:cd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ms.Pop}},T):T}function QH(){let t=rK(),e=jH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,s)}const YH=A.createElement(QH,null);class XH extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Qs.Provider,{value:this.props.routeContext},A.createElement(rO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JH(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(dg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Qs.Provider,{value:e},r)}function ZH(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||gt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,v=!1,T=null,S=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||YH,l&&(u<0&&p===0?(sK("route-fallback",!1),v=!0,S=null):u===p&&(v=!0,S=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),y=()=>{let _;return g?_=T:v?_=S:h.route.Component?_=A.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,A.createElement(JH,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?A.createElement(XH,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var oO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oO||{}),kp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kp||{});function eK(t){let e=A.useContext(dg);return e||gt(!1),e}function tK(t){let e=A.useContext(nO);return e||gt(!1),e}function nK(t){let e=A.useContext(Qs);return e||gt(!1),e}function aO(t){let e=nK(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function rK(){var t;let e=A.useContext(rO),n=tK(kp.UseRouteError),r=aO(kp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function iK(){let{router:t}=eK(oO.UseNavigateStable),e=aO(kp.UseNavigateStable),n=A.useRef(!1);return iO(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cd({fromRouteId:e},s)))},[t,e])}const AR={};function sK(t,e,n){!e&&!AR[t]&&(AR[t]=!0)}function CR(t){let{to:e,replace:n,state:r,relative:i}=t;eu()||gt(!1);let{future:s,static:o}=A.useContext(Wi),{matches:a}=A.useContext(Qs),{pathname:l}=tu(),u=sO(),d=SI(e,TI(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return A.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function tc(t){gt(!1)}function oK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ms.Pop,navigator:s,static:o=!1,future:a}=t;eu()&&gt(!1);let l=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:s,static:o,future:cd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Zl(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:v="default"}=r,T=A.useMemo(()=>{let S=Ol(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:v},navigationType:i}},[l,d,h,p,g,v,i]);return T==null?null:A.createElement(Wi.Provider,{value:u},A.createElement(hg.Provider,{children:n,value:T}))}function kR(t){let{children:e,location:n}=t;return HH(xv(e),n)}new Promise(()=>{});function xv(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,xv(r.props.children,s));return}r.type!==tc&&gt(!1),!r.props.index||!r.props.children||gt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function lO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lK(t,e){return t.button===0&&(!e||e==="_self")&&!aK(t)}const uK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],cK=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],dK="6";try{window.__reactRouterVersion=dK}catch{}const hK=A.createContext({isTransitioning:!1}),fK="startTransition",xR=kf[fK];function pK(t){let{basename:e,children:n,future:r,window:i}=t,s=A.useRef();s.current==null&&(s.current=IH({window:i,v5Compat:!0}));let o=s.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=A.useCallback(h=>{u&&xR?xR(()=>l(h)):l(h)},[l,u]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.createElement(oK,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const mK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yK=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,p=lO(e,uK),{basename:g}=A.useContext(Wi),v,T=!1;if(typeof u=="string"&&gK.test(u)&&(v=u,mK))try{let _=new URL(window.location.href),R=u.startsWith("//")?new URL(_.protocol+u):new URL(u),x=Ol(R.pathname,g);R.origin===_.origin&&x!=null?u=x+R.search+R.hash:T=!0}catch{}let S=WH(u,{relative:i}),w=vK(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function y(_){r&&r(_),_.defaultPrevented||w(_)}return A.createElement("a",xp({},p,{href:v||S,onClick:T||s?r:y,ref:n,target:l}))}),NR=A.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:d}=e,h=lO(e,cK),p=fg(l,{relative:h.relative}),g=tu(),v=A.useContext(nO),{navigator:T,basename:S}=A.useContext(Wi),w=v!=null&&wK(p)&&u===!0,y=T.encodeLocation?T.encodeLocation(p).pathname:p.pathname,_=g.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(_=_.toLowerCase(),R=R?R.toLowerCase():null,y=y.toLowerCase()),R&&S&&(R=Ol(R,S)||R);const x=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let D=_===y||!o&&_.startsWith(y)&&_.charAt(x)==="/",I=R!=null&&(R===y||!o&&R.startsWith(y)&&R.charAt(y.length)==="/"),E={isActive:D,isPending:I,isTransitioning:w},P=D?r:void 0,C;typeof s=="function"?C=s(E):C=[s,D?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(E):a;return A.createElement(yK,xp({},h,{"aria-current":P,className:C,ref:n,style:N,to:l,unstable_viewTransition:u}),typeof d=="function"?d(E):d)});var Nv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Nv||(Nv={}));var OR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OR||(OR={}));function _K(t){let e=A.useContext(dg);return e||gt(!1),e}function vK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=sO(),u=tu(),d=fg(t,{relative:o});return A.useCallback(h=>{if(lK(h,n)){h.preventDefault();let p=r!==void 0?r:Cp(u)===Cp(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function wK(t,e){e===void 0&&(e={});let n=A.useContext(hK);n==null&&gt(!1);let{basename:r}=_K(Nv.useViewTransitionState),i=fg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ol(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ol(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kv(i.pathname,o)!=null||kv(i.pathname,s)!=null}const bI="/login",uO="/chat",cO="",IK="",EK="",TK="",SK="",bK="",RK="";console.log("apiKey",cO);const PK=()=>{const{auth:t}=A.useContext(au),[e]=jm(t);return F.jsx(tk,{sx:{flexGrow:1},children:F.jsx(Cz,{position:"static",color:"secondary",children:F.jsx(v6,{variant:"dense",children:F.jsx(Rs,{container:!0,justifyContent:"flex-end",children:e?F.jsx(NR,{children:F.jsx(dp,{onClick:()=>t.signOut(),variant:"outlined",children:"Logout"})}):F.jsx(NR,{to:bI,children:F.jsx(dp,{variant:"outlined",children:"Login"})})})})})})},AK=[{path:bI,Component:P6}],CK=[{path:uO,Component:wH}],kK=()=>{const{auth:t}=A.useContext(au),[e]=jm(t);return e?F.jsxs(kR,{children:[CK.map(({path:n,Component:r})=>F.jsx(tc,{path:n,element:F.jsx(r,{})},n)),F.jsx(tc,{path:"*",element:F.jsx(CR,{to:uO,replace:!0})})]}):F.jsxs(kR,{children:[AK.map(({path:n,Component:r})=>F.jsx(tc,{path:n,element:F.jsx(r,{})},n)),F.jsx(tc,{path:"*",element:F.jsx(CR,{to:bI,replace:!0})})]})};function xK(){const{auth:t}=A.useContext(au),[e,n,r]=jm(t);return n?F.jsx(XN,{}):F.jsxs(F.Fragment,{children:[F.jsx(PK,{}),F.jsx(kK,{})]})}const NK="@firebase/firestore-compat",OK="0.3.32";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new z("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof Uint8Array>"u")throw new z("unimplemented","Uint8Arrays are not available in this environment.")}function MR(){if(!H9())throw new z("unimplemented","Blobs are unavailable in Firestore in this environment.")}let dO=class Ov{constructor(e){this._delegate=e}static fromBase64String(e){return MR(),new Ov(fi.fromBase64String(e))}static fromUint8Array(e){return DR(),new Ov(fi.fromUint8Array(e))}toBase64(){return MR(),this._delegate.toBase64()}toUint8Array(){return DR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t){return DK(t,["next","error","complete"])}function DK(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{enableIndexedDbPersistence(e,n){return bG(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return RG(e._delegate)}clearIndexedDbPersistence(e){return PG(e._delegate)}}class hO{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ms||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&jr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){wG(this._delegate,e,n,r)}enableNetwork(){return CG(this._delegate)}disableNetwork(){return kG(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,CN("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return AG(this._delegate)}onSnapshotsInSync(e){return nH(this._delegate,e)}get app(){if(!this._appCompat)throw new z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dl(this,DN(this._delegate,e))}catch(n){throw bn(n,"collection()","Firestore.collection()")}}doc(e){try{return new wr(this,Rp(this._delegate,e))}catch(n){throw bn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sn(this,IG(this._delegate,e))}catch(n){throw bn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return oH(this._delegate,n=>e(new fO(this,n)))}batch(){return Jt(this._delegate),new pO(new iH(this._delegate,e=>Gd(this._delegate,e)))}loadBundle(e){return xG(this._delegate,e)}namedQuery(e){return NG(this._delegate,e).then(n=>n?new Sn(this,n):null)}}class pg extends II{constructor(e){super(),this.firestore=e}convertBytes(e){return new dO(new fi(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return wr.forKey(n,this.firestore,null)}}function LK(t){p9(t)}class fO{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new pg(e)}get(e){const n=To(e);return this._delegate.get(n).then(r=>new dd(this._firestore,new Vi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=To(e);return r?(RI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=To(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=To(e);return this._delegate.delete(n),this}}class pO{constructor(e){this._delegate=e}set(e,n,r){const i=To(e);return r?(RI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=To(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=To(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ko{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Ec(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Ko.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Ko(e,new pg(e),n),i.set(n,s)),s}}Ko.INSTANCES=new WeakMap;class wr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new pg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wr(n,new mt(n._delegate,r,new K(e)))}static forKey(e,n,r){return new wr(n,new mt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Dl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dl(this.firestore,DN(this._delegate,e))}catch(n){throw bn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=re(e),e instanceof mt?MN(this._delegate,e):!1}set(e,n){n=RI("DocumentReference.set",n);try{return n?ER(this._delegate,e,n):ER(this._delegate,e)}catch(r){throw bn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?TR(this._delegate,e):TR(this._delegate,e,n,...r)}catch(i){throw bn(i,"updateDoc()","DocumentReference.update()")}}delete(){return eH(this._delegate)}onSnapshot(...e){const n=mO(e),r=gO(e,i=>new dd(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Ap(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=QG(this._delegate):(e==null?void 0:e.source)==="server"?n=YG(this._delegate):n=KG(this._delegate),n.then(r=>new dd(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wr(this.firestore,e?this._delegate.withConverter(Ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function bn(t,e,n){return t.message=t.message.replace(e,n),t}function mO(t){for(const e of t)if(typeof e=="object"&&!Dv(e))return e;return{}}function gO(t,e){var n,r;let i;return Dv(t[0])?i=t[0]:Dv(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class dd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new wr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return QN(this._delegate,e._delegate)}}class hd extends dd{data(e){const n=this._delegate.data(e);return this._delegate._converter||m9(n!==void 0),n}}class Sn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new pg(e)}where(e,n,r){try{return new Sn(this.firestore,is(this._delegate,FG(e,n,r)))}catch(i){throw bn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Sn(this.firestore,is(this._delegate,UG(e,n)))}catch(r){throw bn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sn(this.firestore,is(this._delegate,$G(e)))}catch(n){throw bn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Sn(this.firestore,is(this._delegate,BG(e)))}catch(n){throw bn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sn(this.firestore,is(this._delegate,zG(...e)))}catch(n){throw bn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sn(this.firestore,is(this._delegate,jG(...e)))}catch(n){throw bn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sn(this.firestore,is(this._delegate,qG(...e)))}catch(n){throw bn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sn(this.firestore,is(this._delegate,WG(...e)))}catch(n){throw bn(n,"endAt()","Query.endAt()")}}isEqual(e){return uI(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=JG(this._delegate):(e==null?void 0:e.source)==="server"?n=ZG(this._delegate):n=XG(this._delegate),n.then(r=>new Mv(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=mO(e),r=gO(e,i=>new Mv(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Ap(this._delegate,n,r)}withConverter(e){return new Sn(this.firestore,e?this._delegate.withConverter(Ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class VK{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new hd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mv{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new VK(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new hd(this._firestore,r))})}isEqual(e){return QN(this._delegate,e._delegate)}}class Dl extends Sn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wr(this.firestore,e):null}doc(e){try{return e===void 0?new wr(this.firestore,Rp(this._delegate)):new wr(this.firestore,Rp(this._delegate,e))}catch(n){throw bn(n,"doc()","CollectionReference.doc()")}}add(e){return tH(this._delegate,e).then(n=>new wr(this.firestore,n))}isEqual(e){return MN(this._delegate,e._delegate)}withConverter(e){return new Dl(this.firestore,e?this._delegate.withConverter(Ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function To(t){return Ce(t,mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(...e){this._delegate=new Us(...e)}static documentId(){return new PI(ut.keyField().canonicalString())}isEqual(e){return e=re(e),e instanceof Us?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._delegate=e}static serverTimestamp(){const e=lH();return e._methodName="FieldValue.serverTimestamp",new go(e)}static delete(){const e=aH();return e._methodName="FieldValue.delete",new go(e)}static arrayUnion(...e){const n=uH(...e);return n._methodName="FieldValue.arrayUnion",new go(n)}static arrayRemove(...e){const n=cH(...e);return n._methodName="FieldValue.arrayRemove",new go(n)}static increment(e){const n=dH(e);return n._methodName="FieldValue.increment",new go(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK={Firestore:hO,GeoPoint:ng,Timestamp:dt,Blob:dO,Transaction:fO,WriteBatch:pO,DocumentReference:wr,DocumentSnapshot:dd,Query:Sn,QueryDocumentSnapshot:hd,QuerySnapshot:Mv,CollectionReference:Dl,FieldPath:PI,FieldValue:go,setLogLevel:LK,CACHE_SIZE_UNLIMITED:SG};function UK(t,e){t.INTERNAL.registerComponent(new Qn("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},FK)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $K(t){UK(t,(e,n)=>new hO(e,n,new MK)),t.registerVersion(NK,OK)}$K(gi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="firebasestorage.googleapis.com",_O="storageBucket",BK=2*60*1e3,zK=10*60*1e3,jK=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends Ht{constructor(e,n,r=0){super($y(e),`Firebase Storage: ${n} (${$y(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $y(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function $y(t){return"storage/"+t}function AI(){const t="An unknown error occurred, please check the error payload for server response.";return new _t(it.UNKNOWN,t)}function qK(t){return new _t(it.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function WK(t){return new _t(it.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(it.UNAUTHENTICATED,t)}function HK(){return new _t(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KK(t){return new _t(it.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function vO(){return new _t(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wO(){return new _t(it.CANCELED,"User canceled the upload/download.")}function QK(t){return new _t(it.INVALID_URL,"Invalid URL '"+t+"'.")}function YK(t){return new _t(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XK(){return new _t(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_O+"' property when initializing the app?")}function IO(){return new _t(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JK(){return new _t(it.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ZK(){return new _t(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function e8(t){return new _t(it.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function il(t){return new _t(it.INVALID_ARGUMENT,t)}function EO(){return new _t(it.APP_DELETED,"The Firebase app was deleted.")}function TO(t){return new _t(it.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tc(t,e){return new _t(it.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $u(t){throw new _t(it.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yn.makeFromUrl(e,n)}catch{return new yn(e,"")}if(r.path==="")return r;throw YK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),v={bucket:1,path:3},T=n===yO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",w=new RegExp(`^https?://${T}/${i}/${S}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let R=0;R<_.length;R++){const x=_[R],D=x.regex.exec(e);if(D){const I=D[x.indices.bucket];let E=D[x.indices.path];E||(E=""),r=new yn(I,E),x.postModify(r);break}}if(r==null)throw QK(e);return r}}class t8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(g,l())},S)}function p(){s&&clearTimeout(s)}function g(S,...w){if(u){p();return}if(S){p(),d.call(null,S,...w);return}if(l()||o){p(),d.call(null,S,...w);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let v=!1;function T(S){v||(v=!0,p(),!u&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}function r8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(t){return t!==void 0}function s8(t){return typeof t=="function"}function o8(t){return typeof t=="object"&&!Array.isArray(t)}function mg(t){return typeof t=="string"||t instanceof String}function LR(t){return CI()&&t instanceof Blob}function CI(){return typeof Blob<"u"}function Lv(t,e,n,r){if(r<e)throw il(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw il(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function SO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ao||(Ao={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r,i,s,o,a,l,u,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Wh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ao.NO_ERROR,l=s.getStatus();if(!a||bO(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Ao.ABORT;r(!1,new Wh(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Wh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());i8(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=AI();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?EO():wO();o(l)}else{const l=vO();o(l)}};this.canceled_?n(!1,new Wh(!1,null,!0)):this.backoffId_=n8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function l8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function u8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h8(t,e,n,r,i,s,o=!0){const a=SO(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return c8(u,e),l8(u,n),u8(u,s),d8(u,r),new a8(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function p8(...t){const e=f8();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(CI())return new Blob(t);throw new _t(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){if(typeof atob>"u")throw e8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class By{constructor(e,n){this.data=e,this.contentType=n||null}}function RO(t,e){switch(t){case Ir.RAW:return new By(PO(e));case Ir.BASE64:case Ir.BASE64URL:return new By(AO(t,e));case Ir.DATA_URL:return new By(_8(e),v8(e))}throw AI()}function PO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function y8(t){let e;try{e=decodeURIComponent(t)}catch{throw Tc(Ir.DATA_URL,"Malformed data URL.")}return PO(e)}function AO(t,e){switch(t){case Ir.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Tc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Tc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=g8(e)}catch(i){throw i.message.includes("polyfill")?i:Tc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class CO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Tc(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=w8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _8(t){const e=new CO(t);return e.base64?AO(Ir.BASE64,e.rest):y8(e.rest)}function v8(t){return new CO(t).contentType}function w8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){let r=0,i="";LR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(LR(this.data_)){const r=this.data_,i=m8(r,e,n);return i===null?null:new Ei(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ei(r,!0)}}static getBlob(...e){if(CI()){const n=e.map(r=>r instanceof Ei?r.data_:r);return new Ei(p8.apply(null,n))}else{const n=e.map(o=>mg(o)?RO(Ir.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ei(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){let e;try{e=JSON.parse(t)}catch{return null}return o8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E8(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function kO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t,e){return e}class En{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||T8}}let Gh=null;function S8(t){return!mg(t)||t.length<2?t:kO(t)}function gg(){if(Gh)return Gh;const t=[];t.push(new En("bucket")),t.push(new En("generation")),t.push(new En("metageneration")),t.push(new En("name","fullPath",!0));function e(s,o){return S8(o)}const n=new En("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new En("size");return i.xform=r,t.push(i),t.push(new En("timeCreated")),t.push(new En("updated")),t.push(new En("md5Hash",null,!0)),t.push(new En("cacheControl",null,!0)),t.push(new En("contentDisposition",null,!0)),t.push(new En("contentEncoding",null,!0)),t.push(new En("contentLanguage",null,!0)),t.push(new En("contentType",null,!0)),t.push(new En("metadata","customMetadata",!0)),Gh=t,Gh}function b8(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new yn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function R8(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return b8(r,t),r}function xO(t,e,n){const r=kI(e);return r===null?null:R8(t,r,n)}function P8(t,e,n,r){const i=kI(e);if(i===null||!mg(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),g=Ys(p,n,r),v=SO({alt:"media",token:u});return g+v})[0]}function xI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="prefixes",FR="items";function A8(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[VR])for(const i of n[VR]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new yn(e,s));r.prefixes.push(o)}if(n[FR])for(const i of n[FR]){const s=t._makeStorageReference(new yn(e,i.name));r.items.push(s)}return r}function C8(t,e,n){const r=kI(n);return r===null?null:A8(t,e,r)}class Gi{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){if(!t)throw AI()}function yg(t,e){function n(r,i){const s=xO(t,i,e);return di(s!==null),s}return n}function k8(t,e){function n(r,i){const s=C8(t,e,i);return di(s!==null),s}return n}function x8(t,e){function n(r,i){const s=xO(t,i,e);return di(s!==null),P8(s,i,t.host,t._protocol)}return n}function nu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=HK():i=GK():n.getStatus()===402?i=WK(t.bucket):n.getStatus()===403?i=KK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _g(t){const e=nu(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=qK(t.path)),s.serverResponse=i.serverResponse,s}return n}function NO(t,e,n){const r=e.fullServerUrl(),i=Ys(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Gi(i,s,yg(t,n),o);return a.errorHandler=_g(e),a}function N8(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=Ys(o,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,d=new Gi(a,l,k8(t,e.bucket),u);return d.urlParams=s,d.errorHandler=nu(e),d}function O8(t,e,n){const r=e.fullServerUrl(),i=Ys(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Gi(i,s,x8(t,n),o);return a.errorHandler=_g(e),a}function D8(t,e,n,r){const i=e.fullServerUrl(),s=Ys(i,t.host,t._protocol),o="PATCH",a=xI(n,r),l={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,d=new Gi(s,o,yg(t,r),u);return d.headers=l,d.body=a,d.errorHandler=_g(e),d}function M8(t,e){const n=e.fullServerUrl(),r=Ys(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Gi(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=_g(e),a}function L8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function OO(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=L8(null,e)),r}function V8(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let R=0;R<2;R++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=OO(e,r,i),d=xI(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Ei.getBlob(h,r,p);if(g===null)throw IO();const v={name:u.fullPath},T=Ys(s,t.host,t._protocol),S="POST",w=t.maxUploadRetryTime,y=new Gi(T,S,yg(t,n),w);return y.urlParams=v,y.headers=o,y.body=g.uploadData(),y.errorHandler=nu(e),y}class Np{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function NI(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{di(!1)}return di(!!n&&(e||["active"]).indexOf(n)!==-1),n}function F8(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=OO(e,r,i),a={name:o.fullPath},l=Ys(s,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=xI(o,n),p=t.maxUploadRetryTime;function g(T){NI(T);let S;try{S=T.getResponseHeader("X-Goog-Upload-URL")}catch{di(!1)}return di(mg(S)),S}const v=new Gi(l,u,g,p);return v.urlParams=a,v.headers=d,v.body=h,v.errorHandler=nu(e),v}function U8(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const d=NI(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{di(!1)}h||di(!1);const p=Number(h);return di(!isNaN(p)),new Np(p,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Gi(n,o,s,a);return l.headers=i,l.errorHandler=nu(e),l}const UR=256*1024;function $8(t,e,n,r,i,s,o,a){const l=new Np(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw JK();const u=l.total-l.current;let d=u;i>0&&(d=Math.min(d,i));const h=l.current,p=h+d;let g="";d===0?g="finalize":u===d?g="upload, finalize":g="upload";const v={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},T=r.slice(h,p);if(T===null)throw IO();function S(R,x){const D=NI(R,["active","final"]),I=l.current+d,E=r.size();let P;return D==="final"?P=yg(e,s)(R,x):P=null,new Np(I,E,D==="final",P)}const w="POST",y=e.maxUploadRetryTime,_=new Gi(n,w,S,y);return _.headers=v,_.body=T.uploadData(),_.progressCallback=a||null,_.errorHandler=nu(t),_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={STATE_CHANGED:"state_changed"},Rn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zy(t){switch(t){case"running":case"pausing":case"canceling":return Rn.RUNNING;case"paused":return Rn.PAUSED;case"success":return Rn.SUCCESS;case"canceled":return Rn.CANCELED;case"error":return Rn.ERROR;default:return Rn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n,r){if(s8(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class j8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw $u("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class q8 extends j8{initXhr(){this.xhr_.responseType="text"}}function Jr(){return new q8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=gg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(it.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(bO(i.status,[]))if(s)i=vO();else{this.sleepTime=Math.max(this.sleepTime*2,jK),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(it.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=F8(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Jr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=U8(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Jr,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=UR*this._chunkMultiplier,n=new Np(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=$8(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Jr,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){UR*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=NO(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Jr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=V8(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Jr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=wO(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=zy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new z8(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(zy(this._state)){case Rn.SUCCESS:Ea(this._resolve.bind(null,this.snapshot))();break;case Rn.CANCELED:case Rn.ERROR:const n=this._reject;Ea(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(zy(this._state)){case Rn.RUNNING:case Rn.PAUSED:e.next&&Ea(e.next.bind(e,this.snapshot))();break;case Rn.SUCCESS:e.complete&&Ea(e.complete.bind(e))();break;case Rn.CANCELED:case Rn.ERROR:e.error&&Ea(e.error.bind(e,this._error))();break;default:e.error&&Ea(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this._service=e,n instanceof yn?this._location=n:this._location=yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qo(e,n)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kO(this._location.path)}get storage(){return this._service}get parent(){const e=I8(this._location.path);if(e===null)return null;const n=new yn(this._location.bucket,e);return new Qo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw TO(e)}}function W8(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new DO(t,new Ei(e),n)}function G8(t){const e={prefixes:[],items:[]};return MO(t,e).then(()=>e)}async function MO(t,e,n){const i=await LO(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await MO(t,e,i.nextPageToken)}function LO(t,e){e!=null&&typeof e.maxResults=="number"&&Lv("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=N8(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Jr)}function H8(t){t._throwIfRoot("getMetadata");const e=NO(t.storage,t._location,gg());return t.storage.makeRequestWithTokens(e,Jr)}function K8(t,e){t._throwIfRoot("updateMetadata");const n=D8(t.storage,t._location,e,gg());return t.storage.makeRequestWithTokens(n,Jr)}function Q8(t){t._throwIfRoot("getDownloadURL");const e=O8(t.storage,t._location,gg());return t.storage.makeRequestWithTokens(e,Jr).then(n=>{if(n===null)throw ZK();return n})}function Y8(t){t._throwIfRoot("deleteObject");const e=M8(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Jr)}function VO(t,e){const n=E8(t._location.path,e),r=new yn(t._location.bucket,n);return new Qo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){return/^[A-Za-z]+:\/\//.test(t)}function J8(t,e){return new Qo(t,e)}function FO(t,e){if(t instanceof OI){const n=t;if(n._bucket==null)throw XK();const r=new Qo(n,n._bucket);return e!=null?FO(r,e):r}else return e!==void 0?VO(t,e):t}function Z8(t,e){if(e&&X8(e)){if(t instanceof OI)return J8(t,e);throw il("To use ref(service, url), the first argument must be a Storage instance.")}else return FO(t,e)}function $R(t,e){const n=e==null?void 0:e[_O];return n==null?null:yn.makeFromBucketSpec(n,t)}function e7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:YA(i,t.app.options.projectId))}class OI{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=yO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BK,this._maxUploadRetryTime=zK,this._requests=new Set,i!=null?this._bucket=yn.makeFromBucketSpec(i,this._host):this._bucket=$R(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=$R(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new t8(EO());{const o=h8(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const BR="@firebase/storage",zR="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7="storage";function n7(t,e,n){return t=re(t),W8(t,e,n)}function r7(t){return t=re(t),H8(t)}function i7(t,e){return t=re(t),K8(t,e)}function s7(t,e){return t=re(t),LO(t,e)}function o7(t){return t=re(t),G8(t)}function a7(t){return t=re(t),Q8(t)}function l7(t){return t=re(t),Y8(t)}function jR(t,e){return t=re(t),Z8(t,e)}function u7(t,e){return VO(t,e)}function c7(t,e,n,r={}){e7(t,e,n,r)}function d7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new OI(n,r,i,e,Cr)}function h7(){zr(new Qn(t7,d7,"PUBLIC").setMultipleInstances(!0)),An(BR,zR,""),An(BR,zR,"esm2017")}h7();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hh(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Hh(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new Hh(o,this,this._ref)):s={next:n.next?o=>n.next(new Hh(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class WR{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new ki(e,this._service))}get items(){return this._delegate.items.map(e=>new ki(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=u7(this._delegate,e);return new ki(n,this.storage)}get root(){return new ki(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new ki(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new qR(n7(this._delegate,e,n),this)}putString(e,n=Ir.RAW,r){this._throwIfRoot("putString");const i=RO(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new qR(new DO(this._delegate,new Ei(i.data,!0),s),this)}listAll(){return o7(this._delegate).then(e=>new WR(e,this.storage))}list(e){return s7(this._delegate,e||void 0).then(n=>new WR(n,this.storage))}getMetadata(){return r7(this._delegate)}updateMetadata(e){return i7(this._delegate,e)}getDownloadURL(){return a7(this._delegate)}delete(){return this._throwIfRoot("delete"),l7(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw TO(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(GR(e))throw il("ref() expected a child path but got a URL, use refFromURL instead.");return new ki(jR(this._delegate,e),this)}refFromURL(e){if(!GR(e))throw il("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yn.makeFromUrl(e,this._delegate.host)}catch{throw il("refFromUrl() expected a valid full URL but got an invalid one.")}return new ki(jR(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){c7(this._delegate,e,n,r)}}function GR(t){return/^[A-Za-z]+:\/\//.test(t)}const f7="@firebase/storage-compat",p7="0.3.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7="storage-compat";function g7(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new UO(n,r)}function y7(t){const e={TaskState:Rn,TaskEvent:B8,StringFormat:Ir,Storage:UO,Reference:ki};t.INTERNAL.registerComponent(new Qn(m7,g7,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(f7,p7)}y7(gi);const Bu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ta={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function $O(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v7=_7,w7=$O,BO=new mi("auth","Firebase",$O());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Sd("@firebase/auth");function I7(t,...e){Op.logLevel<=ye.WARN&&Op.warn(`Auth (${Cr}): ${t}`,...e)}function Rf(t,...e){Op.logLevel<=ye.ERROR&&Op.error(`Auth (${Cr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw MI(t,...e)}function Bt(t,...e){return MI(t,...e)}function DI(t,e,n){const r=Object.assign(Object.assign({},w7()),{[e]:n});return new mi("auth","Firebase",r).create(e,{appName:t.name})}function Qt(t){return DI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ru(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ln(t,"argument-error"),DI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function MI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BO.create(t,...e)}function W(t,e,...n){if(!t)throw MI(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rf(e),new Error(e)}function qr(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LI(){return HR()==="http:"||HR()==="https:"}function HR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LI()||Y0()||"connection"in navigator)?navigator.onLine:!0}function T7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=XA()||mm()}get(){return E7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=new Hd(3e4,6e4);function Rt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pt(t,e,n,r,i={}){return jO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=qs(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zO.fetch()(qO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function jO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},S7),e);try{const i=new P7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw nc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DI(t,d,u);ln(t,d)}}catch(i){if(i instanceof Ht)throw i;ln(t,"network-request-failed",{message:String(i)})}}async function Hi(t,e,n,r,i={}){const s=await Pt(t,e,n,r,i);return"mfaPendingCredential"in s&&ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function qO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?VI(t.config,i):`${t.config.apiScheme}://${i}`}function R7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bt(this.auth,"network-request-failed")),b7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){return t!==void 0&&t.getResponse!==void 0}function QR(t){return t!==void 0&&t.enterprise!==void 0}class A7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(t){return(await Pt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function k7(t,e){return Pt(t,"GET","/v2/recaptchaConfig",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,e){return Pt(t,"POST","/v1/accounts:delete",e)}async function N7(t,e){return Pt(t,"POST","/v1/accounts:update",e)}async function WO(t,e){return Pt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O7(t,e=!1){const n=re(t),r=await n.getIdToken(e),i=vg(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Sc(jy(i.auth_time)),issuedAtTime:Sc(jy(i.iat)),expirationTime:Sc(jy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jy(t){return Number(t)*1e3}function vg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const i=H0(n);return i?JSON.parse(i):(Rf("Failed to decode base64 JWT payload"),null)}catch(i){return Rf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YR(t){const e=vg(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ht&&D7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function D7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fi(t,WO(n,{idToken:r}));W(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?GO(s.providerUserInfo):[],a=V7(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function L7(t){const e=re(t);await pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GO(t){return t.map(e=>{var{providerId:n}=e,r=Nd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F7(t,e){const n=await jO(t,{},async()=>{const r=qs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=qO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function U7(t,e){return Pt(t,"POST","/v2/accounts:revokeToken",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=YR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await F7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new sl;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new M7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fi(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O7(this,e)}reload(){return L7(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(He(this.auth.app))return Promise.reject(Qt(this.auth));const e=await this.getIdToken();return await Fi(this,x7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:R,isAnonymous:x,providerData:D,stsTokenManager:I}=n;W(_&&I,e,"internal-error");const E=sl.fromJSON(this.name,I);W(typeof _=="string",e,"internal-error"),ss(h,e.name),ss(p,e.name),W(typeof R=="boolean",e,"internal-error"),W(typeof x=="boolean",e,"internal-error"),ss(g,e.name),ss(v,e.name),ss(T,e.name),ss(S,e.name),ss(w,e.name),ss(y,e.name);const P=new Ri({uid:_,auth:e,email:p,emailVerified:R,displayName:h,isAnonymous:x,photoURL:v,phoneNumber:g,tenantId:T,stsTokenManager:E,createdAt:w,lastLoginAt:y});return D&&Array.isArray(D)&&(P.providerData=D.map(C=>Object.assign({},C))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new sl;i.updateFromServerResponse(n);const s=new Ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];W(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?GO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new sl;a.updateFromIdToken(r);const l=new Ri({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Map;function tr(t){qr(t instanceof Function,"Expected a class definition");let e=XR.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HO.type="NONE";const Ml=HO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e,n){return`firebase:${t}:${e}:${n}`}class ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Co(this.userKey,i.apiKey,s),this.fullPersistenceKey=Co("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ol(tr(Ml),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||tr(Ml);const o=Co(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Ri._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ol(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ol(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XO(e))return"Blackberry";if(JO(e))return"Webos";if(FI(e))return"Safari";if((e.includes("chrome/")||QO(e))&&!e.includes("edge/"))return"Chrome";if(Kd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KO(t=ke()){return/firefox\//i.test(t)}function FI(t=ke()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QO(t=ke()){return/crios\//i.test(t)}function YO(t=ke()){return/iemobile/i.test(t)}function Kd(t=ke()){return/android/i.test(t)}function XO(t=ke()){return/blackberry/i.test(t)}function JO(t=ke()){return/webos/i.test(t)}function iu(t=ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $7(t=ke()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function B7(t=ke()){var e;return iu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z7(){return ZA()&&document.documentMode===10}function ZO(t=ke()){return iu(t)||Kd(t)||JO(t)||XO(t)||/windows phone/i.test(t)||YO(t)}function j7(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t,e=[]){let n;switch(t){case"Browser":n=JR(ke());break;case"Worker":n=`${JR(ke())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(t,e={}){return Pt(t,"GET","/v2/passwordPolicy",Rt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=6;class H7{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:G7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZR(this),this.idTokenSubscription=new ZR(this),this.beforeStateQueue=new q7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await WO(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(He(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(He(this.app))return Promise.reject(Qt(this));const n=e?re(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return He(this.app)?Promise.reject(Qt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return He(this.app)?Promise.reject(Qt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W7(this),n=new H7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await U7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&I7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bt(t){return re(t)}class ZR{constructor(e){this.auth=e,this.observer=null,this.addObserver=X0(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q7(t){Qd=t}function UI(t){return Qd.loadJS(t)}function Y7(){return Qd.recaptchaV2Script}function X7(){return Qd.recaptchaEnterpriseScript}function J7(){return Qd.gapiScript}function tD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Z7="recaptcha-enterprise",eQ="NO_RECAPTCHA";class tQ{constructor(e){this.type=Z7,this.auth=bt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{k7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new A7(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;QR(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(eQ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&QR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=X7();l.length!==0&&(l+=a),UI(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function e1(t,e,n,r=!1){const i=new tQ(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function md(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await e1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await e1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function nQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rQ(t,e,n){const r=bt(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=nD(e),{host:o,port:a}=iQ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sQ()}function nD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iQ(t){const e=nD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:t1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:t1(o)}}}function t1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){return Pt(t,"POST","/v1/accounts:resetPassword",Rt(t,e))}async function oQ(t,e){return Pt(t,"POST","/v1/accounts:update",e)}async function aQ(t,e){return Pt(t,"POST","/v1/accounts:signUp",e)}async function lQ(t,e){return Pt(t,"POST","/v1/accounts:update",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uQ(t,e){return Hi(t,"POST","/v1/accounts:signInWithPassword",Rt(t,e))}async function wg(t,e){return Pt(t,"POST","/v1/accounts:sendOobCode",Rt(t,e))}async function cQ(t,e){return wg(t,e)}async function dQ(t,e){return wg(t,e)}async function hQ(t,e){return wg(t,e)}async function fQ(t,e){return wg(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pQ(t,e){return Hi(t,"POST","/v1/accounts:signInWithEmailLink",Rt(t,e))}async function mQ(t,e){return Hi(t,"POST","/v1/accounts:signInWithEmailLink",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends su{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return md(e,n,"signInWithPassword",uQ);case"emailLink":return pQ(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return md(e,r,"signUpPassword",aQ);case"emailLink":return mQ(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xi(t,e){return Hi(t,"POST","/v1/accounts:signInWithIdp",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ="http://localhost";class pi extends su{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nd(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new pi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xi(e,n)}buildRequest(){const e={requestUri:gQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yQ(t,e){return Pt(t,"POST","/v1/accounts:sendVerificationCode",Rt(t,e))}async function _Q(t,e){return Hi(t,"POST","/v1/accounts:signInWithPhoneNumber",Rt(t,e))}async function vQ(t,e){const n=await Hi(t,"POST","/v1/accounts:signInWithPhoneNumber",Rt(t,e));if(n.temporaryProof)throw nc(t,"account-exists-with-different-credential",n);return n}const wQ={USER_NOT_FOUND:"user-not-found"};async function IQ(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Hi(t,"POST","/v1/accounts:signInWithPhoneNumber",Rt(t,n),wQ)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends su{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ko({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ko({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return _Q(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return vQ(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return IQ(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new ko({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TQ(t){const e=za(Ku(t)).link,n=e?za(Ku(e)).deep_link_id:null,r=za(Ku(t)).deep_link_id;return(r?za(Ku(r)).link:null)||r||n||e||t}class Ig{constructor(e){var n,r,i,s,o,a;const l=za(Ku(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=EQ((i=l.mode)!==null&&i!==void 0?i:null);W(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=TQ(e);try{return new Ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.providerId=Xs.PROVIDER_ID}static credential(e,n){return gd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ig.parseLink(n);return W(r,"argument-error"),gd._fromEmailAndCode(e,r.code,r.tenantId)}}Xs.PROVIDER_ID="password";Xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class al extends ou{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),pi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),pi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return al.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return al.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new al(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends ou{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pi._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends ou{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ="http://localhost";class Ll extends su{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return xi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Ll(r,s)}static _create(e,n){return new Ll(e,n)}buildRequest(){return{requestUri:SQ,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ="saml.";class Dp extends Ki{constructor(e){W(e.startsWith(bQ),"argument-error"),super(e)}static credentialFromResult(e){return Dp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Dp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Ll.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Ll._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends ou{constructor(){super("twitter.com")}static credential(e,n){return pi._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){return Hi(t,"POST","/v1/accounts:signUp",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ri._fromIdTokenResponse(e,r,i),o=n1(r);return new Ar({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=n1(r);return new Ar({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function n1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RQ(t){var e;if(He(t.app))return Promise.reject(Qt(t));const n=bt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ar({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await iD(n,{returnSecureToken:!0}),i=await Ar._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Ht{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mp(e,n,r,i)}}function sD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mp._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PQ(t,e){const n=re(t);await Eg(!0,n,e);const{providerUserInfo:r}=await N7(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=oD(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function $I(t,e,n=!1){const r=await Fi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ar._forOperation(t,"link",r)}async function Eg(t,e,n){await pd(e);const r=oD(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";W(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e,n=!1){const{auth:r}=t;if(He(r.app))return Promise.reject(Qt(r));const i="reauthenticate";try{const s=await Fi(t,sD(r,i,e,t),n);W(s.idToken,r,"internal-error");const o=vg(s.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Ar._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e,n=!1){if(He(t.app))return Promise.reject(Qt(t));const r="signIn",i=await sD(t,r,e),s=await Ar._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Tg(t,e){return lD(bt(t),e)}async function uD(t,e){const n=re(t);return await Eg(!1,n,e.providerId),$I(n,e)}async function cD(t,e){return aD(re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AQ(t,e){return Hi(t,"POST","/v1/accounts:signInWithCustomToken",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CQ(t,e){if(He(t.app))return Promise.reject(Qt(t));const n=bt(t),r=await AQ(n,{token:e,returnSecureToken:!0}),i=await Ar._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?BI._fromServerResponse(e,n):"totpInfo"in n?zI._fromServerResponse(e,n):ln(e,"internal-error")}}class BI extends Yd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new BI(n)}}class zI extends Yd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new zI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e,n){var r;W(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t){const e=bt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kQ(t,e,n){const r=bt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Sg(r,i,n),await md(r,i,"getOobCode",dQ)}async function xQ(t,e,n){await rD(re(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jI(t),r})}async function NQ(t,e){await lQ(re(t),{oobCode:e})}async function dD(t,e){const n=re(t),r=await rD(n,{oobCode:e}),i=r.requestType;switch(W(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(r.mfaInfo,n,"internal-error");default:W(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Yd._fromServerResponse(bt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function OQ(t,e){const{data:n}=await dD(re(t),e);return n.email}async function DQ(t,e,n){if(He(t.app))return Promise.reject(Qt(t));const r=bt(t),o=await md(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jI(t),l}),a=await Ar._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function MQ(t,e,n){return He(t.app)?Promise.reject(Qt(t)):Tg(re(t),Xs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LQ(t,e,n){const r=bt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){W(a.handleCodeInApp,r,"argument-error"),a&&Sg(r,o,a)}s(i,n),await md(r,i,"getOobCode",hQ)}function VQ(t,e){const n=Ig.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function FQ(t,e,n){if(He(t.app))return Promise.reject(Qt(t));const r=re(t),i=Xs.credentialWithLink(e,n||fd());return W(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Tg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UQ(t,e){return Pt(t,"POST","/v1/accounts:createAuthUri",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Q(t,e){const n=LI()?fd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await UQ(re(t),r);return i||[]}async function BQ(t,e){const n=re(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Sg(n.auth,i,e);const{email:s}=await cQ(n.auth,i);s!==t.email&&await t.reload()}async function zQ(t,e,n){const r=re(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Sg(r.auth,s,n);const{email:o}=await fQ(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jQ(t,e){return Pt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qQ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=re(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Fi(r,jQ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function WQ(t,e){const n=re(t);return He(n.auth.app)?Promise.reject(Qt(n.auth)):hD(n,e,null)}function GQ(t,e){return hD(re(t),null,e)}async function hD(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Fi(t,oQ(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=vg(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new ll(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new KQ(s,i);case"github.com":return new QQ(s,i);case"google.com":return new YQ(s,i);case"twitter.com":return new XQ(s,i,t.screenName||null);case"custom":case"anonymous":return new ll(s,null);default:return new ll(s,r,i)}}class ll{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class fD extends ll{constructor(e,n,r,i){super(e,n,r),this.username=i}}class KQ extends ll{constructor(e,n){super(e,"facebook.com",n)}}class QQ extends fD{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class YQ extends ll{constructor(e,n){super(e,"google.com",n)}}class XQ extends fD{constructor(e,n,r){super(e,"twitter.com",n,r)}}function JQ(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:HQ(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new So("enroll",e,n)}static _fromMfaPendingCredential(e){return new So("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return So._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return So._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=bt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Yd._fromServerResponse(r,a));W(i.mfaPendingCredential,r,"internal-error");const o=So._fromMfaPendingCredential(i.mfaPendingCredential);return new qI(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await Ar._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return W(n.user,r,"internal-error"),Ar._forOperation(n.user,n.operationType,u);default:ln(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function ZQ(t,e){var n;const r=re(t),i=e;return W(e.customData.operationType,r,"argument-error"),W((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),qI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t,e){return Pt(t,"POST","/v2/accounts/mfaEnrollment:start",Rt(t,e))}function tY(t,e){return Pt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(t,e))}function nY(t,e){return Pt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(t,e))}class WI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Yd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new WI(e)}async getSession(){return So._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Fi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Fi(this.user,nY(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const qy=new WeakMap;function rY(t){const e=re(t);return qy.has(e)||qy.set(e,WI._fromUser(e)),qy.get(e)}const Lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lp,"1"),this.storage.removeItem(Lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(){const t=ke();return FI(t)||iu(t)}const sY=1e3,oY=10;class mD extends pD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iY()&&j7(),this.fallbackToPolling=ZO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);z7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mD.type="LOCAL";const GI=mD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD extends pD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gD.type="SESSION";const Yo=gD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await aY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Xd("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return window}function uY(t){Mt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof Mt().WorkerGlobalScope<"u"&&typeof Mt().importScripts=="function"}async function cY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hY(){return HI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="firebaseLocalStorageDb",fY=1,Vp="firebaseLocalStorage",_D="fbase_key";class Jd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rg(t,e){return t.transaction([Vp],e?"readwrite":"readonly").objectStore(Vp)}function pY(){const t=indexedDB.deleteDatabase(yD);return new Jd(t).toPromise()}function Fv(){const t=indexedDB.open(yD,fY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vp,{keyPath:_D})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vp)?e(r):(r.close(),await pY(),e(await Fv()))})})}async function r1(t,e,n){const r=Rg(t,!0).put({[_D]:e,value:n});return new Jd(r).toPromise()}async function mY(t,e){const n=Rg(t,!1).get(e),r=await new Jd(n).toPromise();return r===void 0?null:r.value}function i1(t,e){const n=Rg(t,!0).delete(e);return new Jd(n).toPromise()}const gY=800,yY=3;class vD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bg._getInstance(hY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cY(),!this.activeServiceWorker)return;this.sender=new lY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fv();return await r1(e,Lp,"1"),await i1(e,Lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rg(i,!1).getAll();return new Jd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vD.type="LOCAL";const yd=vD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(t,e){return Pt(t,"POST","/v2/accounts/mfaSignIn:start",Rt(t,e))}function vY(t,e){return Pt(t,"POST","/v2/accounts/mfaSignIn:finalize",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=500,IY=6e4,Kh=1e12;class EY{constructor(e){this.auth=e,this.counter=Kh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new TY(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Kh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Kh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Kh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class TY{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;W(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=SY(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},IY)},wY))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function SY(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=tD("rcb"),bY=new Hd(3e4,6e4);class RY{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Mt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return W(PY(n),e,"argument-error"),this.shouldResolveImmediately(n)&&KR(Mt().grecaptcha)?Promise.resolve(Mt().grecaptcha):new Promise((r,i)=>{const s=Mt().setTimeout(()=>{i(Bt(e,"network-request-failed"))},bY.get());Mt()[Wy]=()=>{Mt().clearTimeout(s),delete Mt()[Wy];const a=Mt().grecaptcha;if(!a||!KR(a)){i(Bt(e,"internal-error"));return}const l=a.render;a.render=(u,d)=>{const h=l(u,d);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${Y7()}?${qs({onload:Wy,render:"explicit",hl:n})}`;UI(o).catch(()=>{clearTimeout(s),i(Bt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Mt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function PY(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class AY{async load(e){return new EY(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="recaptcha",CY={theme:"light",type:"image"};let kY=class{constructor(e,n,r=Object.assign({},CY)){this.parameters=r,this.type=wD,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bt(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;W(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new AY:new RY,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Mt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(LI()&&!HI(),this.auth,"internal-error"),await xY(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await C7(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function xY(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ko._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function NY(t,e,n){if(He(t.app))return Promise.reject(Qt(t));const r=bt(t),i=await Pg(r,e,re(n));return new KI(i,s=>Tg(r,s))}async function OY(t,e,n){const r=re(t);await Eg(!1,r,"phone");const i=await Pg(r.auth,e,re(n));return new KI(i,s=>uD(r,s))}async function DY(t,e,n){const r=re(t);if(He(r.auth.app))return Promise.reject(Qt(r.auth));const i=await Pg(r.auth,e,re(n));return new KI(i,s=>cD(r,s))}async function Pg(t,e,n){var r;const i=await n.verify();try{W(typeof i=="string",t,"argument-error"),W(n.type===wD,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return W(o.type==="enroll",t,"internal-error"),(await eY(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{W(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return W(a,t,"missing-multi-factor-info"),(await _Y(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await yQ(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function MY(t,e){const n=re(t);if(He(n.auth.app))return Promise.reject(Qt(n.auth));await $I(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo=class Pf{constructor(e){this.providerId=Pf.PROVIDER_ID,this.auth=bt(e)}verifyPhoneNumber(e,n){return Pg(this.auth,e,re(n))}static credential(e,n){return ko._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Pf.credentialFromTaggedObject(n)}static credentialFromError(e){return Pf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?ko._fromTokenResponse(n,r):null}};Xo.PROVIDER_ID="phone";Xo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){return e?tr(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LY(t){return lD(t.auth,new QI(t),t.bypassAuthState)}function VY(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),aD(n,new QI(t),t.bypassAuthState)}async function FY(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),$I(n,new QI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LY;case"linkViaPopup":case"linkViaRedirect":return FY;case"reauthViaPopup":case"reauthViaRedirect":return VY;default:ln(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY=new Hd(2e3,1e4);async function $Y(t,e,n){if(He(t.app))return Promise.reject(Bt(t,"operation-not-supported-in-this-environment"));const r=bt(t);ru(t,e,Ki);const i=oa(r,n);return new Pi(r,"signInViaPopup",e,i).executeNotNull()}async function BY(t,e,n){const r=re(t);if(He(r.auth.app))return Promise.reject(Bt(r.auth,"operation-not-supported-in-this-environment"));ru(r.auth,e,Ki);const i=oa(r.auth,n);return new Pi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function zY(t,e,n){const r=re(t);ru(r.auth,e,Ki);const i=oa(r.auth,n);return new Pi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Pi extends ID{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Pi.currentPopupAction&&Pi.currentPopupAction.cancel(),Pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=Xd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UY.get())};e()}}Pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY="pendingRedirect",bc=new Map;class qY extends ID{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bc.get(this.auth._key());if(!e){try{const r=await WY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bc.set(this.auth._key(),e)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WY(t,e){const n=TD(e),r=ED(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function YI(t,e){return ED(t)._set(TD(e),"true")}function GY(){bc.clear()}function XI(t,e){bc.set(t._key(),e)}function ED(t){return tr(t._redirectPersistence)}function TD(t){return Co(jY,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HY(t,e,n){return KY(t,e,n)}async function KY(t,e,n){if(He(t.app))return Promise.reject(Qt(t));const r=bt(t);ru(t,e,Ki),await r._initializationPromise;const i=oa(r,n);return await YI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function QY(t,e,n){return YY(t,e,n)}async function YY(t,e,n){const r=re(t);if(ru(r.auth,e,Ki),He(r.auth.app))return Promise.reject(Qt(r.auth));await r.auth._initializationPromise;const i=oa(r.auth,n);await YI(i,r.auth);const s=await SD(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function XY(t,e,n){return JY(t,e,n)}async function JY(t,e,n){const r=re(t);ru(r.auth,e,Ki),await r.auth._initializationPromise;const i=oa(r.auth,n);await Eg(!1,r,e.providerId),await YI(i,r.auth);const s=await SD(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function ZY(t,e){return await bt(t)._initializationPromise,Ag(t,e,!1)}async function Ag(t,e,n=!1){if(He(t.app))return Promise.reject(Qt(t));const r=bt(t),i=oa(r,e),o=await new qY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function SD(t){const e=Xd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eX=10*60*1e3;class bD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eX&&this.cachedEventUids.clear(),this.cachedEventUids.has(s1(e))}saveEventToCache(e){this.cachedEventUids.add(s1(e)),this.lastProcessedEventTime=Date.now()}}function s1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e={}){return Pt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rX=/^https?/;async function iX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PD(t);for(const n of e)try{if(sX(n))return}catch{}ln(t,"unauthorized-domain")}function sX(t){const e=fd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rX.test(n))return!1;if(nX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oX=new Hd(3e4,6e4);function o1(){const t=Mt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aX(t){return new Promise((e,n)=>{var r,i,s;function o(){o1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o1(),n(Bt(t,"network-request-failed"))},timeout:oX.get()})}if(!((i=(r=Mt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Mt().gapi)===null||s===void 0)&&s.load)o();else{const a=tD("iframefcb");return Mt()[a]=()=>{gapi.load?o():n(Bt(t,"network-request-failed"))},UI(`${J7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Af=null,e})}let Af=null;function lX(t){return Af=Af||aX(t),Af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX=new Hd(5e3,15e3),cX="__/auth/iframe",dX="emulator/auth/iframe",hX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pX(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?VI(e,dX):`https://${t.config.authDomain}/${cX}`,r={apiKey:e.apiKey,appName:t.name,v:Cr},i=fX.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qs(r).slice(1)}`}async function mX(t){const e=await lX(t),n=Mt().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:pX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hX,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Bt(t,"network-request-failed"),a=Mt().setTimeout(()=>{s(o)},uX.get());function l(){Mt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yX=500,_X=600,vX="_blank",wX="http://localhost";class a1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IX(t,e,n,r=yX,i=_X){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},gX),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ke().toLowerCase();n&&(a=QO(u)?vX:n),KO(u)&&(e=e||wX,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(B7(u)&&a!=="_self")return EX(e||"",a),new a1(null);const h=window.open(e||"",a,d);W(h,t,"popup-blocked");try{h.focus()}catch{}return new a1(h)}function EX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TX="__/auth/handler",SX="emulator/auth/handler",bX=encodeURIComponent("fac");async function Uv(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cr,eventId:i};if(e instanceof Ki){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof ou){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${bX}=${encodeURIComponent(l)}`:"";return`${RX(t)}?${qs(a).slice(1)}${u}`}function RX({config:t}){return t.emulator?VI(t,SX):`https://${t.authDomain}/${TX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="webStorageSupport";class PX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yo,this._completeRedirectFn=Ag,this._overrideRedirectResult=XI}async _openPopup(e,n,r,i){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Uv(e,n,r,fd(),i);return IX(e,o,Xd())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Uv(e,n,r,fd(),i);return uY(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mX(e),r=new bD(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gy,{type:Gy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Gy];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZO()||FI()||iu()}}const AX=PX;class CX{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return si("unexpected MultiFactorSessionType")}}}class JI extends CX{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new JI(e)}_finalizeEnroll(e,n,r){return tY(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return vY(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class AD{constructor(){}static assertion(e){return JI._fromCredential(e)}}AD.FACTOR_ID="phone";var l1="@firebase/auth",u1="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NX(t){zr(new Qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eD(t)},u=new K7(r,i,s,l);return nQ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zr(new Qn("auth-internal",e=>{const n=bt(e.getProvider("auth").getImmediate());return(r=>new kX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(l1,u1,xX(t)),An(l1,u1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OX=5*60;QA("authIdTokenMaxAge");function DX(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Q7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Bt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",DX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NX("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX=2e3;async function LX(t,e,n){var r;const{BuildInfo:i}=Jo();qr(e.sessionId,"AuthEvent did not contain a session ID");const s=await BX(e.sessionId),o={};return iu()?o.ibi=i.packageName:Kd()?o.apn=i.packageName:ln(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Uv(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function VX(t){const{BuildInfo:e}=Jo(),n={};iu()?n.iosBundleId=e.packageName:Kd()?n.androidPackageName=e.packageName:ln(t,"operation-not-supported-in-this-environment"),await PD(t,n)}function FX(t){const{cordova:e}=Jo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,$7()?"_blank":"_system","location=yes"),n(i)})})}async function UX(t,e,n){const{cordova:r}=Jo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var h;s();const p=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Bt(t,"redirect-cancelled-by-user"))},MX))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Kd()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function $X(t){var e,n,r,i,s,o,a,l,u,d;const h=Jo();W(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((l=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((d=(u=h==null?void 0:h.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function BX(t){const e=zX(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function zX(t){if(qr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX=20;class qX extends bD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function WX(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:KX(),postBody:null,tenantId:t.tenantId,error:Bt(t,"no-auth-event")}}function GX(t,e){return $v()._set(Bv(t),e)}async function c1(t){const e=await $v()._get(Bv(t));return e&&await $v()._remove(Bv(t)),e}function HX(t,e){var n,r;const i=YX(e);if(i.includes("/__/auth/callback")){const s=Cf(i),o=s.firebaseError?QX(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Bt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function KX(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<jX;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function $v(){return tr(GI)}function Bv(t){return Co("authEvent",t.config.apiKey,t.name)}function QX(t){try{return JSON.parse(t)}catch{return null}}function YX(t){const e=Cf(t),n=e.link?decodeURIComponent(e.link):void 0,r=Cf(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Cf(i).link||i||r||n||t}function Cf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return za(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX=500;class JX{constructor(){this._redirectPersistence=Yo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ag,this._overrideRedirectResult=XI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new qX(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){$X(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),GY(),await this._originValidation(e);const o=WX(e,r,i);await GX(e,o);const a=await LX(e,o,n),l=await FX(a);return UX(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VX(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Jo(),o=setTimeout(async()=>{await c1(e),n.onEvent(d1())},XX),a=async d=>{clearTimeout(o);const h=await c1(e);let p=null;h&&(d!=null&&d.url)&&(p=HX(h,d.url)),n.onEvent(p||d1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;Jo().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&a({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const ZX=JX;function d1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Bt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(t,e){bt(t)._logFramework(e)}var tJ="@firebase/auth-compat",nJ="0.5.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ=1e3;function Rc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function iJ(){return Rc()==="http:"||Rc()==="https:"}function CD(t=ke()){return!!((Rc()==="file:"||Rc()==="ionic:"||Rc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function sJ(){return mm()||Q0()}function oJ(){return ZA()&&(document==null?void 0:document.documentMode)===11}function aJ(t=ke()){return/Edge\/\d+/.test(t)}function lJ(t=ke()){return oJ()||aJ(t)}function kD(){try{const t=self.localStorage,e=Xd();if(t)return t.setItem(e,"1"),t.removeItem(e),lJ()?Hc():!0}catch{return ZI()&&Hc()}return!1}function ZI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Hy(){return(iJ()||Y0()||CD())&&!sJ()&&kD()&&!ZI()}function xD(){return CD()&&typeof document<"u"}async function uJ(){return xD()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},rJ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function cJ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn={LOCAL:"local",NONE:"none",SESSION:"session"},zu=W,ND="persistence";function dJ(t,e){if(zu(Object.values(Jn).includes(e),t,"invalid-persistence-type"),mm()){zu(e!==Jn.SESSION,t,"unsupported-persistence-type");return}if(Q0()){zu(e===Jn.NONE,t,"unsupported-persistence-type");return}if(ZI()){zu(e===Jn.NONE||e===Jn.LOCAL&&Hc(),t,"unsupported-persistence-type");return}zu(e===Jn.NONE||kD(),t,"unsupported-persistence-type")}async function zv(t){await t._initializationPromise;const e=OD(),n=Co(ND,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function hJ(t,e){const n=OD();if(!n)return[];const r=Co(ND,t,e);switch(n.getItem(r)){case Jn.NONE:return[Ml];case Jn.LOCAL:return[yd,Yo];case Jn.SESSION:return[Yo];default:return[]}}function OD(){var t;try{return((t=cJ())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ=W;class gs{constructor(){this.browserResolver=tr(AX),this.cordovaResolver=tr(ZX),this.underlyingResolver=null,this._redirectPersistence=Yo,this._completeRedirectFn=Ag,this._overrideRedirectResult=XI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fJ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await uJ();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){return t.unwrap()}function pJ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(t){return MD(t)}function gJ(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new yJ(t,ZQ(t,e))}else if(r){const i=MD(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function MD(t){const{_tokenResponse:e}=t instanceof Ht?t.customData:t;if(!e)return null;if(!(t instanceof Ht)&&"temporaryProof"in e&&"phoneNumber"in e)return Xo.credentialFromResult(t);const n=e.providerId;if(!n||n===Bu.PASSWORD)return null;let r;switch(n){case Bu.GOOGLE:r=ei;break;case Bu.FACEBOOK:r=Zr;break;case Bu.GITHUB:r=ti;break;case Bu.TWITTER:r=ni;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Ll._create(n,a):pi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new al(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Ht?r.credentialFromError(t):r.credentialFromResult(t)}function Un(t,e){return e.catch(n=>{throw n instanceof Ht&&gJ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:mJ(n),additionalUserInfo:JQ(n),user:Ai.getOrCreate(i)}})}async function jv(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Un(t,n.confirm(r))}}class yJ{constructor(e,n){this.resolver=n,this.auth=pJ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Un(DD(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._delegate=e,this.multiFactor=rY(e)}static getOrCreate(e){return Ai.USER_MAP.has(e)||Ai.USER_MAP.set(e,new Ai(e)),Ai.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Un(this.auth,uD(this._delegate,e))}async linkWithPhoneNumber(e,n){return jv(this.auth,OY(this._delegate,e,n))}async linkWithPopup(e){return Un(this.auth,zY(this._delegate,e,gs))}async linkWithRedirect(e){return await zv(bt(this.auth)),XY(this._delegate,e,gs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Un(this.auth,cD(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return jv(this.auth,DY(this._delegate,e,n))}reauthenticateWithPopup(e){return Un(this.auth,BY(this._delegate,e,gs))}async reauthenticateWithRedirect(e){return await zv(bt(this.auth)),QY(this._delegate,e,gs)}sendEmailVerification(e){return BQ(this._delegate,e)}async unlink(e){return await PQ(this._delegate,e),this}updateEmail(e){return WQ(this._delegate,e)}updatePassword(e){return GQ(this._delegate,e)}updatePhoneNumber(e){return MY(this._delegate,e)}updateProfile(e){return qQ(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return zQ(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ai.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=W;class qv{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;ju(r,"invalid-api-key",{appName:e.name}),ju(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?gs:void 0;this._delegate=n.initialize({options:{persistence:_J(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(v7),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ai.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){rQ(this._delegate,e,n)}applyActionCode(e){return NQ(this._delegate,e)}checkActionCode(e){return dD(this._delegate,e)}confirmPasswordReset(e,n){return xQ(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Un(this._delegate,DQ(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return $Q(this._delegate,e)}isSignInWithEmailLink(e){return VQ(this._delegate,e)}async getRedirectResult(){ju(Hy(),this._delegate,"operation-not-supported-in-this-environment");const e=await ZY(this._delegate,gs);return e?Un(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){eJ(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=h1(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=h1(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return LQ(this._delegate,e,n)}sendPasswordResetEmail(e,n){return kQ(this._delegate,e,n||void 0)}async setPersistence(e){dJ(this._delegate,e);let n;switch(e){case Jn.SESSION:n=Yo;break;case Jn.LOCAL:n=await tr(yd)._isAvailable()?yd:GI;break;case Jn.NONE:n=Ml;break;default:return ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Un(this._delegate,RQ(this._delegate))}signInWithCredential(e){return Un(this._delegate,Tg(this._delegate,e))}signInWithCustomToken(e){return Un(this._delegate,CQ(this._delegate,e))}signInWithEmailAndPassword(e,n){return Un(this._delegate,MQ(this._delegate,e,n))}signInWithEmailLink(e,n){return Un(this._delegate,FQ(this._delegate,e,n))}signInWithPhoneNumber(e,n){return jv(this._delegate,NY(this._delegate,e,n))}async signInWithPopup(e){return ju(Hy(),this._delegate,"operation-not-supported-in-this-environment"),Un(this._delegate,$Y(this._delegate,e,gs))}async signInWithRedirect(e){return ju(Hy(),this._delegate,"operation-not-supported-in-this-environment"),await zv(this._delegate),HY(this._delegate,e,gs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return OQ(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}qv.Persistence=Jn;function h1(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Ai.getOrCreate(o)),error:e,complete:n}}function _J(t,e){const n=hJ(t,e);if(typeof self<"u"&&!n.includes(yd)&&n.push(yd),typeof window<"u")for(const r of[GI,Yo])n.includes(r)||n.push(r);return n.includes(Ml)||n.push(Ml),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.providerId="phone",this._delegate=new Xo(DD(gi.auth()))}static credential(e,n){return Xo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}eE.PHONE_SIGN_IN_METHOD=Xo.PHONE_SIGN_IN_METHOD;eE.PROVIDER_ID=Xo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vJ=W;class wJ{constructor(e,n,r=gi.app()){var i;vJ((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new kY(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ="auth-compat";function EJ(t){t.INTERNAL.registerComponent(new Qn(IJ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new qv(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ta.EMAIL_SIGNIN,PASSWORD_RESET:Ta.PASSWORD_RESET,RECOVER_EMAIL:Ta.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ta.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ta.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ta.VERIFY_EMAIL}},EmailAuthProvider:Xs,FacebookAuthProvider:Zr,GithubAuthProvider:ti,GoogleAuthProvider:ei,OAuthProvider:al,SAMLAuthProvider:Dp,PhoneAuthProvider:eE,PhoneMultiFactorGenerator:AD,RecaptchaVerifier:wJ,TwitterAuthProvider:ni,Auth:qv,AuthCredential:su,Error:Ht}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(tJ,nJ)}EJ(gi);const TJ={apiKey:cO,authDomain:IK,projectId:EK,storageBucket:TK,messagingSenderId:SK,appId:bK,measurementId:RK},LD=gi.initializeApp(TJ),SJ=LD.auth(),bJ=LD.firestore(),au=A.createContext(null),RJ=Ky.createRoot(document.getElementById("root"));RJ.render(F.jsx(Fr.StrictMode,{children:F.jsx(pK,{children:F.jsx(au.Provider,{value:{firebase:gi,auth:SJ,firestore:bJ},children:F.jsx(xK,{})})})}));
